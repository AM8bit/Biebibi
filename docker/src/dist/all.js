!function(e,t){"function"==typeof define&&define.amd?define([],t):"undefined"!=typeof exports?t():(t(),e.FileSaver={})}(this,function(){"use strict";function f(e,t,o){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){a(n.response,t,o)},n.onerror=function(){console.error("could not download file")},n.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&t.status<=299}function l(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(o)}}var d="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,u=/AppleWebKit/.test(navigator.userAgent),a=d.saveAs||("object"!=typeof window||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(e,t,o){var n=d.URL||d.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener","string"==typeof e?(a.href=e,a.origin===location.origin?l(a):r(a.href)?f(e,t,o):l(a,a.target="_blank")):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){l(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,o){if(t=t||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob((a=e,void 0===(i=o)?i={autoBom:!1}:"object"!=typeof i&&(console.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a),t);else if(r(e))f(e,t,o);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){l(n)})}var a,i}:function(e,t,o,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return f(e,t,o);var a="application/octet-stream"===e.type,i=/constructor/i.test(d.HTMLElement)||d.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||a&&i||u)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=r?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},l.readAsDataURL(e)}else{var c=d.URL||d.webkitURL,s=c.createObjectURL(e);n?n.location=s:location.href=s,n=null,setTimeout(function(){c.revokeObjectURL(s)},4e4)}});d.saveAs=a.saveAs=a,"undefined"!=typeof module&&(module.exports=a)});
!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&(define.amd||define.cmd)?define(t):t()}(function(){var h=document,p=window;if(p.isKeyEventBind||!h.addEventListener)return{};var t=navigator.userAgent,e="windows";/Mac\sOS\sX/i.test(t)&&(e="mac");var l="chrome";void 0!==h.mozFullScreen?l="moz":void 0===h.msHidden&&void 0!==h.hidden||(l="ie");function d(t){if(!h.hasTipsShow){var o=h.documentElement.scrollTop||h.body.scrollTop,s=h.documentElement.scrollLeft||h.body.scrollLeft;t.forEach(function(t){if(t.clientHeight*t.clientWidth!=0){var e=t.getAttribute("accesskey"),i=[];for(var a in c)c[a]&&i.push(a);i.push(e);var n=t.getBoundingClientRect(),r=h.createElement("div");r.className="ui-kbd-tips AK_Tips",r.setAttribute("style","top:"+(n.top+o)+"px;left:"+(n.left+s)+"px;"),r.innerHTML=i.map(function(t){return"<kbd>"+t.replace("Key","")+"</kbd>"}).join("+"),h.body.appendChild(r),r.fromTarget=t}}),h.hasTipsShow=!0,i=setTimeout(function(){u()},3e3)}}var c={windows:"moz"==l?{ctrlKey:!1,altKey:!0,shiftKey:!0}:{ctrlKey:!1,altKey:!0,shiftKey:!1},mac:{ctrlKey:!0,altKey:!0,shiftKey:!1}}[e],i=null,u=function(){clearTimeout(i);var t=h.querySelectorAll(".AK_Tips");[].slice.call(t).forEach(function(t){t.fromTarget&&(t.fromTarget.hasTipsShow=null),h.body.removeChild(t)}),h.hasTipsShow=null};h.addEventListener("keydown",function(i){var t=!1,e=i.target||h.activeElement,a=e.tagName.toLowerCase();("textarea"==a||"input"==a&&0==/checkbox|radio|select|file|button|image|hidden/i.test(e.type))&&(t=!0);var n=h.querySelectorAll("a[accesskey],area[accesskey],button[accesskey],input[accesskey],label[accesskey],legend[accesskey],textarea[accesskey]");if(0!=n.length){var r=[].slice.call(n),o=r.map(function(t){return t.getAttribute("accesskey")}),s=-1;if(o.forEach(function(t,e){if(i.key&&i.key==t||i.keyIdentifier&&parseInt(i.keyIdentifier.toLowerCase().replace("u+",""),16)==parseInt(function(t,e){if(!t)return"";e=e||"x";for(var i,a="",n=0;n<t.length;n+=1)55296<=t.charCodeAt(n)&&t.charCodeAt(n)<=56319?(i=(65536+1024*(Number(t.charCodeAt(n))-55296)+Number(t.charCodeAt(n+1))-56320).toString(16),n+=1):i=t.charCodeAt(n).toString(16),a+=e+i;return a.substr(e.length)}(t),16))return s=e,!1}),0==i.altKey&&0==i.shiftKey&&0==i.ctrlKey){if(t)return;r[s]&&(r[s].focus(),i.preventDefault())}else 0==i.altKey&&1==i.shiftKey&&0==i.ctrlKey?191!=i.keyCode||t||(h.hasTipsShow?u():d(r)):i.altKey==c.altKey&&i.shiftKey==c.shiftKey&&i.ctrlKey==c.ctrlKey&&(-1==s?(i.preventDefault(),h.hasTipsShow?u():d(r)):u(),"ie"==l&&r[s]&&!t&&r[s].click())}}),h.addEventListener("mousedown",function(){u()});var f={37:"left",38:"up",39:"right",40:"down",13:"enter",9:"tab",27:"esc"},m="ui-outline",v={add:function(t){t.className=t.className+" "+m},remove:function(t){t.className&&t.className.split&&(t.className=t.className.split(/\s+/).filter(function(t){if(t!=m)return t}).join(" "))},removeAll:function(){[].slice.call(h.querySelectorAll("."+m)).forEach(function(t){v.remove(t)})},has:function(t){return!(!t.className||!t.className.split)&&0<t.className.split(/\s+/).filter(function(t){if(t==m)return t}).length}};return p.isKeyEvent=!1,h.addEventListener("keydown",function(t){p.isKeyEvent=!0,setTimeout(function(){p.isKeyEvent=!1},100);var e=f[t.keyCode];if(e){var i=h.activeElement;if(i&&!/body/i.test(i.tagName)){if(/^radio|checkbox$/i.test(i.type)&&"enter"==e)return i.click(),void t.preventDefault();var a=null,n=h.querySelectorAll(".ESC");"esc"==e&&n.length&&[].slice.call(n).forEach(function(t){var e=t.id;(a=e&&h.querySelector('a[data-target="'+e+'"],input[data-target="'+e+'"],button[data-target="'+e+'"]'))&&"none"!==t.style.display&&0<t.clientHeight?a.click():t==document.activeElement&&t.click&&t.click()});var r=i.getAttribute("data-focus"),o=i.getAttribute("data-target"),s=null;if((r||o)&&(r?s=h.getElementById(r):o&&(s=h.getElementById(o)),s&&(0!=s.clientWidth||0!=s.clientHeight))){if("tab"==e){v.removeAll();var l=s;return s.getAttribute("tabindex")||(l=s.querySelector("a[href], button:not(:disabled), input:not(:disabled)")),void(l&&l.focus())}if("enter"==e){var d=s.querySelector("."+m);if(d&&r)return t.preventDefault(),void d.click();if(o)return}if("esc"==e)return a=h.querySelector('a[data-target="'+o+'"],input[data-target="'+o+'"]'),void(r?i.blur():a&&0==/ESC/.test(a.className)&&a.click());var c=[].slice.call(s.querySelectorAll("a[href], button:not(:disabled), input:not(:disabled)")),u=-1;0!=c.length&&(c.forEach(function(t,e){r?v.has(t)&&(u=e):i==t&&(u=e),v.remove(t)}),t.preventDefault(),"left"==e||"up"==e?--u<0&&(u=-1):"right"!=e&&"down"!=e||++u>c.length-1&&(u=c.length),c[u]&&(r?v.add(c[u]):c[u].focus()))}}}}),h.addEventListener("mousedown",function(t){var e=t.target;e&&!v.has(e)&&v.removeAll()}),h.addEventListener("click",function(t){var e=t.target,i=h.activeElement,a=e.getAttribute("tabindex")||"-1";e&&e==i&&(/^radio|checkbox$/i.test(i.type)||0<=a)&&0==p.isKeyEvent&&i.blur()}),h.addEventListener("focusin",function(t){var e=t.target;e&&(/^javascript/.test(e.href)&&!e.getAttribute("role")&&e.setAttribute("role","button"),!p.isKeyEvent||"none"==window.getComputedStyle(e).outlineStyle&&v.add(e))}),h.addEventListener("focusout",function(t){var e=t.target;e&&v.remove(e)}),p.isKeyEventBind=!0,{}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&(define.amd||define.cmd)?define(e):t.Follow=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,function(){function t(t,e,i){var a={offsets:{x:0,y:0},position:"4-1",edgeAdjust:!0},n=Object.assign({},a,i||{});if(e){e.style.position="absolute";var r=t.getBoundingClientRect(),o=e.getBoundingClientRect();if(o.width*o.height!=0){var s=e.offsetParent,l=s.getBoundingClientRect();this.element={trigger:t,target:e},this.params=n;var d=window.pageYOffset,c=window.pageXOffset,u=window.innerWidth,h=window.innerHeight,p=n.offsets,f=l.top+d,m=l.left+c;s==document.body&&"static"==window.getComputedStyle(s).position&&(m=f=0),p.x-=m,p.y-=f;var v,g,y=n.position;if("string"!=typeof y&&2==y.length){return v=y[0]+p.x,g=y[1]+p.y,1==n.edgeAdjust&&(v+o.width>u+c&&(v=u+c-o.width-p.x),g+o.height>h+d&&(g=h+d-o.height-p.y)),e.style.left=v+"px",e.style.top=g+"px",e.setAttribute("data-align","3-1"),void this.zIndex()}0==["4-1","1-4","5-7","2-3","2-1","6-8","3-4","4-3","8-6","1-2","7-5","3-2"].some(function(t){return t==y})&&(y=a.position);function b(t){var e="bottom";switch(t){case"1-4":case"5-7":case"2-3":e="top";break;case"2-1":case"6-8":case"3-4":e="right";break;case"1-2":case"8-6":case"4-3":e="left";break;case"4-1":case"7-5":case"3-2":e="bottom"}return e}function w(t){return"5-7"===t||"6-8"===t||"8-6"===t||"7-5"===t}function E(t){return{left:o.width+p.x>r.left-c,top:o.height+p.y>r.top-d,right:r.right+o.width+p.x>u+c,bottom:r.bottom+o.height+p.y>h+d}[t]||!1}var L=b(y);if(n.edgeAdjust&&E(L))if(w(y)){y={"5-7":"7-5","7-5":"5-7","6-8":"8-6","8-6":"6-8"}[y]}else{var A={top:{left:"3-2",right:"4-1"},right:{bottom:"1-2",top:"4-3"},bottom:{left:"2-3",right:"1-4"},left:{bottom:"2-1",top:"3-4"}}[L],x=Object.keys(A);y=!E(x[0])||E(x[1])?A[x[0]]:A[x[1]]}var S=b(y),j=y.split("-")[0];switch(S){case"top":g=r.top-o.height+d,v="1"==j?r.left:"5"===j?r.left-(o.width-r.width)/2:r.left-(o.width-r.width),v+=c;break;case"right":v=r.right+c,g="2"==j?r.top:"6"===j?r.top-(o.height-r.height)/2:r.top-(o.height-r.height),g+=d;break;case"bottom":g=r.bottom+d,v="4"==j?r.left:"7"===j?r.left-(o.width-r.width)/2:r.left-(o.width-r.width),v+=c;break;case"left":v=r.left-o.width+c,g="1"==j?r.top:"8"==j?r.top-(o.height-r.height)/2:r.top-(o.height-r.height),g+=d}n.edgeAdjust&&w(y)&&("7-5"==y||"5-7"==y?v-c<.5*u?v-c<0&&(v=c):v-c+o.width>u&&(v=u+c-o.width):g-d<.5*h?g-d<0&&(g=d):g-d+o.height>h&&(g=h+d-o.height)),"top"==S||"left"==S?(v-=p.x,g-=p.y):(v+=p.x,g+=p.y),e.style.left=Math.round(v)+"px",e.style.top=Math.round(g)+"px",e.setAttribute("data-align",y),e.setAttribute("data-direction",S),this.zIndex()}}}return t.prototype.zIndex=function(){var a=this.element.target,t=window.getComputedStyle(a).zIndex,n=19;document.body.childNodes.forEach(function(t){if(1==t.nodeType){var e=window.getComputedStyle(t),i=+e.zIndex;i&&a!=t&&"none"!=e.display&&(n=Math.max(1+i,n))}}),n!=t&&(a.style.zIndex=n)},t}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&(define.amd||define.cmd)?define(e):t.Tab=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,function(){function t(t,e){var i=t;if(i){"string"==typeof t&&(i=document.querySelectorAll(t)),"function"==typeof(e=e||{})&&(e={onSwitch:e});var a=Object.assign({},{eventType:"click",index:"auto",history:!0,slide:!1,onSwitch:function(){}},e),n=a.index,r=[];i.forEach(function(t,e){"number"!=typeof n&&t.classList.contains(p)&&(n=e),t.setAttribute("data-index",e),t.setAttribute("role","tab"),t.setAttribute("aria-selected","false");var i=this.getPanel(t);r.push(i),i&&i.setAttribute("role","tabpanel")}.bind(this)),"number"!=typeof n&&(n=0),this.element={tabs:i,tab:i[n],panels:r,panel:r[n]},a.index=n,this.params=a,this.callback={switch:a.onSwitch},this.events(),window.addEventListener("DOMContentLoaded",function(){i[n].dispatchEvent(new CustomEvent(a.eventType)),a.onSwitch.call(this,i[n],r[n],null,null)}.bind(this)),1<i.length&&i[0].parentElement==i[1].parentElement&&i[0].parentElement.setAttribute("role","tablist")}}var p="active",f=function(){return["ui-tab"].concat([].slice.call(arguments)).join("-")};return t.prototype.getPanel=function(t){var e=(t=t||this.element.tab).getAttribute("data-rel")||t.getAttribute("href");return e?/^#/.test(e)?document.querySelector(e):document.querySelector("#"+e)||document.querySelector("."+e):null},t.prototype.show=function(t){var e=this.index,i=this.element.tabs,a=this.params;if(t=t||this.element.tab){var n=this.getPanel(t),r=t.parentElement;this.element.tab=t,this.element.panel=n;var o=t.getAttribute("href");if(!t.classList.contains(p)){e=r.querySelector("."+p).getAttribute("data-index"),t.classList.add(p);var s,l=i[e],d=this.getPanel(l);if(l.classList.remove(p),n.classList.add(p),d.classList.remove(p),e=t.getAttribute("data-index"),this.params.index=+e,1==a.slide&&history.pushState&&((s=r.querySelector("."+f("line")))||((s=document.createElement("i")).className=f("line"),r.insertBefore(s,i[0])),s.style.display="block",s.style.width=t.clientWidth+"px",s.style.left=t.offsetLeft+"px"),this.callback.switch.call(this,t,l,n,d),/^(:?javas|#)/.test(o)){var c=(t.getAttribute("data-rel")||o||"").replace(/^#/,"");if(1==a.history){var u=new URLSearchParams(location.search);u.set("tab",c);var h=location.hash;o==h&&(location.hash=h=""),history.replaceState?history.replaceState(null,document.title,location.href.split("?")[0]+"?"+u.toString()+h):location.replace("#tab="+c)}}}}},t.prototype.events=function(){var t=this.element.tabs,e=this.params;t.forEach(function(t){t.addEventListener(e.eventType,function(t){/^(:?javas|#)/.test(t.target.getAttribute("href"))&&t.preventDefault(),this.show(t.target)}.bind(this),!1)}.bind(this))},t}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&(define.amd||define.cmd)?define(e):t.Select=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,function(){function t(t){if(!t)return this;var e=t;if(!e.data||!e.data.select){var i=e.style.width||e.getAttribute("width");i=i||e.offsetWidth,this.offsetWidth=i;var a=e.id;a=a?"lulu_"+a:("lulu_"+Math.random()).replace("0.",""),this.id=a;var n="string"==typeof e.getAttribute("multiple");this.multiple=n;var r=document.createElement("div");r.setAttribute("role","combobox");var o=document.createElement("a");e[v]||o.setAttribute("href","javascript:"),o.setAttribute("data-target",a),o.setAttribute("role","button"),o.setAttribute("aria-expanded","false"),o.setAttribute("aria-owns",a),o.classList.add(b.add("button"));var s=document.createElement("div");s.id=a,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.classList.add(b.add("datalist")),0==n?(r.appendChild(o),r.appendChild(s),e.style.display="none",e.insertAdjacentElement("afterend",r)):(r.appendChild(s),e.style.position="absolute",e.style.zIndex=1,e.insertAdjacentElement("afterend",r),s.setAttribute("aria-hidden","true")),this.element={select:e,combobox:r,button:o,datalist:s},this.refresh(),this.events(),e.data?e.data.select=this:e.data={select:this}}}var i="select",m="selected",v="disabled",g="active",y="reverse",b={add:function(){return["ui",i].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-"+i}};t.prototype.events=function(){var c=this.element,u=c.select,h=c.combobox,p=c.button,f=c.datalist;if(0==this.multiple){document.isSelectMouseEvent||(document.addEventListener("click",function(t){var e=t.target;if(e&&e.closest&&(h=e.closest("."+b),(u=h&&h.previousElementSibling)&&u.data&&u.data.select))if(c=u.data.select.element,p=c.button,f=c.datalist,p.contains(e)){if(u[v])return!1;if(h.classList.toggle(g),h.classList.contains(g)){var i=f.getBoundingClientRect().bottom+window.pageYOffset>Math.max(document.body.clientHeight,window.innerHeight);h.classList[i?"add":"remove"](y),p.setAttribute("aria-expanded","true");var a=h.dataScrollTop,n=f.querySelector("."+m);a&&a[1]==n.getAttribute("data-index")&&a[2]==n.innerText&&(f.scrollTop=a[0],delete h.dataScrollTop)}else h.classList.remove(y),p.setAttribute("aria-expanded","false")}else if(f.contains(e)){var r=e,o=null,s=r.classList.contains(v),l=r.getAttribute("data-index"),d=f.scrollTop;h.dataScrollTop=[d,l,r.innerText],0==s&&(o=u[l])&&(o[m]=!0),h.classList.remove(g),p.setAttribute("aria-expanded","false"),p.focus(),p.blur(),0==s&&(u.refresh(),u.dispatchEvent(new CustomEvent("change",{bubbles:!0})))}}),document.addEventListener("mouseup",function(t){var e=t.target;e&&(h=document.querySelector(i+"+."+b+"."+g))&&0==h.contains(e)&&(h.classList.remove(g),h.classList.remove(y))}),document.isSelectMouseEvent=!0);function e(){u[v]?p.removeAttribute("href"):p.href="javascript:"}if(window.MutationObserver)new MutationObserver(function(t){t.forEach(function(t){"attributes"==t.type&&e()})}).observe(u,{attributes:!0,attributeFilter:[v]});else u.addEventListener("DOMAttrModified",function(t){t.attrName==v&&e()})}else u.addEventListener("change",function(){this.refresh()}.bind(this)),u.addEventListener("scroll",function(){f.scrollTop=u.scrollTop}),u.addEventListener("mousedown",function(){u.setAttribute("data-active","true")}),u.addEventListener("mousemove",function(t){if(u.getAttribute("data-active"))this.refresh();else for(var e=t.clientY,i=f.querySelectorAll("a"),a=0;a<i.length;a++){var n=i[a];n.removeAttribute("href");var r=n.getBoundingClientRect().top,o=r+n.clientHeight;if(r<=e&&e<=o){0==n.classList.contains(m)&&0==n.classList.contains(v)&&(n.href="javascript:");break}}}.bind(this)),u.addEventListener("mouseout",function(){f.querySelectorAll("a[href]").forEach(function(t){t.removeAttribute("href")})}),document.addEventListener("mouseup",function(){u.removeAttribute("data-active")})},t.prototype.getData=function(){var t=this.element.select.querySelectorAll("option");return 0==t.length?[{html:""}]:[].slice.call(t).map(function(t){return{html:t.innerHTML,value:t.value,selected:t.selected,disabled:t.disabled,className:t.className}})},t.prototype.refresh=function(t){var a=this.id,n=this.multiple,e=this.element,i=e.select,r=e.combobox,o=e.button,s=e.datalist;t=t||this.getData(),r.className=(i.className+" "+b).trim();var l,d=this.offsetWidth;return/\D$/.test(d)?r.style.width=d:r.style.width=d+"px",n?r.style.height=i.style.height||i.offsetHeight+"px":o.innerHTML='<span class="'+b.add("text")+'">'+(l="",t.forEach(function(t){t.selected&&(l=t.html)}),l||t[0].html)+'</span><i class="'+b.add("icon")+'" aria-hidden="true"></i>',s.innerHTML=t.map(function(t,e){var i=[b.add("datalist","li"),t.className];return t[m]&&i.push(m),t[v]&&i.push(v),n?'<a class="'+i.join(" ")+'" data-index='+e+">"+t.html+"</a>":"<a "+(t[v]?"":'href="javascript:" ')+'class="'+i.join(" ")+'" data-index='+e+' data-target="'+a+'" role="option" aria-selected="'+t[m]+'">'+t.html+"</a>"}).join(""),this},t.prototype.remove=function(){var t=this.element.combobox;t&&t.remove()},Object.defineProperty(HTMLSelectElement.prototype,"value",{configurable:!0,enumerable:!0,writeable:!0,get:function(){var e=[];return this.querySelectorAll("option").forEach(function(t){1==t[m]&&e.push(t.value)}),e.join()},set:function(e){var i=!1,a="string"==typeof this.getAttribute("multiple");e=a?e.split(","):[e.toString()],this.querySelectorAll("option").forEach(function(t){0==a&&1==i||(-1!=e.indexOf(t.value)?t[m]=i=!0:a&&(t[m]=!1))}),1==i&&this.refresh()}}),HTMLSelectElement.prototype.refresh=function(){this.data&&this.data.select?this.data.select.refresh():new t(this)};var o=function(){if(!1!==window.autoInit&&(document.querySelectorAll("select").forEach(function(t){"1"!=window.getComputedStyle(t).opacity&&t.refresh()}),!1!==window.watching)){var a=function(t,e){if(1==t.nodeType)if("SELECT"==t.tagName)"remove"==e?t.data&&t.data.select?t.data.select[e]():t.parentNode.removeChild(t):t[e]();else if("OPTION"==t.tagName){var i=t.parentElement;i?i.data&&i.data.select&&setTimeout(function(){i.refresh()},16):this.target&&"SELECT"==this.target.tagName&&this.target.refresh()}else"refresh"==e&&(o.flag=!1,t.querySelectorAll("select").forEach(function(t){a(t,e)}),o.flag=!0)};if(window.MutationObserver){new MutationObserver(function(t){!1!==o.flag&&!1!==window.watching&&t.forEach(function(e){var t=e.addedNodes,i=e.removedNodes;t.length&&t.forEach(function(t){a.call(e,t,"refresh")}),i.length&&i.forEach(function(t){a.call(e,t,"remove")})})}).observe(document.body,{childList:!0,subtree:!0})}else{function e(t,e,i){!1!==o.flag&&!1!==window.watching&&1==t.nodeType&&(clearTimeout(r),"SELECT"==t.tagName?n.push({action:e,node:t}):"OPTION"!=t.tagName||0!=n.length&&0!=n[n.length-1].node.contains(t)||n.push({action:"refresh",node:i.relatedNode||t}),r=setTimeout(function(){o.flag=!1,n.forEach(function(t){a(t.node,t.action)}),o.flag=!0,n=[]},16))}var n=[],r=null;document.body.addEventListener("DOMNodeInserted",function(t){e(t.target,"refresh",t)}),document.body.addEventListener("DOMNodeRemoved",function(t){e(t.target,"remove",t)})}}};return"loading"!=document.readyState?o():window.addEventListener("DOMContentLoaded",o),t}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?(this.Follow=require("./Follow"),module.exports=e()):"function"==typeof define&&(define.amd||define.cmd)?define(e):t.Drop=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,function(t){var i=this.Follow;if("function"!=typeof t||i){if(!i)return window.console.error("need Follow.js"),{}}else i=t("common/ui/Follow");function e(t,e,i){return this.init(t,e,i),this}return e.prototype.init=function(t,e,i){"string"==typeof t&&(t=document.querySelector(t)),"string"==typeof e&&(e=document.querySelector(e)),"object"==typeof e&&"number"!=typeof e.nodeType&&(i=e,e=null);var a=Object.assign({},{eventType:"null",offsets:{x:0,y:0},position:"7-5",selector:"",edgeAdjust:!0,onShow:function(){},onHide:function(){}},i||{});return this.element={trigger:t,target:e},this.callback={show:a.onShow,hide:a.onHide},this.params={eventType:a.eventType,offsets:a.offsets,position:a.position,selector:a.selector,edgeAdjust:a.edgeAdjust},this.display=!1,e&&t?(this.events(),t.data||(t.data={}),t.data.drop=this):this},e.prototype.events=function(){function i(t){if(!n.selector)return null;var e=t.closest(n.selector);return 0==a.contains(e)?null:e}var a=this.element.trigger,t=this.element.target,n=this.params;switch(n.eventType){case"null":this.show();break;case"hover":var r,o;a.addEventListener("mouseover",function(t){if(t.relatedTarget!==t.target){var e=i(t.target);e&&(this.element.trigger=e),n.selector&&!e||(r=setTimeout(function(){this.show()}.bind(this),150),clearTimeout(o))}}.bind(this)),a.addEventListener("mouseleave",function(){clearTimeout(r),o=setTimeout(function(){this.hide()}.bind(this),200)}.bind(this)),t.isBindDropHover||(t.addEventListener("mouseenter",function(){clearTimeout(o)}),t.addEventListener("mouseleave",function(){o=setTimeout(function(){this.hide()}.bind(this),100)}.bind(this)),t.isBindDropHover=!0),a.addEventListener("click",function(t){if(window.isKeyEvent){t.preventDefault();var e=i(t.target);e&&(this.element.trigger=e),n.selector&&!e||(0==this.display?this.show():this.hide())}}.bind(this));break;case"click":case"contextmenu":a.addEventListener(n.eventType,function(t){t.preventDefault();var e=i(t.target);if(e&&(this.element.trigger=e),!n.selector||e){if("contextmenu"==n.eventType)return n.position=[t.pageX,t.pageY],void this.show();0==this.display?this.show():this.hide()}}.bind(this))}document.addEventListener("click",function(t){var e=t&&t.target;if(e&&1==this.display){var i=this.element.trigger,a=this.element.target;a&&i&&0==i.contains(e)&&0==a.contains(e)&&this.hide()}}.bind(this)),window.addEventListener("resize",function(){this.follow()}.bind(this))},e.prototype.follow=function(){var t=this.element.trigger,e=this.element.target;return 1==this.display&&"none"!=window.getComputedStyle(t).display&&new i(t,e,{offsets:this.params.offsets,position:this.params.position,edgeAdjust:this.params.edgeAdjust}),this},e.prototype.show=function(){var t=this.element.trigger,e=this.element.target;e&&0==document.body.contains(e)&&document.body.appendChild(e),this.display=!0,e.style.position="absolute",e.style.display="inline",e.classList.add("ESC");var i=e.id;return i||(i=("lulu_"+Math.random()).replace("0.",""),e.id=i),t.setAttribute("data-target",i),t.setAttribute("aria-expanded","true"),this.follow(),"function"==typeof this.callback.show&&this.callback.show.call(this,t,e),this},e.prototype.hide=function(){var t=this.element.trigger,e=this.element.target;return e.style.display="none",e.classList.remove("ESC"),t.setAttribute("aria-expanded","false"),window.isKeyEvent&&t.focus(),this.display=!1,"function"==typeof this.callback.hide&&this.callback.hide.call(this,t,e),this},e.prototype.list=function(d,i,a){if([].slice.call(arguments).forEach(function(t){var e=typeof t;"string"==e?d=document.querySelector(t):"function"==e?i=t:"object"==e&&("number"==typeof t.nodeType?d=t:t.map?i=t:a=t)}),d&&"number"!=typeof d.nodeType&&(d=null),!(d=d||this.element.trigger)||!i)return this;if(d.data&&d.data.drop)return d.data.drop;var c=Object.assign({},{eventType:"click",offsets:{x:0,y:0},position:"4-1",selector:"",width:"",onShow:function(){},onHide:function(){},onSelect:function(){}},a||{}),h="selected",p="disabled",f=function(){return["ui-droplist"].concat([].slice.call(arguments)).join("-")},u="innerHTML";d.matches("input")&&(u="value");var t=this.data=i;"function"==typeof i&&(t=i());var m="-1",n=!1,v=document.createElement("div");v.setAttribute("role","listbox"),v.setAttribute("tabindex","-1"),/^\d+$/.test(c.width)?v.style.width=c.width+"px":v.style.width=c.width,v.className=f("x");var r=function(t,a){t&&t.length&&t.forEach(function(t,e){var i=a.concat(e);t&&t.data?r(t.data,i):(t&&t[h]&&!t[p]&&t.value&&(d[u]=t.value,m=i.join("-")),t&&t[h]&&(n=!0))})};r(t,[]);var o=(d[u]||"").trim();0==n&&o&&(r=function(t,a){t&&t.length&&t.forEach(function(t,e){var i=a.concat(e);t&&t.data?r(t.data,i):"string"==typeof t.value&&t.value.trim()==o&&(m=i.join("-"),t[h]=!0)})})(t,[]);return this.init(d,v,{eventType:c.eventType,offsets:c.offsets,selector:c.selector,position:c.position,onShow:function(){(function(t,e){"function"==typeof e&&(e=e()),e&&0!=e.length||(e=[{value:"没有数据",disabled:!0}]);var i,c,u=e.some(function(t){return t&&t[h]});t.innerHTML=(i="",i+=(c=function(t,l){var d="";return t.forEach(function(t,e){if("-"!=t&&null!==t&&"{}"!=JSON.stringify(t)){var i=l.concat(e),a=t.href||"javascript:",n="";t.target&&(n=' target="'+t.target+'"');var r=f("li");t[h]&&(r=r+" "+h);var o="";t.data&&(o=" data-sublist");var s="";t.label&&(s=' aria-label="'+t.label+'"'),0==u&&m==i.join("-")&&(t[h]=!0),1!=t[p]?(d+='<a href="'+a+'"'+n+s+' class="'+r+'" data-index="'+i.join("-")+'" role="option" aria-selected="'+(t[h]||"false")+'" '+o+">"+t.value+"</a>",t.data&&(d+='<div class="'+f("xx")+'"><div class="'+f("x")+'" role="listbox">'+c(t.data,i)+"</div></div>")):d+='<span class="'+r+'"'+s+">"+t.value+"</span>"}else d+='<hr class="'+f("hr")+'">'}),d})(e,[])),t.listData=e}).call(this,v,this.data),c.onShow.apply(this,arguments)},onHide:c.onHide}),v.addEventListener("click",function(t){if(1==t.target.nodeType&&t.target.closest){var e=t.target.closest("a");if(e){var i=v.listData,a=e.getAttribute("data-index");if(a){var n=null;if(a.split("-").forEach(function(t){n=null===n?i[t]:n.data?n.data[t]:n[t]}),n){if("string"==typeof e.getAttribute("data-sublist")){e.classList.add(h);var r=e.nextElementSibling.querySelector("."+f("x"));if(!r)return;var o=r.getBoundingClientRect();o.right>window.innerWidth?r.classList.add("reverse"):r.classList.remove("reverse");var s=0;return o.bottom>window.innerHeight&&(s=window.innerHeight-o.bottom),r.style.msTransform="translateY("+s+"px)",void(r.style.transform="translateY("+s+"px)")}if(a!=m){var l=null;"-1"!=m&&(m.split("-").forEach(function(t){l=null===l?i[t]:l.data?l.data[t]:l[t]}),l&&delete l[h]),n[h]=!0,m=a}c.onSelect.call(this,n,e),"contextmenu"==c.eventType||""!=c.selector||n.href||(d[u]=n.value),this.hide()}}}}}.bind(this)),v.addEventListener("mouseover",function(t){if(1==t.target.nodeType&&t.target.closest){var e=t.target.closest("a");if(e){var i=e.parentElement.querySelector("."+h+"[data-sublist]");i&&i!=e&&i.classList.remove(h),0==e.classList.contains(h)&&"string"==typeof e.getAttribute("data-sublist")&&e.click()}}}),this},e.prototype.panel=function(t,e){if(2===arguments.length?(t=t,e=e):1===arguments.length&&(e=t,t=null),"string"==typeof t&&(t=document.querySelector(t)),!(t=t||this.element.trigger))return this;if(t.data&&t.data.drop)return t.data.drop;var i=Object.assign({},{title:"",content:"",buttons:[{},{}],width:"auto",eventType:"click",selector:"",offsets:{x:0,y:0},position:"4-1",onShow:function(){},onHide:function(){}},e||{}),s={add:function(){return["ui-dropanel"].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-dropanel"}},a=document.createElement("div");a.className=s.add("x"),/^\d+$/.test(i.width)?a.style.width=i.width+"px":/^\d+\D+$/.test(i.width)&&(a.style.width=i.width);var n=document.createElement("h5");n.className=s.add("title"),n.innerHTML=i.title;var r=document.createElement("button");r.setAttribute("aria-label","关闭"),r.innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"><path d="M116.152,99.999l36.482-36.486c2.881-2.881,2.881-7.54,0-10.42 l-5.215-5.215c-2.871-2.881-7.539-2.881-10.42,0l-36.484,36.484L64.031,47.877c-2.881-2.881-7.549-2.881-10.43,0l-5.205,5.215 c-2.881,2.881-2.881,7.54,0,10.42l36.482,36.486l-36.482,36.482c-2.881,2.881-2.881,7.549,0,10.43l5.205,5.215 c2.881,2.871,7.549,2.871,10.43,0l36.484-36.488L137,152.126c2.881,2.871,7.549,2.871,10.42,0l5.215-5.215 c2.881-2.881,2.881-7.549,0-10.43L116.152,99.999z"/></svg>',r.className=s.add("close");var o=document.createElement("content");o.className=s.add("content"),o.innerHTML=i.content;var l=document.createElement("div");return l.className=s.add("footer"),a.appendChild(n),a.appendChild(r),a.appendChild(o),a.appendChild(l),this.init(t,a,{eventType:i.eventType,offsets:i.offsets,selector:i.selector,position:i.position,onShow:i.onShow,onHide:i.onHide}),Object.assign(this.element,{panel:a,title:n,close:r,content:o,footer:l}),r.addEventListener("click",function(){this.hide()}.bind(this),!1),i.buttons.forEach(function(t,e){var i=(t=t||{}).type||"";i||0!=e||(i="danger");var a=t.value;a=a||["确定","取消"][e];var n=t.events||{click:function(){this.hide()}.bind(this)};"function"==typeof n&&(n={click:n});var r=null;for(var o in t.for?((r=document.createElement("label")).setAttribute("for",t.for),r.setAttribute("role","button")):(r=document.createElement("button"),this.element["button"+e]=r),r.innerHTML=a,r.className=String(s).replace("dropanel","button")+" "+s.add("button")+" "+(t.className||""),i&&r.setAttribute("data-type",i),this.element["button"+e]=r,n)r.addEventListener(o,function(t){t.drop=this,n[o](t)}.bind(this),!1);this.element.footer.appendChild(r)}.bind(this)),this},e}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?(t.Follow=require("./Follow"),module.exports=e()):"function"==typeof define&&(define.amd||define.cmd)?define(e):t.Tips=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,function(t){var c=this.Follow;if("function"!=typeof t||c){if(!c)return window.console.error("need Follow.js"),{}}else c=t("common/ui/Follow");var u={add:function(){return["ui-tips"].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-tips"}},h="reverse",n=function(t,e){if(!t)return this;var i=t;if("string"==typeof t&&0==(i=document.querySelectorAll(t)).length)return this;if(i.data&&i.data.tips)return i.data.tips;if(i.length&&i.forEach)return i.forEach(function(t){new n(t,e)}),i[0].data.tips;var a=Object.assign({},{eventType:"hover",align:"auto",content:"",onShow:function(){},onHide:function(){}},e||{});return this.element={trigger:i},this.callback={show:a.onShow,hide:a.onHide},this.params={eventType:a.eventType,align:a.align},a.content&&(this.content=a.content),this.events(),i.data||(i.data={}),i.data.tips=this};return Object.defineProperty(n.prototype,"content",{configurable:!0,enumerable:!0,writeable:!0,get:function(){var t=this.element&&this.element.trigger;if(!t)return"";var e=t.getAttribute("title")||t.getAttribute("data-title")||"";return t.setAttribute("data-title",e),t.setAttribute("aria-label",e),t.removeAttribute("title"),e},set:function(t){var e=this.element&&this.element.trigger;e&&(e.setAttribute("data-title",t),e.setAttribute("aria-label",t))}}),n.prototype.events=function(){var i=this.element.trigger;if(0==/^a|input|button|area$/i.test(i.tagName)&&(i.setAttribute("tabindex","0"),i.setAttribute("role","tooltip")),i.classList.contains(u))return this.content,void i.addEventListener("click",function(){window.isKeyEvent||this.blur()},!1);var t,e=this.params;getComputedStyle(document.documentElement).getPropertyValue("--hoverNone")&&"hover"==e.eventType&&(e.eventType="click"),"hover"==e.eventType?(i.addEventListener("mouseenter",function(){t=setTimeout(function(){this.show()}.bind(this),100)}.bind(this)),i.addEventListener("mouseleave",function(){clearTimeout(t),this.hide()}.bind(this)),i.addEventListener("focus",function(){window.isKeyEvent&&this.show()}.bind(this)),i.addEventListener("blur",function(){this.hide()}.bind(this))):"click"==e.eventType?(i.addEventListener("click",function(){this.show()}.bind(this)),document.addEventListener("mouseup",function(t){var e=t.target;1==this.display&&0==i.contains(e)&&0==this.element.tips.contains(e)&&this.hide()}.bind(this))):this.show()},n.prototype.show=function(){var t=this.content;if(!t)return this;var e,i,a=this.element.trigger,n=this.element.tips;if(n)n.style.display="block",e=n.querySelector("span"),(i=n.querySelector("i")).style.left="",e.innerHTML=t;else{if((n=document.createElement("div")).classList.add(u.add("x")),(e=document.createElement("span")).classList.add(u.add("content")),e.innerHTML=t,(i=document.createElement("i")).classList.add(u.add("arrow")),!a.getAttribute("aria-label")){var r="lulu_"+(Math.random()+"").replace("0.","");e.id=r,a.setAttribute("aria-labelledby",r)}n.appendChild(e),n.appendChild(i),document.body.appendChild(n)}var o="5-7",s=this.params.align;"auto"==s&&(s=a.getAttribute("data-align")||a.getAttribute("data-position")||"center"),"center"==s?(o="5-7",a.classList.contains(h)&&(o="7-5")):"left"==s?(o="1-4",a.classList.contains(h)&&(o="4-1")):"right"==s?(o="2-3",a.classList.contains(h)&&(o="3-2")):/^\d-\d$/.test(s)&&(o=s),new c(a,n,{position:o,edgeAdjust:!1});var l=n.getAttribute("data-align");if(l&&5==l.split("-").reduce(function(t,e){return+t+ +e})){var d=a.getBoundingClientRect().width/2-i.getBoundingClientRect().width/2;i.style.left="1-4"==l||"4-1"==l?d+"px":"calc(100% - "+(i.getBoundingClientRect().width+d)+"px)"}return this.callback.show.call(this,a,n),this.element.tips=n,this.display=!0,this},n.prototype.hide=function(){var t=this.element.tips;return t&&(t.style.display="none",this.callback.hide.call(this,this.element.trigger,t)),this.display=!1,this},window.addEventListener("DOMContentLoaded",function(){new n("."+u+", .jsTips")}),document.addEventListener("mouseover",function(t){var e=t.target;if(e&&e.closest&&(e=e.closest("."+u+", .jsTips"))&&(!e.data||!e.data.tips)){new n(e);var i=e.data.tips;i&&e.classList.contains("jsTips")&&i.show()}}),n}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&(define.amd||define.cmd)?define(e):t.LightTip=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,function(){function t(t,e){"object"==typeof t&&(e=t,t=void 0),this.params=Object.assign({},{status:"normal",duration:3e3},e||{}),this.params.type&&(this.params.status=this.params.type);var i=document.createElement("a");i.href="javascript:",i.setAttribute("role","tooltip"),i.className=n+" ESC";var a=document.createElement("div");a.className=n.add("text"),i.appendChild(a),document.body.appendChild(i),this.element={container:i,content:a},this.timerRemove=null,this.events(),this.content=t,this.show()}var n={add:function(){return["ui-lightip"].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-lightip"}};return t.prototype.events=function(){this.element.container.addEventListener("click",function(){this.remove()}.bind(this))},t.prototype.tabIndex=function(){var t=this.element.container,e=this.lastActiveElement;if(1==this.display){var i=document.activeElement;t!==i&&(this.lastActiveElement=i),t.focus()}else e&&!e.matches("body")&&(e.focus({preventScroll:!0}),window.isKeyEvent||e.blur(),this.lastActiveElement=null);return this},t.prototype.show=function(){var t=this.element,e=t.container,i=t.content,a=this.params,n=this.content;if(n)return clearTimeout(this.timerRemove),e.setAttribute("data-status",a.status),a.type&&e.setAttribute("data-type",a.type),i.innerHTML=n,e.setAttribute("open","open"),this.display=!0,this.tabIndex(),this.zIndex(),this.timerRemove=setTimeout(function(){this.remove()}.bind(this),a.duration),this},t.prototype.remove=function(){var t=this.element.container;t&&t.remove&&(clearTimeout(this.timerRemove),t.remove()),this.display=!1,this.tabIndex()},t.prototype.hide=function(){var t=this.element.container;t&&(clearTimeout(this.timerRemove),t.removeAttribute("open")),this.display=!1,this.tabIndex()},t.prototype.success=function(t,e){return"function"==typeof t&&(t=t()),"string"==typeof t?this.content=t:"number"==typeof t&&(e=t),this.params.status="success",e&&(this.params.duration=e),this.element.container&&this.element.container.setAttribute("aria-label","操作成功"),this.show(),this},t.prototype.error=function(t,e){return"function"==typeof t&&(t=t()),"string"==typeof t?this.content=t:"number"==typeof t&&(e=t),this.params.status="error",e&&(this.params.duration=e),this.element.container&&this.element.container.setAttribute("aria-label","操作失败"),this.show(),this},t.prototype.zIndex=function(){var a=this.element.container,t=window.getComputedStyle(a).zIndex,n=19;document.body.childNodes.forEach(function(t){if(1==t.nodeType){var e=window.getComputedStyle(t),i=+e.zIndex;i&&a!=t&&"none"!=e.display&&(n=Math.max(1+i,n))}}),n!=t&&(a.style.zIndex=n)},t}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?(t.Follow=require("./Follow"),module.exports=e()):"function"==typeof define&&(define.amd||define.cmd)?define(e):t.ErrorTip=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,function(t){var n=this.Follow;if("function"!=typeof t||n){if(!n)return window.console.error("need Follow.js"),{}}else n=t("common/ui/Follow");function e(t,e,i){var a=Object.assign({},{unique:!0,onShow:function(){},onHide:function(){}},i||{}),n=e;if("function"==typeof n&&(n=n()),"string"!=typeof n)return this;var r,o,s,l=t,d=window.uniqueErrorTip;return 1==a.unique&&d?r=d.element.tips:0==a.unique&&l.data&&l.data.errorTip?r=l.data.errorTip.element.tips:((r=document.createElement("div")).className=c("x")+" "+c("error"),(o=document.createElement("span")).className=c("content"),(s=document.createElement("i")).className=c("arrow"),r.appendChild(o),r.appendChild(s),document.body.appendChild(r),document.addEventListener("keydown",function(t){16!=t.keyCode&&17!=t.keyCode&&(window.uniqueErrorTip||this).hide()}.bind(this)),document.addEventListener("mousedown",function(t){var e=document.activeElement,i=r.trigger,a=t.target;e&&i&&e==a&&e==i&&!i.getAttribute("data-focus")||(window.uniqueErrorTip||this).hide()}.bind(this)),window.addEventListener("resize",function(){(window.uniqueErrorTip||this).hide()}.bind(this))),1==a.unique&&(window.uniqueErrorTip=this),r.trigger=l,this.element={trigger:l,tips:r,content:o||r.querySelector("span"),arrow:s||r.querySelector("i")},this.callback={show:a.onShow,hide:a.onHide},this.params={unique:a.unique},this.content=n,l.data||(l.data={}),(l.data.errorTip=this).show(),this}var c=function(){return["ui-tips"].concat([].slice.call(arguments)).join("-")};return e.prototype.show=function(){var t=this.element,e=t.tips,i=t.trigger,a=t.content;return a.innerHTML=this.content,e.style.display="",new n(i,e,{position:"5-7",edgeAdjust:!1}),i.setAttribute("aria-label","错误提示："+a.textContent||a.innerText),i.classList.add("error"),i.classList.add("valided"),this.display=!0,this.callback&&this.callback.show&&this.callback.show.call(this,i,e),this},e.prototype.hide=function(){var t=this.element.tips,e=this.element.trigger;return e.removeAttribute("aria-label"),"none"!=window.getComputedStyle(t).display&&(t.style.display="none",e.classList.remove("error"),this.callback&&this.callback.hide&&this.callback.hide.call(this,e,t),this.display=!1),this},e}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&(define.amd||define.cmd)?define(e):t.Loading=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,function(){var i="loading",a={add:function(){return["ui",i].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-"+i}};if(Object.defineProperty(HTMLElement.prototype,"loading",{configurable:!0,enumerable:!0,writeable:!0,get:function(){return!!(this.classList.contains(a)||this.classList.contains(i)||this.matches(a))},set:function(t){var e="remove";if(t&&(e="add",this.loading))return t;this.classList.contains(a.toString().replace(i,"button"))?this.classList[e](i):(this.classList[e](a),"function"==typeof n&&n(this)),this.setAttribute("aria-busy",!!t),t&&""==this.innerHTML.trim()?this.setAttribute("aria-label","正在加载中"):this.removeAttribute("aria-label")}}),void 0===window.getComputedStyle(document.head).transition){var n=function(e){var i;if(e)if(1==e.loading){if(!e.getAttribute("spin")){(i=document.createElement("i")).className=a.add("before"),e.insertAdjacentElement("afterbegin",i),e.setAttribute("spin",""),clearInterval(e.timerLoading);e.timerLoading=setInterval(function(){var t=e.rotate||0;360<(t+=22.5)&&(t-=360),e.rotate=t,i.style.msTransform="rotate("+t+"deg)"},62.5)}}else!1===e.loading&&(e.removeAttribute("spin"),(i=e.querySelector("."+a.add("before")))&&i.remove(),clearInterval(e.timerLoading))};window.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(a).forEach(n)}),document.body.addEventListener("DOMNodeInserted",function(t){t.target&&1==t.target.nodeType&&t.target.matches(a)&&n(t.target)})}function t(t,e){if("string"==typeof t&&(t=document.querySelector(t)),!t)return this;var i=t,a=Object.assign({},{observer:"childList",size:2},e||{});this.params=a,this.element={target:t},i.data||(i.data={}),(i.data.loading=this).show()}return t.prototype.show=function(){var t=this.params,e=this.element.target;if("attributes"==t.observer)e.loading=!0,e.setAttribute("size",t.size),this.loading=!0,this.display=!0;else if("childList"==t.observer){"static"==window.getComputedStyle(e).position?(e.style&&e.style.position?this.position="static-inline":this.position="static-computed",e.style.position="relative"):this.position="",e.initHTML=e.innerHTML,e.innerHTML="<"+a+' size="'+t.size+' align="center"></'+a+">",this.loading=!0,this.display=!0}},t.prototype.hide=function(){var t=this.params,e=this.element.target;if("attributes"==t.observer)e.loading=!1,this.loading=!1,this.display=!1;else if("childList"==t.observer){var i=this.position;"static-inline"==i?e.style.position="static":"static-computed"==i&&(e.style.position=""),"string"==typeof e.initHTML?e.innerHTML=e.initHTML:e.querySelector(a)&&e.querySelector(a).remove(),this.loading=!1,this.display=!1}},t}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?(t.Tips=require("./Tips"),module.exports=e()):"function"==typeof define&&(define.amd||define.cmd)?define(e):t.Range=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,function(t){var c=window.Tips;if("function"!=typeof t||c){if(!c)return window.console.error("need Tips.js"),{}}else c=t("common/ui/Tips");var h="reverse",u="active",p="disabled",f={add:function(){return["ui","range"].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-range"}},m={start:"mousedown",move:"mousemove",end:"mouseup"};"ontouchstart"in document&&(m={start:"touchstart",move:"touchmove",end:"touchend"});function n(t,e){e=e||{};var i=Object.assign({},{reverse:!1,tips:function(t){return t}},e),a=t;if("string"==typeof t&&(a=document.querySelector(t)),!a)return this;if(a.data&&a.data.range)return a.data.range;var n=a.getAttribute("min")||0,r=a.getAttribute("max")||100,o=a.getAttribute("step")||1,s=document.createElement("div"),l=a.className;s.setAttribute("class",l),s.classList.add(f);var d=document.createElement("div");d.classList.add(f.add("track"));var c=document.createElement("a");c.setAttribute("href","javascript:"),c.setAttribute("aria-valuenow",a.value),c.setAttribute("aria-valuemax",r),c.setAttribute("aria-valuemin",n),c.setAttribute("role","slider"),c.setAttribute("draggable","false"),c.classList.add(f.add("thumb")),(i.reverse||a.classList.contains(h))&&(i.reverse=!0,c.classList.add(h));var u=a.getAttribute("data-tips");return u&&!e.tips&&(i.tips="null"==u?null:function(t){return u.replace("${value}",t)}),a.insertAdjacentElement("afterend",s),"100%"!=a.getAttribute("width")&&0==a.parentElement.classList.contains(f.add("input"))?s.style.width=window.getComputedStyle(a).width:s.style.display="block",s.style.height=window.getComputedStyle(a).height,a.style.display="none",d.appendChild(c),s.appendChild(d),this.number={min:+n,max:+r,step:+o},this.element={input:a,container:s,track:d,thumb:c},this.params=i,this.value(),this.event(),1==a[p]&&(this.disabled=!0),a.data||(a.data={}),a.data.range=this}n.prototype.event=function(){var t=this.element,e=this.number,n=t.input,r=t.container,o=t.thumb,s=e.min,l=e.max,i=e.step;r.addEventListener("click",function(t){var e=t&&t.target;if(e&&e!==o&&!n.disabled){var i=t.clientX-n.offsetLeft-o.offsetLeft-parseInt(window.getComputedStyle(o).width)/2,a=+n.value+(l-s)*i/parseInt(r.style.width||r.clientWidth);this.value(a)}}.bind(this));function a(){if(this.params.tips){var t=this.params.tips.call(o,n.value);this.tips?(this.tips.content=t,this.tips.show()):this.tips=new c(o,{eventType:"null",content:t})}}var d={};(o.addEventListener(m.start,function(t){n.disabled||(t.preventDefault(),t.touches&&t.touches.length&&(t=t.touches[0]),d.x=t.clientX,d.value=+n.value,a.call(this),o.classList.add(u))}.bind(this)),"mousedown"==m.start&&(o.addEventListener("mouseenter",function(){0==o.classList.contains(u)&&a.call(this)}.bind(this)),o.addEventListener("mouseout",function(){0==o.classList.contains(u)&&this.tips&&this.tips.hide()}.bind(this))),document.addEventListener(m.move,function(t){if("number"==typeof d.x&&o.classList.contains(u)){t.preventDefault(),t.touches&&t.touches.length&&(t=t.touches[0]);var e=t.clientX-d.x,i=d.value+(l-s)*e/parseInt(r.style.width||r.clientWidth);this.value(i),this.tips&&(this.tips.content=this.params.tips.call(o,n.value),this.tips.show())}}.bind(this)),document.addEventListener(m.end,function(){o.classList.contains(u)&&(d.x=null,d.value=null,this.tips&&this.tips.hide(),o.classList.remove(u))}.bind(this)),o.addEventListener("keydown",function(t){if(!n.disabled){var e=+n.value;37!=t.keyCode&&39!=t.keyCode||(t.preventDefault(),37==t.keyCode?e=Math.max(s,e-i):39==t.keyCode&&(e=Math.min(l,e+ +i)),this.value(e))}}.bind(this)),"block"==r.style.display&&window.addEventListener("resize",function(){this.position()}.bind(this)),window.MutationObserver)?new MutationObserver(function(t){t.forEach(function(t){"attributes"==t.type&&(this[p]=n[p])}.bind(this))}.bind(this)).observe(n,{attributes:!0,attributeFilter:[p]}):n.addEventListener("DOMAttrModified",function(t){t.attrName==p&&(this[p]=n[p])}.bind(this))},n.prototype.value=function(t){var e=this.element.input,i=e.value,a=this.number,n=a.max,r=a.min,o=a.step;return t||0===t||(i=t,t=e.value||Math.floor(r/2+n/2)),t=n<t||n-t<o/2?n:""===t||t<r||t-r<o/2?r:r+Math.round((t-r)/o)*o,e.value=t,this.position(),t!==i&&e.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this},n.prototype.position=function(){var t=this.element.input,e=this.element.container,i=this.number,a=t.value,n=i.max,r=i.min;return this.element.track.style.borderLeftWidth=parseInt(e.style.width||e.clientWidth)*(a-r)/(n-r)+"px",this.element.thumb.setAttribute("aria-valuenow",a),this},Object.defineProperty(n.prototype,p,{configurable:!0,enumerable:!0,writeable:!0,get:function(){return this.element.input[p]},set:function(t){var e=this.element,i=e.container,a=e.thumb;if(t)return i.classList.add(f.add(p)),void a.removeAttribute("href");i.classList.remove(f.add(p)),a.setAttribute("href","javascript:")}});function e(){if(!1!==window.autoInit){var i='input[type="range"]',t=document.createElement("input");if(t.setAttribute("type","range"),"range"!=t.getAttribute("type")&&(i="input."+f.add("input")+",."+f.add("input")+">input"),document.querySelectorAll(i).forEach(function(t){t.data&&t.data.range||"hidden"!=window.getComputedStyle(t).visibility||new n(t)}),!1!==window.watching){function a(t,e){1==t.nodeType&&t.matches(i)&&("remove"==e&&t.data&&t.data.range?t.data.range.element.container.remove():"hidden"==window.getComputedStyle(t).visibility&&"add"==e&&new n(t))}if(window.MutationObserver)new MutationObserver(function(t){t.forEach(function(e){var t=e.addedNodes,i=e.removedNodes;t.length&&t.forEach(function(t){a(t,"add")}),i.length&&i.forEach(function(t){a.call(e,t,"remove")})})}).observe(document.body,{childList:!0,subtree:!0});else document.body.addEventListener("DOMNodeInserted",function(t){a(t.target,"add")}),document.body.addEventListener("DOMNodeRemoved",function(t){a(t.target,"remove")})}}}return"loading"!=document.readyState?e():window.addEventListener("DOMContentLoaded",e),n}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?(t.Drop=require("./Drop"),module.exports=e()):"function"==typeof define&&(define.amd||define.cmd)?define(e):t.Color=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,function(t){var r=this.Drop;if("function"!=typeof t||r){if(!r)return window.console.error("need Drop.js"),{}}else r=t("common/ui/Drop");var c=function(){return["ui-color"].concat([].slice.call(arguments)).join("-")},e={start:"mousedown",move:"mousemove",end:"mouseup"};"ontouchstart"in document&&(e={start:"touchstart",move:"touchmove",end:"touchend"});function o(t,e,i){var a,n,r;if(0==e)a=n=r=i;else{function o(t,e,i){return i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}var s=i<.5?i*(1+e):i+e-i*e,l=2*i-s;a=o(l,s,t+1/3),n=o(l,s,t),r=o(l,s,t-1/3)}return[Math.round(255*a),Math.round(255*n),Math.round(255*r)].map(function(t){return 1==(t=t.toString(16)).length?"0"+t:t}).join("")}function y(t){if(!t)return u;var e;if(t=t.replace("#","").toLowerCase(),/^[0-9A-F]{1,6}$/i.test(t))return"#"+t.repeat(Math.ceil(6/t.length)).slice(0,6);function i(t){return("0"+parseInt(t,10).toString(16)).slice(-2)}return 4==(e=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)/i)).length?"#"+i(e[1])+i(e[2])+i(e[3]):u}function n(t,e){var i=Object.assign({},{offsets:{x:0,y:0},edgeAdjust:!1,position:"7-5",onShow:function(){},onHide:function(){}},e||{});if("string"==typeof t&&(t=document.querySelector(t)),t){var a=t;if(a.data&&a.data.color)return a.data.color;var n=a.id;n||(n="lulu_"+(Math.random()+"").split(".")[1],a.id=n),a.setAttribute("readonly","readonly"),a.addEventListener("click",function(t){t.preventDefault()}),"color"==a.type&&window.msCredentials&&a.addEventListener("focus",function(t){this.blur()});var r=document.createElement("label");r.setAttribute("for",n),r.classList.add(c("track"));var o=document.createElement("span");o.classList.add(c("thumb")),r.appendChild(o),a.insertAdjacentElement("beforebegin",r);var s=document.createElement("div");s.classList.add(c("container")),this.element={input:a,container:s,track:r,thumb:o},this.callback={show:i.onShow,hide:i.onHide},this.params={offsets:i.offsets,edgeAdjust:i.edgeAdjust,position:i.position};var l=["0","3","6","9","c","f"],d=l.concat("eb4646","1cad70","2a80eb","f59b00");return this.color={basic:l,fixed:d},this.initEvents(),this.value(a.value),a.data&&(a.data={}),a.data.color=this}}var b="active",w="background-color",u="#000000";n.prototype.initEvents=function(){var t=this.element,e=t.input,i=t.track,a=t.container,n=this.params;this.drop=new r(e,a,{eventType:"click",offsets:n.offsets,edgeAdjust:n.edgeAdjust,position:n.position,onShow:function(){if(this.show(),0==n.edgeAdjust){var t=a.getBoundingClientRect();t.left<3?a.style.left="3px":3<t.right-screen.width&&(a.style.left=screen.width-t.width-3+"px")}}.bind(this),onHide:function(){this.hide(),a.style.marginLeft=0}.bind(this)}),e.addEventListener("focus",function(){window.isKeyEvent&&i.classList.add("ui-outline")}),e.addEventListener("blur",function(){i.classList.remove("ui-outline")})},n.prototype.events=function(){var h=this.element,t=h.container,p=h.circle,f=h.fill,m=h.arrow,v=h.field;t.addEventListener("click",function(t){var e=t.target;if(e.matches&&e.matches("a, button")){var i="",a=e.className;if(/cancel/.test(a))this.hide();else if(/ensure/.test(a))(i=v.value)&&this.value("#"+i),this.hide();else if(/lump/.test(a))i=e.getAttribute("data-color"),v.value=i,this.match();else if(/switch/.test(a))"更多"==e.innerHTML?(h.more.style.display="block",h.basic.style.display="none",e.innerHTML="基本"):(h.more.style.display="none",h.basic.style.display="block",e.innerHTML="更多"),this.match();else if(/cover/.test(a)){var n,r,o=e.getBoundingClientRect(),s=t.pageX-o.left,l=t.pageY-window.pageYOffset-o.top,d=e.clientWidth,c=e.clientHeight;if(p&&f&&m){if(1==/white/.test(a)){n=s/d,r=1-l/c,p.style.left=s+"px",p.style.top=l+"px";var u="hsl("+[360*n,100*r+"%","50%"].join()+")";p.style[w]=u}else m.style.top=l+"px";v.value=this.getValueByStyle().replace("#",""),this.match()}}}}.bind(this)),v.addEventListener("input",function(){var t=this.value;/^[0-9A-F]{6}$/i.test(t)?this.match():/^[0-9A-F]{3}$/i.test(t)&&this.match(y("#"+t).replace("#",""))}.bind(this)),v.addEventListener("keyup",function(t){if(13==t.keyCode){var e=v.value,i=e;e&&((e=$.rgbToHex("#"+e))!=i&&(v.value=e),this.value("#"+e)),this.hide()}}.bind(this));var l={},d={};return m.addEventListener(e.start,function(t){t.preventDefault(),t.touches&&t.touches.length&&(t=t.touches[0]),l.pageY=t.pageY,l.top=parseFloat(window.getComputedStyle(m).top)}),p.addEventListener(e.start,function(t){t.preventDefault(),t.touches&&t.touches.length&&(t=t.touches[0]),d.pageY=t.pageY,d.pageX=t.pageX;var e=window.getComputedStyle(p);d.top=parseFloat(e.top),d.left=parseFloat(e.left)}),document.addEventListener(e.move,function(t){if("number"==typeof l.top){t.preventDefault(),t.touches&&t.touches.length&&(t=t.touches[0]);var e=l.top+(t.pageY-l.pageY),i=m.parentElement.clientHeight;e<0?e=0:i<e&&(e=i),m.style.top=e+"px",v.value=this.getValueByStyle().replace("#",""),this.match(!1)}else if("number"==typeof d.top){t.preventDefault(),t.touches&&t.touches.length&&(t=t.touches[0]);var a={top:d.top+(t.pageY-d.pageY),left:d.left+(t.pageX-d.pageX)},n={top:p.parentElement.clientHeight,left:p.parentElement.clientWidth};a.left<0?a.left=0:a.left>n.left&&(a.left=n.left),a.top<0?a.top=0:a.top>n.top&&(a.top=n.top);var r=a.left/n.left,o=1-a.top/n.top;p.style.left=a.left+"px",p.style.top=a.top+"px";var s="hsl("+[360*r,100*o+"%","50%"].join()+")";p.style[w]=s,v.value=this.getValueByStyle().replace("#",""),this.match(!1)}}.bind(this),{passive:!1}),document.addEventListener(e.end,function(){l.top=null,d.top=null}),f.parentElement.querySelectorAll("a").forEach(function(t){t.addEventListener("keydown",function(t){if(38==t.keyCode||40==t.keyCode){t.preventDefault();var e=parseFloat(window.getComputedStyle(m).top),i=f.clientHeight;38==t.keyCode?--e<0&&(e=0):i<++e&&(e=i);var a=m.getAttribute("aria-label");m.style.top=e+"px",m.setAttribute("aria-label",a.replace(/\d+/,Math.round(100*e/i))),v.value=this.getValueByStyle().replace("#",""),this.match(!1)}}.bind(this))}.bind(this)),p.parentElement.querySelectorAll("a").forEach(function(d){d.addEventListener("keydown",function(t){if(37<=t.keyCode&&t.keyCode<=40){t.preventDefault();var e=window.getComputedStyle(p),i=parseFloat(e.top),a=parseFloat(e.left),n=d.clientHeight,r=d.clientWidth;38==t.keyCode?--i<0&&(i=0):40==t.keyCode?n<++i&&(i=n):37==t.keyCode?--a<0&&(a=0):39==t.keyCode&&r<++a&&(a=r);var o=a/r,s=1-i/n;p.style.left=a+"px",p.style.top=i+"px";var l="hsl("+[360*o,100*s+"%","50%"].join()+")";p.style[w]=l,v.value=this.getValueByStyle().replace("#",""),this.match()}}.bind(this))}.bind(this)),this},n.prototype.create=function(){var n,t,e,i=this.element.container,a='<button class="'+c("switch")+'" role="button">更多</button>',r='<div class="'+c("current")+'">            <i class="'+c("current","square")+' colorCurrent"></i>            #<input class="'+c("current","input")+'">        </div>',o=this.color.basic,s=this.color.fixed,l='<div class="'+c("body")+'">'+(t='<div class="'+c("basic")+' colorBasicX" role="listbox">',e=(localStorage.commonColors||"").split(","),(t=(t=t+'<aside class="'+c("basic","l")+'">'+s.concat(e[0]||"0ff",e[1]||"800180").map(function(t){var e=y(t).replace("#","");return'<a href="javascript:" class="'+c("lump")+'" data-color="'+e+'" aria-label="'+e+'" style="'+w+":#"+e+'" role="option"></a>'}).join("")+"</aside>")+'<div class="'+c("basic","r")+'">'+(n="",o.forEach(function(a){n+='<div class="'+c("lump","group")+'">',o.forEach(function(i){o.forEach(function(t){var e=a+a+i+i+t+t;n=n+'<a href="javascript:" class="'+c("lump")+'" data-color="'+e+'" style="'+w+":#"+e+'" aria-label="'+e+'" role="option"></a>'})}),n+="</div>"}),n)+"</div>")+"</div>")+('<div class="'+c("more")+' colorMoreX">'+'<div class="'+c("more","l")+'">                <a href="javascript:" class="'+c("cover","white")+'" aria-label="色域背景块" role="region"></a><div class="'+c("circle")+' colorCircle"></div>                <svg>                    <defs>                        <linearGradient x1="0" y1="0" x2="1" y2="0" id="colorGradient">                            <stop offset="0%" stop-color="#ff0000"></stop>                            <stop offset="16.66%" stop-color="#ffff00"></stop>                            <stop offset="33.33%" stop-color="#00ff00"></stop>                            <stop offset="50%" stop-color="#00ffff"></stop>                            <stop offset="66.66%" stop-color="#0000ff"></stop>                            <stop offset="83.33%" stop-color="#ff00ff"></stop>                            <stop offset="100%" stop-color="#ff0000"></stop>                        </linearGradient>                    </defs>                    <rect x="0" y="0" width="180" height="100" fill="url(#colorGradient)"></rect>                </svg></div><div class="'+c("more","r")+'">                    <div class="'+c("more","fill")+' colorFill">                        <a href="javascript:" class="'+c("more","cover")+'" aria-label="明度控制背景条" role="region"></a>                        <svg>                        <defs>                            <linearGradient x1="0" y1="0" x2="0" y2="1" id="colorGradient2">                                <stop offset="0%" stop-color="#ffffff"></stop>                                <stop offset="50%" stop-color="rgba(255,255,255,0)"></stop>                                <stop offset="50%" stop-color="rgba(0,0,0,0)"></stop>                                <stop offset="100%" stop-color="'+u+'"></stop>                            </linearGradient>                        </defs>                        <rect x="0" y="0" width="16" height="100" fill="url(#colorGradient2)"></rect>                    </svg>                    </div>                    <a href="javascript:" class="'+c("more","arrow")+' colorArrow" role="slider" aria-label="明度控制按钮：100%"></a>                </div>'+"</div>")+"</div>",d='<div class="'+c("footer")+'">            <button class="'+c("button","cancel")+'">取消</button><button class="'+c("button","ensure")+'">确定</button>        </div>';return i.innerHTML=a+r+l+d,Object.assign(this.element,{field:i.querySelector("input"),basic:i.querySelector(".colorBasicX"),more:i.querySelector(".colorMoreX"),circle:i.querySelector(".colorCircle"),fill:i.querySelector(".colorFill"),arrow:i.querySelector(".colorArrow"),current:i.querySelector(".colorCurrent")}),this.events(),this},n.prototype.value=function(t){var e=t,i=this.element.input,a=this.element.thumb,n=i.value;if("string"!=typeof t)return n||(n=u,i.value=n,a.style[w]=n),n;/^[a-z]{3,}$/.test(e)&&(document.head.style.backgroundColor=e,e=window.getComputedStyle(document.head).backgroundColor,document.head.style.backgroundColor=""),e=y(e),i.value=e,a.style[w]=e;var r=(localStorage.commonColors||"").split(",");if(0==this.color.fixed.some(function(t){return y(t)==e})){(r=r.filter(function(t){return t&&t!=e.replace("#","")})).unshift(e.replace("#","")),localStorage.commonColors=r.join();var o=this.element.basic;if(o){var s=o.querySelectorAll("aside a"),l=s[s.length-2],d=s[s.length-1];l.setAttribute("data-color",r[0]),l.setAttribute("aria-label",r[0]),l.style[w]=e;var c=r[1]||"0ff";d.setAttribute("data-color",c),d.setAttribute("aria-label",c),d.style[w]="#"+c}}return this.match(),n&&e!=n&&i.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this},Object.defineProperty(n.prototype,"getValueByStyle",{value:function(){var t,e,i,a=this.element.circle,n=this.element.arrow;return a.length*n.length==0?u:(t=a.style.left?parseFloat(window.getComputedStyle(a).left)/a.parentElement.clientWidth:0,e=a.style.top?1-parseFloat(window.getComputedStyle(a).top)/a.parentElement.clientHeight:1,i=n.style.top?1-parseFloat(window.getComputedStyle(n).top)/n.parentElement.clientHeight:0,"#"+o(t,e,i))}}),n.prototype.match=function(t){if(1!=this.display)return this;var e=this.element,i=e.container,a=e.current,n=e.more,r=e.circle,o=e.fill,s=e.arrow,l=e.field,d=!0;!1===t&&(d=t);var c=t||l.value;if(""==c&&(c=y(window.getComputedStyle(a)[w]).replace("#",""),l.value=c),c=c.replace("#",""),a.style[w]="#"+c,"none"==window.getComputedStyle(n).display){var u=i.querySelector("."+b);u&&u.classList.remove(b);var h=i.querySelector('a[data-color="'+c.toUpperCase()+'"]');h&&h.classList.add(b)}else{var p=function(t){var e,i,a=parseInt(t.slice(0,2),16)/255,n=parseInt(t.slice(2,4),16)/255,r=parseInt(t.slice(4,6),16)/255,o=Math.max(a,n,r),s=Math.min(a,n,r),l=(o+s)/2;if(o==s)e=i=0;else{var d=o-s;switch(i=.5<l?d/(2-o-s):d/(o+s),o){case a:e=(n-r)/d+(n<r?6:0);break;case n:e=(r-a)/d+2;break;case r:e=(a-n)/d+4}e/=6}return[e,i,l]}(c),f=p[0],m=p[1],v=p[2],g="hsl("+[360*f,100*m+"%","50%"].join()+")";"000000"!=c&&(r.style[w]=g,o.style[w]=g),1==d&&(0!=v&&(r.style.left=r.parentElement.clientWidth*f,r.style.top=r.parentElement.clientHeight*m),s.style.top=s.parentElement.clientHeight*(1-v))}return this},n.prototype.show=function(){var t=this.element.container;""==t.innerHTML.trim()&&this.create(),0==this.drop.display&&this.drop.show(),this.display=this.drop.display;var e=this.element.current;return e.getAttribute("style")||(e.style[w]=this.element.input.value),this.match(),"function"==typeof this.callback.show&&this.callback.show.call(this,this.element.track,t),this},n.prototype.hide=function(){return 1==this.drop.display&&this.drop.hide(),this.display=this.drop.display,this.element.input.focus(),"function"==typeof this.callback.hide&&this.callback.hide.call(this,this.element.trigger,this.element.container),this};function i(){if(!1!==window.autoInit){var i='input[type="color"]';if(document.querySelectorAll(i).forEach(function(t){t.data&&t.data.color||"0"!=window.getComputedStyle(t).opacity||new n(t)}),!1!==window.watching){function a(t,e){1==t.nodeType&&t.matches(i)&&("remove"==e&&t.data&&t.data.color?(t.data.color.element.track.remove(),t.data.color.element.container.remove()):"add"==e&&"0"==window.getComputedStyle(t).opacity&&new n(t))}if(window.MutationObserver)new MutationObserver(function(t){t.forEach(function(e){var t=e.addedNodes,i=e.removedNodes;t.length&&t.forEach(function(t){a(t,"add")}),i.length&&i.forEach(function(t){a.call(e,t,"remove")})})}).observe(document.body,{childList:!0,subtree:!0});else document.body.addEventListener("DOMNodeInserted",function(t){a(t.target,"add")}),document.body.addEventListener("DOMNodeRemoved",function(t){a(t.target,"remove")})}}}return"loading"!=document.readyState?i():window.addEventListener("DOMContentLoaded",i),n}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&(define.amd||define.cmd)?define(e):t.Dialog=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,function(){function t(t){var e=Object.assign({},{title:"",content:"",width:"auto",height:"auto",buttons:[],onShow:function(){},onHide:function(){},onRemove:function(){}},t||{}),i=document.createElement(u);i.classList.add(h.add("container")),0==(p="open"in i)&&i.setAttribute("role",u);var a=document.createElement("div");a.classList.add(h),/^\d+$/.test(e.width)?a.style.width=e.width+"px":a.style.width=e.width,/^\d+$/.test(e.height)?a.style.height=e.height+"px":"stretch"==e.height?a.classList.add(h.add(e.height)):"auto"!=e.height&&(a.style.height=e.height),a.setAttribute("tabindex","-1");var n=document.createElement("h4");n.classList.add(h.add("title")),n.innerHTML=e.title;var r=("lulu_"+Math.random()).replace("0.",""),o=document.createElement("button");o.classList.add(h.add("close")),o.classList.add("ESC"),o.setAttribute("aria-label","关闭"),o.id=r,o.setAttribute("data-target",r),o.innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"><path d="M116.152,99.999l36.482-36.486c2.881-2.881,2.881-7.54,0-10.42 l-5.215-5.215c-2.871-2.881-7.539-2.881-10.42,0l-36.484,36.484L64.031,47.877c-2.881-2.881-7.549-2.881-10.43,0l-5.205,5.215 c-2.881,2.881-2.881,7.54,0,10.42l36.482,36.486l-36.482,36.482c-2.881,2.881-2.881,7.549,0,10.43l5.205,5.215 c2.881,2.871,7.549,2.871,10.43,0l36.484-36.488L137,152.126c2.881,2.871,7.549,2.871,10.42,0l5.215-5.215 c2.881-2.881,2.881-7.549,0-10.43L116.152,99.999z"/></svg>';var s=e.content||"";"function"==typeof s&&(s=s()),this.closeMode="string"==typeof s?"remove":"hide";var l=document.createElement("div");l.classList.add(h.add("body")),"remove"==this.closeMode?l.innerHTML=s:l.appendChild(s);var d=document.createElement("div");d.classList.add(h.add("footer")),a.appendChild(o),a.appendChild(n),a.appendChild(l),a.appendChild(d),i.appendChild(a);var c=document.querySelectorAll(u);return c.length?c[0].insertAdjacentElement("beforebegin",i):(e.container||document.body).appendChild(i),this.element={container:i,dialog:a,close:o,title:n,body:l,footer:d},this.params={title:e.title,width:e.width,buttons:e.buttons,content:s},this.callback={show:e.onShow,hide:e.onHide,remove:e.onRemove},this.display=!1,this.button(),this.events(),s&&this.show(),this}var u="dialog",h={add:function(){return["ui",u].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-"+u}},p=!1;return t.prototype.button=function(){var t=this.params,r=this.element;for(var e in r.footer.innerHTML="",r)/^button/.test(e)&&delete r[e];t.buttons.forEach(function(t,e){var i=(t=t||{}).type,a=t.value;"remind"!=i&&(i||0!=e)||(i="primary"),a=a||["确定","取消"][e];var n=document.createElement("button");t.for&&(n=document.createElement("label")).setAttribute("for",t.for),t.className&&(n.className=t.className),n.classList.add(String(h).replace(u,"button")),i&&n.setAttribute("data-type",i),n.innerHTML=a,r.footer.appendChild(n),r["button"+e]=n}),t.buttons.forEach(function(t,e){var i=r["button"+e];if(i&&!t.for){var a=t.events||{click:function(){this[this.closeMode]()}.bind(this)};for(var n in"function"==typeof a&&(a={click:a}),a)i.addEventListener(n,function(t){t.dialog=this,a[n](t)}.bind(this));i.addEventListener("focus",function(){window.isKeyEvent?this.style.outline="":this.style.outline="none"})}}.bind(this))},t.prototype.events=function(){var t=this.element,e=t.container;e.addEventListener("animationend",function(t){t.target.tagName.toLowerCase()==u&&e.classList.remove(h.add("animation"))}),1==p&&e.addEventListener("close",function(){this.scrollbar(),this.display=!1,this.tabindex()}.bind(this));var a=t.close;return a&&a.addEventListener("click",function(){var t=document.activeElement,e=t.getAttribute("data-target"),i=null;e&&(i=document.getElementById(e)),window.isKeyEvent&&i&&t!=a&&document.querySelector('a[data-target="'+e+'"],input[data-target="'+e+'"],button[data-target="'+e+'"]')&&0<i.clientWidth||this[this.closeMode]()}.bind(this)),this},t.prototype.open=function(t,e){var i=this.element,a=t||"";return"function"==typeof a&&(a=a()),this.closeMode="string"==typeof a?"remove":"hide",this.params=Object.assign({},{title:"",buttons:[]},e||{},{content:a}),i.container.className=h.add("container"),"remove"==this.closeMode?i.body.innerHTML=a:i.body.appendChild(a),i.title.innerHTML=this.params.title,this.button(),this.show(),this},t.prototype.loading=function(){var t=this.element;return t.container.className=[h.add("container"),h.add("loading")].join(" "),t.body.innerHTML='<ui-loading rows="10" size="3"></ui-loading>',this.show(),this},t.prototype.alert=function(t,e){var i=this.element;if(t){var a=t,n={title:"",type:"remind",buttons:[{}]},r=Object.assign({},n,e||{});return"error"!=r.type&&"fail"!=r.type||(r.type="danger"),"primary"==r.type&&(r.type="remind"),r.buttons.length&&!r.buttons[0].type&&(r.buttons[0].type=r.type,0==/^remind|success|warning|danger$/.test(r.type)&&(r.buttons[0].type=n.type)),i.container.className=[h.add("container"),h.add("container","alert")].join(" "),i.dialog.style.width="auto",i.title.innerHTML=r.title,0==/<[\w\W]+>/.test(a)&&(a="<p>"+a+"</p>"),i.body.innerHTML='<div class="'+h.add(r.type)+" "+h.add("alert")+'">'+a+"</div>",this.params={width:"auto",title:r.title,buttons:r.buttons,content:a},this.button(),this.show(),i.button0&&i.button0.focus(),this}},t.prototype.confirm=function(t,e){var i=this.element;if(t){var a=t,n={title:"",type:"danger",buttons:[{},{}]},r=Object.assign({},n,e||{});return"error"!=r.type&&"fail"!=r.type||(r.type="danger"),"primary"==r.type&&(r.type="remind"),r.buttons.length&&!r.buttons[0].type&&(r.buttons[0].type=r.type,0==/^remind|success|warning|danger$/.test(r.type)&&(r.buttons[0].type=n.type)),i.container.className=[h.add("container"),h.add("container","confirm")].join(" "),i.dialog.style.width="auto",i.title.innerHTML=r.title,0==/<[\w\W]+>/.test(a)&&(a="<p>"+a+"</p>"),i.body.innerHTML='<div class="'+h.add(r.type)+" "+h.add("confirm")+'">'+a+"</div>",this.params={width:"auto",title:r.title,buttons:r.buttons,content:a},this.button(),this.show(),i.button0&&i.button0.focus(),this}},t.prototype.scrollbar=function(){var t=document.querySelectorAll(u);if([].slice.call(t).some(function(t){return"none"!=window.getComputedStyle(t).display})){var e=17;1!=this.display&&(e=window.innerWidth-document.documentElement.clientWidth),document.documentElement.style.overflow="hidden",1!=this.display&&(document.body.style.borderRight=e+"px solid transparent")}else document.documentElement.style.overflow="",document.body.style.borderRight="";return this},t.prototype.tabindex=function(){var t=this.element.dialog,e=this.lastActiveElement;if(1==this.display){var i=document.activeElement;t!=i&&(this.lastActiveElement=i),t&&t.focus()}else e&&"body"!=e.tagName.toLowerCase()&&(e.focus(),e.blur(),this.lastActiveElement=null);return this},t.prototype.zIndex=function(){var a=this.element.container,t=window.getComputedStyle(a).zIndex,n=19;document.body.childNodes.forEach(function(t){if(1==t.nodeType){var e=window.getComputedStyle(t),i=+e.zIndex;i&&a!=t&&"none"!=e.display&&(n=Math.max(1+i,n))}}),n!=t&&(a.style.zIndex=n)},t.prototype.show=function(){var t=this.element.container;return p?t.open||t.show():(t.setAttribute("open","open"),this.zIndex()),1!=this.display&&t.classList.add(h.add("animation")),this.scrollbar(),this.display=!0,this.tabindex(),"function"==typeof this.callback.show&&this.callback.show.call(this,t),this},t.prototype.hide=function(){var t=this.element.container;return p?t.close():t.removeAttribute("open"),this.scrollbar(),this.display=!1,this.tabindex(),"function"==typeof this.callback.hide&&this.callback.hide.call(this,t),this},t.prototype.remove=function(){var t=this.element.container;return t.remove(),this.scrollbar(),this.display=!1,this.tabindex(),"function"==typeof this.callback.remove&&this.callback.remove.call(this,t),this},t}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?(t.Follow=require("./Follow"),module.exports=e()):"function"==typeof define&&(define.amd||define.cmd)?define(e):t.Datalist=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,function(t){var i=this.Follow;if("function"!=typeof t||i){if(!i)return window.console.error("need Follow.js"),{}}else i=t("common/ui/Follow");var m="datalist",c="selected",u="disabled",a="reverse",h={add:function(){return["ui",m].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-"+m}},e={start:"mousedown",move:"mousemove",end:"mouseup"};"ontouchstart"in document&&(e={start:"touchstart",move:"touchmove",end:"touchend"});function p(t){return"string"==typeof t?t.replace(/<\/?[^>]*>/g,""):""}function n(t,e){if("string"==typeof t&&(t=document.querySelector(t)),t)if(1==t.nodeType){var i={data:"auto",max:8,width:"auto",container:document.body,placeholder:"auto",filter:function(t,e){var i=[];return t.forEach&&t.forEach(function(t){""!=e&&0!=t.value.indexOf(e)||i.push(t)}),i},onSelect:function(){},onShow:function(){},onHide:function(){}};e=e||{};var a=t;if(a.data&&a.data.datalist)return a.data.datalis;var n=a.getAttribute("results"),r=Number(n);n&&(e.max=r);var o=Object.assign({},i,e),s=o.container;"string"==s&&(s=document.querySelector(s)),this.element={input:a,trigger:a,form:a.closest("form"),container:s},this.callback={filter:o.filter,select:o.onSelect,show:o.onShow,hide:o.onHide},this.params={width:o.width,max:o.max,data:o.data,index:-1};var l=a.getAttribute("placeholder");l&&(this.params.placeholder=l),this.display=!1,"auto"==o.placeholder&&(this.placeholder=!0);var d=a.name;if("auto"==o.data){var c=a.getAttribute("list"),u=a.getAttribute("autocomplete");if(c){var h=document.getElementById(c);if(!h)return;this.element.datalist=h,a.removeAttribute("list"),this.callback.data=function(){return[].slice.call(h.querySelectorAll("option")).map(function(t){var e={};return[].slice.call(t.attributes).forEach(function(t){e[t.name]=t.value}),e.value=e.value||"",e.label=e.label||"",e})}}else d&&"off"!=u?(this.callback.data=function(){var e=[],t=localStorage[m+"-"+d];return t&&t.split(",").forEach(function(t){t&&e.push({label:"",value:t})}),e},this.params.twice=!0,this.placeholder=!1,this.element.form&&this.element.form.addEventListener("submit",function(){this.store()}.bind(this))):this.callback.data=function(){return[]}}else if(o.data instanceof Array)this.callback.data=function(){return o.data};else if("function"==typeof o.data)this.callback.data=o.data;else if("object"==typeof o.data&&o.data.url){e.filter||(this.callback.filter=function(t){return t});var p=null,f=this;this.callback.data=function(){clearTimeout(p),d=d||"k";var t=a.value.trim();if(""==t)return f.data=[],[];var e=new URLSearchParams(o.data.data);e.append(d,t);var i=o.data.url.split("#")[0];i=1<i.split("?").length?i+"&"+e.toString():i+"?"+e.toString();p=setTimeout(function(){var e=new XMLHttpRequest;e.open("GET",i),e.onload=function(){var t={};try{(t=JSON.parse(e.responseText))&&t.data?(f.refresh(f.callback.filter.call(f,t.data)),o.data.success&&o.data.success(t)):o.data.error&&o.data.error(t)}catch(t){o.data.error&&o.data.error(t)}},e.onloadend=function(){a.removeAttribute("aria-busy")},e.onerror=function(t){o.data.error&&o.data.error(t)},e.send(),a.setAttribute("aria-busy","true")},200)},this.placeholder=!1}a.setAttribute("autocomplete","off"),this.events(),a.data||(a.data={}),a.data.datalist=this}else window.console.error("element参数不合法");else window.console.error("Datalist实例方法参数缺失")}return n.prototype.store=function(){var t=this.element.input,e=this.value(),i=t.name;if(e&&i){var a=(localStorage[m+"-"+i]||"").split(","),n=a.indexOf(e);if(-1==n)a.unshift(e);else if(0!=n){a=a.splice(n,1).concat(a)}localStorage[m+"-"+i]=a.join()}return this},n.prototype.removeStore=function(t){var e=this.element.input.name,i=t||this.value();if(i&&e)if(!0===i)localStorage.removeItem(m+"-"+e);else if("string"==typeof i){var a=(localStorage[m+"-"+e]||"").split(","),n=a.indexOf(i);-1!=n&&(a.splice(n,1),localStorage[m+"-"+e]=a.join())}return this},n.prototype.refresh=function(t){var e=this.element.target,i=this.element.input;e||(this.create(),e=this.element.target);var r=this.value(),a=t;if(void 0===a){if("function"!=typeof this.callback.data)return this;if((a=this.callback.filter.call(this,this.callback.data(),r))instanceof Array==0)return this}"number"==typeof this.params.max&&(a=a.slice(0,this.params.max)),this.data=a;var o="";if(a&&a.length){this.params.index=-1;var s=i.getAttribute("placeholder"),l=this.params.placeholder;a.forEach(function(t,e){var i=p(t.value||"").trim(),a=p(t.label||"").trim(),n="";(r&&i==r||!r&&i==s&&i!=l)&&(n=" "+c,this.params.index=e),!t[u]&&"string"!=typeof t[u]||(n=" "+u),o=t.label?o+'<li class="'+h.add("option")+n+'" data-value="'+i+'" label="'+a+'" data-index="'+e+'"><label class="'+h.add("label")+'">'+t.label+'</label><span class="'+h.add("value")+'">'+t.value+"</span></li>":o+'<li class="'+h.add("option")+n+'" data-value="'+i+'" data-index="'+e+'"><span class="'+h.add("value")+'">'+t.value+"</span></li>"}.bind(this))}""!=o&&(o='<ul class="'+h.add(m)+'">'+o+"</ul>"),e.innerHTML=o;var n=e.querySelector("."+c);if(1==this.display&&n){var d=n.offsetTop-(e.lastScrollTop||0);d<0||d>=n.parentElement.clientHeight?(n.parentElement.scrollTop=n.offsetTop,e.lastScrollTop=n.offsetTop):n.parentElement.scrollTop=e.lastScrollTop||0}o?0==this.display&&this.show():1==this.display&&this.hide()},Object.defineProperty(n.prototype,"create",{value:function(){var t=this.element.trigger;if(!this.element.target){var e=this.element.datalist&&this.element.datalist.id;e||(e=("lulu_"+Math.random()).replace("0.",""),t.setAttribute("data-target",e));var i=document.createElement("div");i.classList.add(h),i.addEventListener("click",function(t){t.touches&&t.touches.length&&(t=t.touches[0]);var e=t.target.closest&&t.target.closest("li");if(e&&0==e.classList.contains(u)){var i=e.getAttribute("data-value"),a=e.getAttribute("data-index");this.params.index=Number(a),this.value(i),this.hide(),this.select()}}.bind(this)),t.id&&i.classList.add(h.add(t.id.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).replace(/^-+|-+$/g,""))),this.element.container.appendChild(i),this.element.target=i,this.display=!1}return this}}),n.prototype.value=function(t){var e,i=this.element.input;if(void 0===t)return"string"==typeof(e=i.value.trim())?e.replace(/<|&|>/g,function(t){return{"<":"&lt;",">":"&gt;","&":"&amp;"}[t]}):"";var a,n=t.toString();return i.value="string"==typeof(a=n.trim())?a.replace(/&lt;|&gt;|&amp;/g,function(t){return{"&lt;":"<","&gt;":">","&amp;":"&"}[t]}):"",n!=i.oldValue&&(i.dispatchEvent(new CustomEvent("change",{bubbles:!0})),i.dispatchEvent(new CustomEvent("input",{bubbles:!0}))),i.oldValue=n,this},n.prototype.events=function(){var d=this.element.trigger;return document.activeElement!=d&&(d.isFocus=!1),d.addEventListener("blur",function(){d.isFocus=!1}),d.addEventListener("focus",function(){window.isKeyEvent&&d.click()}),d.addEventListener("click",function(){0==this.display&&(!0===this.placeholder&&(d.focusValue=d.value.trim(),d.focusValue&&d.setAttribute("placeholder",d.focusValue),d.value=""),(1!=this.params.twice||1!=d.isFocus)&&this.params.twice||this.refresh()),d.isFocus=!0}.bind(this)),d.addEventListener("input",function(t){!1!==t.isTrusted&&(null==document.msHidden||""!=d.value.trim()||d.lastValue||!d.getAttribute("placeholder")?1==this.placeholder||d.value.trim()?this.refresh():this.hide():d.lastValue=d.value)}.bind(this)),d.addEventListener("keydown",function(t){var e=this.data,i=this.params.index,a=this.element.target;if(a){var n=a.querySelector("."+c);switch(t.keyCode){case 27:case 13:1==this.display&&(this.hide(),t.preventDefault(),n&&(n.click(),t.preventDefault(),setTimeout(function(){var e=d;if(d.setSelectionRange)try{e.setSelectionRange(e.value.length,e.value.length)}catch(t){e.value=e.value}else e.value=e.value;e.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},17)));break;case 38:case 40:if(1==this.display&&e&&e.length){t.preventDefault();var r=[];if(e.forEach(function(t,e){t[u]||""===t[u]||r.push(e)}),0==r.length)return;var o=r.indexOf(i);38==t.keyCode?o--:o++,i=o<0?r[r.length-1]:o>r.length-1?r[0]:r[o]}e[i]&&this.value(p(e[i].value)),d.select(),this.refresh(e);break;case 46:if(1==this.display&&1==this.params.twice&&n){var s=n.getAttribute("data-value");this.removeStore(s),e=e.filter(function(t){return t.value!=s}),t.preventDefault();var l=e[i]||e[i-1];l?(this.value(p(l.value)),this.refresh(e)):(this.value="",this.hide())}}}}.bind(this)),document.addEventListener(e.end,function(t){t.touches&&t.touches.length&&(t=t.touches[0]);var e=t.target,i=this.element.target;i&&1==e.nodeType&&0==i.contains(e)&&this.hide(),e!=d&&""==d.value.trim()&&(d.focusValue?d.value=d.focusValue:this.params.placeholder&&d.setAttribute("placeholder",this.params.placeholder))}.bind(this)),window.addEventListener("resize",function(){1==this.display&&this.position()}.bind(this)),this},n.prototype.position=function(){var t=this.element.trigger,e=this.element.target;return t&&e&&(new i(t,e,{edgeAdjust:this.params.edgeAdjust||!1}),1==this.display&&t.classList.add("active")),this},n.prototype.select=function(){this.callback.select.call(this,this.data[this.params.index],this.element.trigger,this.element.target)},n.prototype.show=function(){var t=this.element.trigger,e=this.element.target;e||(this.create(),e=this.element.target);var i=this.display,a=this.params.width,n=t.getBoundingClientRect().width||t.clientWidth;"auto"==a?a=n:"function"==typeof a&&(a=a.call(this,t,e)),"auto"!=a&&"number"!=typeof a&&(a=n),e.style.display="block",e.style.width=a+"px","number"==typeof e.lastScrollTop&&e.querySelector("ul")&&(e.querySelector("ul").scrollTop=e.lastScrollTop),this.display=!0,this.position(),0==i&&this.callback.show.call(this,t,e)},n.prototype.hide=function(){var t=this.element.trigger,e=this.element.target;e&&1==this.display&&(e.querySelector("ul")&&(e.lastScrollTop=e.querySelector("ul").scrollTop),e.style.display="none",e.classList.remove(a),this.callback.hide.call(this,t,e)),t.classList.remove("active"),t.classList.remove(a),this.display=!1},n}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?(t.Follow=require("./Follow"),module.exports=e()):"function"==typeof define&&(define.amd||define.cmd)?define(e):t.DateTime=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,function(t){var r=this.Follow;if("function"!=typeof t||r){if(!r)return window.console.error("need Follow.js"),{}}else r=t("common/ui/Follow");var S={toString:function(){return"ui-datetime"}};["date","range","day","year","month","hour","minute"].forEach(function(t){S[t]=function(){return["ui",t].concat([].slice.call(arguments)).join("-")}});var j="selected",T=/-|\//g;String.prototype.toDate=function(){var t,e,i,a=this.split(T);return t=+a[0],e=a[1]||1,i=a[2]||1,t?new Date(t,e-1,i):new Date},Date.prototype.toArray=function(){var t=this.getFullYear(),e=this.getMonth()+1,i=this.getDate();return e<10&&(e="0"+e),i<10&&(i="0"+i),[t,e,i]};function a(t,e){var i=t;if("string"==typeof t&&(i=document.querySelector(t)),!i)return this;var a=Object.assign({},{value:"",type:"auto",min:"auto",max:"auto",onShow:function(){},onHide:function(){}},e||{}),n=null,r=null;if(i.getAttribute("type")?i=(r=i).parentElement:r=i.querySelector("input"),r||(r=document.createElement("input"),"auto"!=a.min&&r.setAttribute("min",a.min),"auto"!=a.max&&r.setAttribute("max",a.max),"auto"!=a.type&&r.setAttribute("type",a.type),n=i),r.data&&r.data.dateTime)return r.data.dateTime;r.setAttribute("readonly","readonly");var o=a.type;"auto"==o&&(o=r.getAttribute("type")||"date");var s=r.id;s||(s=("lulu_"+Math.random()).replace("0.",""),r.id=s);var l=document.createElement("label");l.classList.add(S.date("arrow")),r.insertAdjacentElement("afterend",l),r.setAttribute("lang","zh-Hans-CN");var d=r.value;switch(""==d&&a.value&&(d=r.value=a.value),o){case"date":case"year":case"month":var c=d.toDate().toArray();""==d&&("date"==o?r.value=c.join("-"):"year"==o?r.value=c[0]:"month"==o&&(r.value=c.slice(0,2).join("-"))),this[j]=c;break;case"time":case"hour":case"minute":var u=d.split(":"),h=u[0],p=u[1];""!=d&&h<24&&0<h?(0<p&&p<60&&"hour"!=o?1==p.length&&(p="0"+p):p="00",1==h.length&&(h="0"+h)):p=h="00",r.value=[h,p].join(":"),this[j]=[h,p];break;case"date-range":case"month-range":var f=new Date,m=new Date,v=d.split(" ");if(""!=d&&1==v.length){var g=v[0].toDate();g.getTime()>f.getTime()?m=g:f=g}else f=v[0].toDate(),m=v[v.length-1].toDate();var y=f.toArray(),b=m.toArray();r.value="date-range"==o?y.join("-")+" 至 "+b.join("-"):y.slice(0,2).join("-")+" 至 "+b.slice(0,2).join("-"),this[j]=[y,b]}if(!n){(n=document.createElement("div")).classList.add(S.date("container"));var w=("lulu_"+Math.random()).replace("0.","");n.setAttribute("id",w),n.classList.add("ESC"),r.setAttribute("data-target",w),n.setAttribute("data-id",s)}return this.element={container:n,trigger:i,input:r},this.params={type:o,max:a.max,min:a.min},this.callback={show:a.onShow,hide:a.onHide},this.svg='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"><path d="M85.876,100.5l49.537-50.526c4.089-4.215,4.089-11.049,0-15.262 c-4.089-4.218-10.719-4.218-14.808,0L63.586,92.868c-4.089,4.215-4.089,11.049,0,15.264l57.018,58.156 c4.089,4.215,10.719,4.215,14.808,0c4.089-4.215,4.089-11.049,0-15.262L85.876,100.5z"/></svg>',this.events(),r.data||(r.data={}),r.data.dateTime=this,n==i&&(n.data={dateTime:this},this.show()),this}a.prototype.events=function(){var t=this.element,f=t.container,i=t.trigger,e=t.input;f.addEventListener("click",function(t){if(1==t.target.nodeType&&t.target.closest){var e=t.target.closest("a, button");if(e){var i,a=0,n=0,r=0,o=0,s=[],l="";switch(f.getAttribute("data-type")){case"date":if(/prev|next/.test(e.className)){n=e.getAttribute("data-month"),this[j][1]=+n;var d=this.getMonthDay(this[j]),c=n-1<0?d[11]:n>d.length?d[0]:d[n-1];o=this[j][2];var u=f.dataDayOverflow;u?this[j][2]=Math.min(u,c):this[j][2]>c&&(this[j][2]=c,f.dataDayOverflow=o),this[j]=this[j].join("-").toDate().toArray(),this.date(),f.querySelector("."+j+"[href]")&&this.value()}else/item/.test(e.className)?(o=e.innerHTML,/\D/.test(o)?this[j]=(new Date).toArray():(o<10&&(o="0"+o),this[j][2]=o),this.value(),this.hide(),delete f.dataDayOverflow):"month"==e.getAttribute("data-type")&&this.month();break;case"date-range":/prev|next/.test(e.className)?(n=+e.getAttribute("data-month"),s=f.dataDate||this[j][0],f.dataDate=new Date(s[0],n-1,1).toArray(),this["date-range"]()):/item/.test(e.className)?(a=e.getAttribute("data-year"),n=e.getAttribute("data-month"),o=e.innerHTML,n<10&&(n="0"+n),o<10&&(o="0"+o),(i=this[j])[0].join()==i[1].join()?a+n+o>i[0].join("")?i[1]=[a,n,o]:i[0]=[a,n,o]:i=[[a,n,o],[a,n,o]],this[j]=i,this["date-range"]()):/button/.test(e.className)&&("primary"==(l=e.getAttribute("data-type"))?(this.value(),this.dataRangeSelected=this[j],this.hide()):"normal"==l&&(this.dataRangeSelected&&(this[j]=this.dataRangeSelected),this.hide()));break;case"month-range":/prev|next/.test(e.className)?(a=+e.getAttribute("data-year"),s=f.dataDate||this[j][0],f.dataDate=new Date(a,s[1],1).toArray(),this["month-range"]()):/item/.test(e.className)?(a=e.getAttribute("data-year"),n=e.getAttribute("data-value"),o="01",(i=this[j])[0].join()==i[1].join()?a+n+o>i[0].join("")?i[1]=[a,n,o]:i[0]=[a,n,o]:i=[[a,n,o],[a,n,o]],this[j]=i,this["month-range"]()):/button/.test(e.className)&&("primary"==(l=e.getAttribute("data-type"))?(this.value(),this.dataRangeSelected=this[j],this.hide()):"normal"==l&&(this.dataRangeSelected&&(this[j]=this.dataRangeSelected),this.hide()));break;case"month":if(/prev|next/.test(e.className))a=e.getAttribute("data-year"),this[j][0]=+a,this.month(),f.querySelector("."+j+"[href]")&&this.value();else if(/item/.test(e.className)){var h=e.getAttribute("data-value");if(h)this[j][1]=h;else{var p=(new Date).toArray();this[j][0]=p[0],this[j][1]=p[1]}this.value(),"month"==this.params.type?this.hide():this.date()}else"year"==e.getAttribute("data-type")&&this.year();break;case"year":/prev|next/.test(e.className)?(a=e.getAttribute("data-year"),this[j][0]=+a,this.year(),f.querySelector("."+j+"[href]")&&this.value()):/item/.test(e.className)&&("今年"==e.innerHTML?this[j][0]=(new Date).getFullYear():this[j][0]=+e.innerHTML,this.value(),"year"==this.params.type?this.hide():this.month());break;case"minute":/prev|next/.test(e.className)?(1==(r=e.getAttribute("data-hour")).length&&(r="0"+r),this[j][0]=r,this.minute(),f.querySelector("."+j+"[href]")&&this.value()):/item/.test(e.className)?(this[j]=e.innerHTML.split(":"),this.value(),this.hide()):"hour"==e.getAttribute("data-type")&&this.hour();break;case"hour":/item/.test(e.className)&&(this[j][0]=e.innerHTML.split(":")[0],this.value(),"hour"==this.params.type?this.hide():this.minute())}}}}.bind(this)),i.addEventListener("click",function(t){t.preventDefault(),this.display?this.hide():this.show()}.bind(this)),e.addEventListener("keydown",function(t){13==t.keyCode&&(t.preventDefault(),this.click())}),document.addEventListener("mouseup",function(t){var e=t.target;e&&0==i.contains(e)&&0==f.contains(e)&&this.hide()}.bind(this))},a.prototype.format=function(){var t=this.params.type,e=this.element.input,i=e&&e.value.trim();if(!i)return this;switch(t){case"date":case"year":case"month":var a=i.toDate().toArray();this[j]=a;break;case"time":case"hour":case"minute":var n=i.split(":"),r=n[0],o=n[1];2==n.length&&(0<o&&o<60&&"hour"!=t?1==o.length&&(o="0"+o):o="00",1==r.length&&(r="0"+r),e.value=[r,o].join(":"),this[j]=[r,o]);break;case"date-range":case"month-range":var s=new Date,l=new Date,d=i.split(" ");3==d.length&&(s=d[0].toDate(),l=d[d.length-1].toDate(),this[j]=[s.toArray(),l.toArray()])}return this},a.prototype.value=function(){var t=this.element.input,e=this[j],i=t.value;switch(this.params.type){case"date":t.value=e.join("-");break;case"month":t.value=e.slice(0,2).join("-");break;case"year":t.value=e[0];break;case"date-range":t.value=e[0].join("-")+" 至 "+e[1].join("-");break;case"month-range":t.value=e[0].slice(0,2).join("-")+" 至 "+e[1].slice(0,2).join("-");break;case"time":case"minute":t.value=e.join(":");break;case"hour":t.value=e[0]+":00"}return t.value!=i&&t.dispatchEvent(new CustomEvent("change",{bubbles:!0})),t.value},Object.defineProperty(a.prototype,"getCalendarData",{value:function(p){var t="",e=this.element.input,f=this.params.type,m=e.getAttribute("min")||this.params.min,v=e.getAttribute("max")||this.params.max,i=[m,v].map(function(t,e){return"string"==typeof t&&1==/^\d{8}$/.test(t.replace(T,""))?t=t.toDate():"object"==typeof t&&t.getTime||(t=e?new Date(9999,0,1):new Date(0,0,1)),t});m=i[0],v=i[1];var a,n=["日","一","二","三","四","五","六"],g=this.getMonthDay(p),y=p.join("-").toDate();t=t+'<div class="'+S.day("x")+'">'+(a="",n.forEach(function(t,e){a=a+'<span class="'+S.day("item")+" col"+e+'">'+t+"</span>"}),a)+"</div>";var b,w=p.join("-").toDate();w.setDate(1),2==w.getDate()&&w.setDate(0),b=w.getDay();var E=w.getMonth()-1;E<0&&(E=11);var L='data-year="'+p[0]+'" data-month="'+(w.getMonth()+1)+'"',A="data-date=",x="";return t=t+'<div class="'+S.date("body")+'">'+function(){for(var t="",e="",i=0;i<6;i++){t=t+'<div class="'+S.date("tr")+'">';for(var a=0;a<7;a++){e=S.date("item")+" col"+a;var n,r,o=p[0],s=w.getMonth()+1;if("date"==f)t=0==i&&a<b?(n=g[E]-b+a+1,r=new Date(o,E,n),t+'<span class="'+e+'" '+(x=A+r.toArray().join("-"))+">"+n+"</span>"):(n=7*i+a-b+1)<=g[w.getMonth()]?(r=new Date(o,w.getMonth(),n),x=A+r.toArray().join("-"),y.getDate()==n&&(e=e+" "+j),m<=r&&r<=v?t+'<a href="javascript:;" '+L+' class="'+e+'" '+x+">"+n+"</a>":t+'<span class="'+e+'" '+x+">"+n+"</span>"):(n-=g[w.getMonth()],t+'<span class="'+e+'" '+(x=A+new Date(o,s,n).toArray().join("-"))+">"+n+"</span>");else if("date-range"==f)if(0==i&&a<b)t=t+'<span class="'+e+'"></span>';else if((n=7*i+a-b+1)<=g[w.getMonth()]){r=new Date(o,w.getMonth(),n),x=A+r.toArray().join("-");var l=this[j][0].join("-").toDate(),d=this[j][1].join("-").toDate(),c=r.getTime(),u=l.getTime(),h=d.getTime();u<=c&&c<=h&&(e=e+" "+j,c==u&&(e=e+" "+S.date("begin")),c==h&&(e=e+" "+S.date("end")),1==n?e=e+" "+S.date("first"):n==g[w.getMonth()]&&(e=e+" "+S.date("last"))),t=m<=r&&r<=v?t+'<a href="javascript:;" '+L+' class="'+e+'" '+x+">"+n+"</a>":t+'<span class="'+e+'" '+x+">"+n+"</span>"}else t=t+'<span class="'+e+'"></span>'}t+="</div>"}return t}.call(this)+"</div>",{monthDay:g,html:t,min:m,max:v}}}),Object.defineProperty(a.prototype,"getMonthData",{value:function(s){var t=this.element.input,l=t.getAttribute("min")||this.params.min,d=t.getAttribute("max")||this.params.max,e=[l,d].map(function(t,e){return t="object"==typeof t&&t.getTime?t.toArray().slice(0,2).join(""):"string"==typeof t&&0==/\D/.test(t.replace(T,""))?t.replace(T,"").slice(0,6):e?"999912":"000000"});l=e[0],d=e[1];var c=["一","二","三","四","五","六","七","八","九","十","十一","十二"],u=+s[0],h=this.params.type;return{html:'<div class="'+S.month("body")+'">'+function(){for(var t="",e="",i="",a=1;a<=12;a+=1){if(i=a<10?"0"+a:a+"",e=S.date("item"),"month"==h)a==s[1]&&(e=e+" "+j);else if("month-range"==h){var n=this[j][0].slice(0,2).join(""),r=this[j][1].slice(0,2).join(""),o=u+i;n<=o&&o<=r&&(e=e+" "+j)}t=l<=u+i&&u+i<=d?t+'<a href="javascript:" class="'+e+'" data-year="'+u+'" data-value="'+i+'">'+c[a-1]+"月</a>":t+'<span class="'+e+'" data-value="'+i+'">'+c[a-1]+"月</span>"}return t}.call(this)+"</div>",min:l,max:d}}}),Object.defineProperty(a.prototype,"getMonthDay",{value:function(t){var e=t;"object"==typeof t||t.map||(e=t.toArray());var i=[31,28,31,30,31,30,31,31,30,31,30,31];return(e[0]%4==0&&e[0]%100!=0||e[0]%400==0)&&(i[1]=29),i}}),Object.defineProperty(a.prototype,"getDatePrevMonth",{value:function(t){var e=t;"object"==typeof t||t.map||(e=t.toArray());var i=+e[1],a=this.getMonthDay(e);return 1==i?[e[0]-1,12,e[2]].join("-").toDate():a[i-2]<e[2]?[e[0],i-1,a[i-2]].join("-").toDate():[e[0],i-1,e[2]].join("-").toDate()}}),Object.defineProperty(a.prototype,"getDateNextMonth",{value:function(t){var e=t;"object"==typeof t||t.map||(e=t.toArray());var i=+e[1],a=this.getMonthDay(e);return 12==i?[e[0]+1,1,e[2]].join("-").toDate():a[i]<e[2]?[e[0],1+i,a[i]].join("-").toDate():[e[0],1+i,e[2]].join("-").toDate()}}),a.prototype.date=function(){var t=this.element.container,e=this[j],i=e[1]-1,a=+e[1]+1,n=this.getCalendarData(e),r='<div class="'+S.date("x")+'">';r=r+'<div class="'+S.date("head")+'">';var o=this.getDatePrevMonth(e),s=o.getMonth(),l=o.getFullYear();r=new Date(l,s,n.monthDay[s])>=n.min&&o<=n.max?r+'<a href="javascript:" class="'+S.date("prev")+'" data-month="'+i+'" role="button" aria-label="上一月">'+this.svg+"</a>":r+'<span class="'+S.date("prev")+'" aria-label="上一月">'+this.svg+"</span>";var d=this.getDateNextMonth(e),c=d.getMonth(),u=d.getFullYear();return r=(r=d>=n.min&&new Date(u,c,1)<=n.max?r+'<a href="javascript:" class="'+S.date("next")+'" data-month="'+a+'" role="button" aria-label="下一月">'+this.svg+"</a>":r+'<span class="'+S.date("next")+'" aria-label="下一月">'+this.svg+"</span>")+'<a href="javascript:" class="'+S.date("switch")+'" data-type="month" role="button" aria-label="快速切换月份">'+e.slice(0,2).join("-")+"</a>        </div>",r+=n.html,r=new Date>=n.min&&new Date<=n.max?r+'<a href="javascript:" class="'+S.date("item")+" "+S.date("now")+'" role="button">今天</a>':r+'<span class="'+S.date("item")+" "+S.date("now")+'">今天</span>',r+="</div>",t.setAttribute("data-type","date"),t.innerHTML=r,this},a.prototype["date-range"]=function(){var t=this.element.container,e=this[j],i=t.dataDate||e[0],a=(t.dataDate=i)[1]-1,n=+i[1]+1,r=this.getCalendarData(i),o='<div class="'+S.range("x")+'">';o=o+'<div class="'+S.date("head")+'">            <div class="'+S.date("half")+'">';var s=new Date(i[0],a-1,i[2]);o=(o=s>=r.min&&s<=r.max?o+'<a href="javascript:" class="'+S.date("prev")+'" data-month="'+a+'" aria-label="上一个月，当前'+i[1]+'月">'+this.svg+"</a>":o+'<span class="'+S.date("prev")+'">'+this.svg+"</span>")+'<span class="'+S.date("switch")+'">'+new Date(i[0],a,i[2]).toArray().slice(0,2).join("-")+'</span>        </div>        <div class="'+S.date("half")+'">';var l=new Date(i[0],i[1],1),d=new Date(i[0],n,i[2]);return o=(o=d>=r.min&&d<=r.max?o+'<a href="javascript:" class="'+S.date("next")+'" data-month="'+n+'" aria-label="下一个月，当前'+n+'月">'+this.svg+"</a>":o+'<span class="'+S.date("next")+'">'+this.svg+"</span>")+'<span class="'+S.date("switch")+'">'+l.toArray().slice(0,2).join("-")+"</span>        </div>",o=(o=(o+="</div>")+'<div class="'+S.range("body")+" "+S.range("date","body")+'"><div class="'+S.date("half")+'">'+r.html+'</div><div class="'+S.date("half")+'">'+this.getCalendarData(l.toArray()).html+"</div></div>")+'<div class="'+S.range("footer")+'"><button class="ui-button" data-type="primary">确定</button><button class="ui-button" data-type="normal">取消</button></div>',o+="</div>",t.setAttribute("data-type","date-range"),t.innerHTML=o,this},a.prototype.month=function(){var t=this.element.container,e=this[j],i=this.getMonthData(e),a=i.min,n=i.max,r='<div class="'+S.month("x")+'">',o=+e[0];r=r+'<div class="'+S.date("head")+'">',r=o-1>=Math.floor(a/100)&&o-1<=Math.floor(n/100)?r+'<a href="javascript:" class="'+S.date("prev")+'" data-year="'+(o-1)+'" role="button" aria-label="上一年">'+this.svg+"</a>":r+'<span class="'+S.date("prev")+'" aria-label="上一年">'+this.svg+"</span>",r=(r=1+o>=Math.floor(a/100)&&1+o<=Math.floor(n/100)?r+'<a href="javascript:" class="'+S.date("next")+'" data-year="'+(1+o)+'" role="button" aria-label="下一年">'+this.svg+"</a>":r+'<span class="'+S.date("next")+'">'+this.svg+"</span>")+'<a href="javascript:" class="'+S.date("switch")+'" data-type="year" role="button" aria-label="快速切换年份">'+o+"</a>        </div>",r+=i.html;var s=(new Date).toArray().slice(0,2).join("");return r=a<=s&&s<=n?r+'<a href="javascript:" class="'+S.date("item")+" "+S.date("now")+'">今月</a>':r+'<span class="'+S.date("item")+" "+S.date("now")+'">今月</span>',r+="</div>",t.setAttribute("data-type","month"),t.innerHTML=r,this},a.prototype["month-range"]=function(){var t=this.element.container,e=this[j],i=t.dataDate||e[0],a=(t.dataDate=i)[0]-1,n=+i[0]+1,r=this.getMonthData(i),o=r.max.slice(0,4),s=r.min.slice(0,4),l='<div class="'+S.range("x")+'">';return l=l+'<div class="'+S.date("head")+'">            <div class="'+S.date("half")+'">',l=(l=s<=a&&a<=o?l+'<a href="javascript:" class="'+S.date("prev")+'" data-year="'+a+'" role="button" aria-label="上一年">'+this.svg+"</a>":l+'<span class="'+S.date("prev")+'" aria-label="上一年">'+this.svg+"</span>")+'<span class="'+S.date("switch")+'">'+i[0]+'</span>        </div>        <div class="'+S.date("half")+'">',l=(l=s<=n&&n<o?l+'<a href="javascript:" class="'+S.date("next")+'" data-year="'+n+'" role="button" aria-label="下一年">'+this.svg+"</a>":l+'<span class="'+S.date("next")+'" aria-label="下一年">'+this.svg+"</span>")+'<span class="'+S.date("switch")+'">'+n+"</span>        </div>",l=(l=(l+="</div>")+'<div class="'+S.range("body")+" "+S.range("month","body")+'"><div class="'+S.date("half")+'">'+r.html+'</div><div class="'+S.date("half")+'">'+this.getMonthData([n,i[1],i[2]]).html+"</div></div>")+'<div class="'+S.range("footer")+'"><button class="ui-button" data-type="primary">确定</button><button class="ui-button" data-type="normal">取消</button></div>',l+="</div>",t.setAttribute("data-type","month-range"),t.innerHTML=l,this},a.prototype.year=function(){var t=this.element.input,e=this.element.container,i=this[j],a=t.getAttribute("min")||this.params.min,n=t.getAttribute("max")||this.params.max;a="object"==typeof a&&a.getFullYear?a.getFullYear():"string"==typeof a&&0==/\D/.test(a.replace(T,""))?a.toDate().getFullYear():0,n="object"==typeof n&&n.getFullYear?n.getFullYear():"string"==typeof n&&0==/\D/.test(n.replace(T,""))?n.toDate().getFullYear():9999;var r='<div class="'+S.year("x")+'">',o=i[0];r=r+'<div class="'+S.date("head")+'">',r=a<=o-12&&o-12<=n?r+'<a href="javascript:" class="'+S.date("prev")+'" data-year="'+(o-12)+'" role="button" aria-label="上一个12年">'+this.svg+"</a>":r+'<span class="'+S.date("prev")+'">'+this.svg+"</span>",r=(r=(r=a<=o+12&&o+12<=n?r+'<a href="javascript:" class="'+S.date("next")+'" data-year="'+(o+12)+'" role="button" aria-label="下一个12年">'+this.svg+"</a>":r+'<span class="'+S.date("next")+'">'+this.svg+"</span>")+'<span class="'+S.date("switch")+'">'+[o-6,o+5].join("-")+"</span></div>")+'<div class="'+S.year("body")+'">'+function(){for(var t="",e="",i=o-6;i<o+6;i+=1)e=S.date("item"),i==o&&(e=e+" "+j),t=a<=i&&i<=n?t+'<a href="javascript:" class="'+e+'">'+i+"</a>":t+'<span class="'+e+'">'+i+"</span>";return t}()+"</div>";var s=(new Date).getFullYear();return r=a<=s&&s<=n?r+'<a href="javascript:" class="'+S.date("item")+" "+S.date("now")+'" role="button">今年</a>':r+'<span class="'+S.date("item")+" "+S.date("now")+'">今年</span>',r+="</div>",r+="</div>",e.setAttribute("data-type","year"),e.innerHTML=r,this},a.prototype.hour=function(){var t=this.element.container,e=this.element.input,n=this[j],r=+e.getAttribute("step");r="hour"!=this.params.type||!r||r<1?1:Math.round(r);var o=(e.getAttribute("min")||this.params.min.toString()).split(":")[0],s=(e.getAttribute("max")||this.params.max.toString()).split(":")[0];/\D/.test(o)?o=0:o*=1,/\D/.test(s)?s=24:s*=1;var i='<div class="'+S.hour("x")+'">';return i=i+'<div class="'+S.hour("body")+'">'+function(){for(var t="",e="",i="",a=0;a<24;a+=r)1==(e=a+"").length&&(e="0"+e),i=S.date("item"),e==n[0]&&(i=i+" "+j),t=o<=e&&e<=s?t+'<a href="javascript:" class="'+i+'">'+e+":00</a>":t+'<span class="'+i+'">'+e+":00</span>";return t}()+"</div>",i+="</div>",t.setAttribute("data-type","hour"),t.innerHTML=i,this},a.prototype.minute=function(){var t=this.element.container,e=this.element.input,n=this[j],r=+e.getAttribute("step")||5,o=e.getAttribute("min")||this.params.min+"",s=e.getAttribute("max")||this.params.max+"";o="auto"==o||/\D/.test(o.replace(":",""))||2!=o.split(":").length?0:+o.replace(":",""),s="auto"==s||/\D/.test(s.replace(":",""))||2!=s.split(":").length?2359:+s.replace(":","");var i='<div class="'+S.minute("x")+'" data-step="'+r+'">',a=+n[0];return i=i+'<div class="'+S.date("head")+'">',i=a<=Math.floor(o/100)?i+'<span class="'+S.date("prev")+'">'+this.svg+"</span>":i+'<a href="javascript:" class="'+S.date("prev")+'" data-hour="'+(a-1)+'" role="button" aria-label="上一个小时">'+this.svg+"</a>",i=(i=(i=a>=Math.floor(s/100)?i+'<span class="'+S.date("next")+'">'+this.svg+"</span>":i+'<a href="javascript:" class="'+S.date("next")+'" data-hour="'+(1+a)+'" role="button" aria-label="下一个小时">'+this.svg+"</a>")+'<a href="javascript:" class="'+S.date("switch")+'" data-type="hour">'+n[0]+":00</a></div>")+'<div class="'+S.minute("body")+'">'+function(){for(var t="",e="",i="",a=0;a<60;a+=r)1==(e=a+"").length&&(e="0"+e),i=S.date("item"),t=+(n[0]+e)>=o&&+(n[0]+e)<=s?(e==n[1]&&(i=i+" "+j),t+'<a href="javascript:" class="'+i+'">'+[n[0],e].join(":")+"</a>"):t+'<span class="'+i+'">'+[n[0],e].join(":")+"</span>";return t}()+"</div>",i+="</div>",t.setAttribute("data-type","minute"),t.innerHTML=i,this},a.prototype.show=function(){var t=this.element.container,e=this.element.trigger,i=this.element.input;if(i.disabled)return this;if(this.format(),"time"==this.params.type?this.minute():"date-range"==this.params.type?(this.dataRangeSelected||(this.dataRangeSelected=this[j]),this["date-range"]()):"month-range"==this.params.type?(this.dataRangeSelected||(this.dataRangeSelected=this[j]),this["month-range"]()):this[this.params.type]?this[this.params.type]():this.date(),0==document.body.contains(t)&&document.body.appendChild(t),e!=t){t.style.display="block",e.classList.add("active"),new r(e,t,{position:"4-1"});var a=parseFloat(t.style.left),n=t.offsetWidth;a+n+3>screen.width&&(t.style.left=Math.max(screen.width-n-3,0)+"px")}return"function"==typeof this.callback.show&&this.callback.show.call(this,i,t),this.display=!0,this},a.prototype.hide=function(){var t=this.element.container,e=this.element.trigger,i=this.element.input;return 1==this.display&&e!=t&&(t.style.display="none",e.classList.remove("active"),i.focus(),i.blur(),"function"==typeof this.callback.hide&&this.callback.hide.call(this,i,t)),this.display=!1,this};function e(){if(!1!==window.autoInit){function i(t){if(!(1!=t.nodeType||"INPUT"!=t.tagName||t.data&&t.data.dateTime)){var e=t.getAttribute("type");/^date|year|month|time|hour|minute/.test(e)&&new a(t)}}if(document.querySelectorAll("input[type]").forEach(i),!1!==window.watching)if(window.MutationObserver)new MutationObserver(function(t){t.forEach(function(e){var t=e.addedNodes;t.length&&t.forEach(function(t){i.call(e,t)})})}).observe(document.body,{childList:!0,subtree:!0});else document.body.addEventListener("DOMNodeInserted",function(t){i(t.target)})}}return"loading"!=document.readyState?e():window.addEventListener("DOMContentLoaded",e),a}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?(t.Tips=require("./ErrorTip"),module.exports=e()):"function"==typeof define&&(define.amd||define.cmd)?define(e):t.Validate=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,function(t){var s=this.ErrorTip;if("function"!=typeof t||s){if(!s)return window.console.error("need ErrorTip.js"),{}}else s=t("common/ui/ErrorTip");window.DBC2SBC=function(t){var e,i,a="";for(e=0;e<t.length;e++)a+=65281<=(i=t.charCodeAt(e))&&i<=65373?String.fromCharCode(t.charCodeAt(e)-65248):12288==i?String.fromCharCode(t.charCodeAt(e)-12288+32):t.charAt(e);return a},window.scrollTopTo=function(t,e){var i=document.scrollingElement.scrollTop,a=function(){if(i+=(t-i)/2,Math.abs(i-t)<=1)return document.scrollingElement.scrollTop=t,void(e&&e());document.scrollingElement.scrollTop=i,requestAnimationFrame(a)};a()},document.validate={reg:{email:"^[a-z0-9._%-]+@([a-z0-9-]+\\.)+[a-z]{2,4}$",number:"^\\-?\\d+(\\.\\d+)?$",url:"^(http|https)\\:\\/\\/[a-z0-9\\-\\.]+\\.[a-z]{2,3}(:[a-z0-9]*)?\\/?([a-z0-9\\-\\._\\:\\?\\,\\'\\/\\\\\\+&amp;%\\$#\\=~])*$",tel:"^1\\d{10}$",zipcode:"^\\d{6}$",date:"^\\d{4}\\-(0\\d|1[0-2])\\-([0-2]\\d|3[0-1])$",time:"^[0-2]\\d\\:[0-5]\\d$",hour:"^[0-2]\\d\\:00$",minute:"^[0-2]\\d\\:[0-5]\\d$","date-range":"^\\d{4}(\\-\\d{2}){2}\\s至\\s\\d{4}(\\-\\d{2}){2}$","month-range":"^\\d{4}\\-\\d{2}\\s至\\s\\d{4}\\-\\d{2}$"},name:{email:"邮箱",tel:"手机号码",url:"网址",zipcode:"邮编",password:"密码",number:"数值",range:"数值",date:"日期",year:"年份",month:"月份",hour:"小时",minute:"分钟",time:"时间",datetime:"日期时间","date-range":"日期范围","month-range":"月份范围"},selectRange:function(t,e,i){if(t)if(t.createTextRange){var a=t.createTextRange();a.collapse(!0),a.moveEnd("character",i),a.moveStart("character",e),a.select()}else t.focus&&(t.focus(),t.setSelectionRange(e,i))},getTel:function(t){var e=t||"";return(e=e.replace("+86","")).match(/\d/)&&11==e.match(/\d/g).length&&(e=e.replace(/\D/g,"")),e},getLength:function(t,i){if("password"==t.type)return i||t.value.length;var e=t.getAttribute("lang"),a=t.value.trim();if(!e)return i||a.length;if(""==a)return 0;var n=1,r=1;if(/zh/i.test(e)?r=.5:/en/i.test(e)&&(n=2),!i){var o=a.replace(/[\x00-\xff]/g,"").length,s=a.length-o;return Math.ceil(s*r)+Math.ceil(o*n)}var l=0,d=i;return a.split("").forEach(function(t,e){i<=l||(/[\x00-\xff]/.test(t)?l+=r:l+=n,i<=l&&(d=e+1))}),d},getType:function(t){var e=t.getAttribute("type"),i=e||t.type||"";if(i=i.toLowerCase().replace(/\W+$/,""),e&&e!=i&&!t.isTypeReset){var a=document.createElement("input");if(a.type=i,a.getAttribute("type")==i)try{t.type=i,t.isTypeReset=!0}catch(t){}}return"select-one"==i&&(i="select"),i.replace(/_/g,"")},getReportText:function(a){var t={name:this.name,badInput:"值无效",customError:"包含错误",patternMismatch:{pattern:"内容格式不符合要求",multiple:"某项内容格式不符合要求"},valueMissing:{radio:"请选择一个选项",checkbox:"如果要继续，请选中此框",select:"请选择列表中的一项","select-one":"请选择列表中的一项",empty:"请填写此字段"},rangeOverflow:"值偏大",rangeUnderflow:"值偏小",stepMismatch:"值不在间隔要求范围内",tooLong:"内容长度偏大",tooShort:"内容长度偏小",typeMismatch:"值和输入框类型不匹配"};if(!a)return"";var e=a.validity;if(1==e.valid)return"";var i="",n=a.id,r=this.getType(a),o=a.customValidate||{},s=o.report||{},l=t.name[r]||function(){if(o.label&&n&&!/checkbox|radio/.test(r)){var a="";return document.querySelectorAll("label[for="+n+"]").forEach(function(t){var e=t.cloneNode(!0);[].slice.call(e.children).forEach(function(t){t.remove()});var i=e.innerHTML.trim().replace(/\d/g,"").replace("：","");i.length>a.length&&(a=i)}),2<=a.length?a:void 0}}();if(e.valueMissing)i=(i=s.valueMissing)||(i=r&&l?"select"!=r?l+"不能为空":"您尚未选择"+l:t.valueMissing[r])||t.valueMissing.empty;else if(e.patternMismatch){if(!(i=s.patternMismatch)){var d=a.hasAttribute("multiple")&&1<a.value.split(",").length;i=t.patternMismatch[d?"multiple":"pattern"],r&&l&&(i=l+i)}}else if(e.badInput)i=(i=s.badInput)||(l||"")+t.badInput;else if(e.typeMismatch)(i=s.typeMismatch)||(i=t.typeMismatch,l&&(i=i.replace("输入框",l)));else if(e.rangeUnderflow||e.rangeOverflow){if(!(i=s.rangeUnderflow||s.rangeOverflow)&&r&&l){var c=a.getAttribute("min"),u=a.getAttribute("max");"month-range"==r&&(c=c.slice(0,7),u=u.slice(0,7));var h="必须要大于或等于"+c,p="必须要小于或等于"+u;e.rangeUnderflow&&e.rangeOverflow?i="起始日期"+h+"，结束日期"+p:e.rangeUnderflow?(i=l+h,"-range"==r.slice(-6)&&(i="起始日期"+h)):(i=l+p,"-range"==r.slice(-6)&&(i="结束日期"+p))}i=i||"值不在要求的范围内"}else if(e.stepMismatch){if(!(i=s.stepMismatch)){var f=+a.getAttribute("min"),m=+a.getAttribute("max"),v=+a.getAttribute("step")||1;i="number"==r||"range"==r?"请输入有效的值。两个最接近的有效值是"+function(){for(var t=+a.value.trim(),e=f,i=f;i<m;i+=v)if(i<t&&t<i+v){e=i;break}return[e,e+v].join("和")}():"请"+(a.hasAttribute("readonly")?"选择":"输入")+"有效的值。"+(l||"")+"间隔是"+v}i=i||t.stepMismatch}else if(e.tooLong||e.tooShort){var g=a.getAttribute("lang"),y="";/zh/i.test(g)?y="个汉字(2字母=1汉字)":/en/i.test(g)&&(y="个字符(1汉字=2字符)"),e.tooLong?(i=s.tooLong)||(i=(l||"")+"内容长度不能大于"+(a.maxlength||a.getAttribute("maxlength")).replace(/\D/g,"")+y):(i=s.tooShort)||(i="内容长度不能小于"+a.getAttribute("minlength")+y)}else e.customError&&(i=s.customError||t.customError);return"function"==typeof i&&(i=i.call(a,a)),i},getMissingState:function(t){var e={valueMissing:!1};if(!t||t.disabled)return e;var i=this.getType(t),a=t.value;if(t.hasAttribute("required")){if("radio"==i){var n=[t],r=t.closest("form")||t.parentElement.parentElement;return t.name&&r&&(n=r.querySelectorAll('input[type="radio"][name="'+t.name+'"]')),0==[].slice.call(n).some(function(t){return t.checked})&&(e.valueMissing=!0),e}if("checkbox"==i)return 0==t.checked&&(e.valueMissing=!0),e;"password"!=i&&(a=a.trim()),""==a&&(history.pushState&&(t.value=""),e.valueMissing=!0)}return e},isMissing:function(t){return this.getMissingState(t).valueMissing},getMismatchState:function(t,e,i){var a={patternMismatch:!1,typeMismatch:!1};if(!t||t.disabled)return!1;var n=t.value,r=n,o=this.getType(t);if(/^radio|checkbox|select$/i.test(o))return a;if("password"!=o&&(r=n.trim()),0==/^text|textarea|password$/i.test(o)&&(r=window.DBC2SBC(r)),"tel"==o&&(r=this.getTel(r)),!1!==document.validate.focusable&&0!==document.validate.focusable&&r!=n&&(t.value=r),""==r)return a;if(!(e=e||t.getAttribute("pattern")||o&&o.split("|").map(function(t){var e=document.validate.reg[t];if(e)return e}).join("|")))return a;var s=t.hasAttribute("multiple"),l=new RegExp(e,i||"i"),d=!0;return s&&0==/^number|range$/i.test(o)?r.split(",").forEach(function(t){t=t.trim(),d&&!l.test(t)&&(d=!1)}):d=l.test(r),0==d&&(t.hasAttribute("pattern")?a.patternMismatch=!0:a.typeMismatch=!0),a},isMismatch:function(t,e,i){var a=this.getMismatchState(t,e,i);return a.patternMismatch||a.typeMismatch},getRangeState:function(t){var e={badInput:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1};if(!t||t.disabled)return e;var i=this.getType(t),a=t.value.trim();if(/radio|checkbox|select|textarea/i.test(i)||""==a)return e;var n=t.getAttribute("min"),r=t.getAttribute("max"),o=Number(t.getAttribute("step"))||1;if("number"!=i&&"range"!=i||/[-+]?[0-9]/.test(a)||(e.badInput=!0),"-range"!=i.slice(-6)){if("0"!=a&&Number(a)!=a||(a=+a),n&&a<n&&(e.rangeUnderflow=!0),r&&r<a&&(e.rangeOverflow=!0),"number"!=i&&"range"!=i||!o||!n||/^\d+$/.test(Math.abs(a-n)/o)||(e.stepMismatch=!0),("hour"==i||"minute"==i||"time"==i)&&n&&o){var s=a.split(":")[1],l=n.split(":")[1];("hour"!=i||s==l&&(a.split(":")[0]-n.split(":")[0])%o==0)&&(s-l)%o==0||(e.stepMismatch=!0)}}else{var d=a.split(" ");"month-range"==i&&(n=n&&n.slice(0,7),r=r&&r.slice(0,7)),3==d.length&&(n&&d[0]<n&&(e.rangeUnderflow=!0),r&&d[2]>r&&(e.rangeOverflow=!0))}return e},isOut:function(t){var e=this.getRangeState(t);return e.badInput||e.rangeOverflow||e.rangeUnderflow||e.stepMismatch},getLengthState:function(t){var e={tooLong:!1,tooShort:!1};if(!t||t.disabled||/^radio|checkbox|select$/i.test(t.type))return e;var i=t.getAttribute("minlength"),a=t.maxlength||t.getAttribute("maxlength");if(""==t.value)return e;var n=this.getLength(t);return i&&n<i&&(e.tooShort=!0),a&&(a=a.replace(/\D/g,""))<n&&(e.tooLong=!0),e},isOverflow:function(t){var e=this.getLengthState(t);return e.tooLong||e.tooShort},getCustomState:function(t){var e={customError:!1},i=t.customValidate;if(i&&"function"==typeof i.method){var a=i.method.call(i.owner,t);a&&(e.customError=!0,"object"==typeof a&&a.customError?this.setCustomValidity(t,a.customError):this.setCustomValidity(t,a))}return e},setCustomValidity:function(t,e){e&&(t.customValidate||(t.customValidate={report:{}}),t.customValidate.report||(t.customValidate.report={}),t.customValidate.report.customError=e)},checkValidity:function(t){if(!t||t.disabled)return!0;var e=t.getAttribute("type")||t.type,i=t.tagName.toLowerCase();return 1==/^button|submit|reset|file|image$/.test(e)||"button"==i||(0==t.matches("input, select, textarea")&&t.children&&(t=t.querySelectorAll("input, select, textarea")),1==t.nodeType?this.getValidity(t).valid:!t.length||[].slice.call(t).every(function(t){return this.checkValidity(t)}.bind(this)))},getValidity:function(t){if(t.lastValidateState&&t.lastValue===t.value&&0==/radio|checkbox/.test(t.type))return t.lastValidateState;var e={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1};e=Object.assign({},e,this.getMissingState(t),this.getMismatchState(t),this.getRangeState(t),this.getLengthState(t),this.getCustomState(t));var i=!1;for(var a in e)"valid"!=a&&1==e[a]&&(i=!0);return e.valid=!i,t.lastValue=t.value,t.lastValidateState=e,setTimeout(function(){delete t.lastValidateState},1),e},reportValidity:function(t,e){e=e||this.getReportText(t),this.errorTip(t,e);var i=!e;return this.styleError(t,i),i},styleError:function(t,i){if(!t)return this;void 0===i&&(i=t.validity.valid);var e=this.getTarget(t);if(!e)return i;var a=t.closest("form")||t.customValidate&&t.customValidate.owner;return"radio"==t.type&&t.name&&a?a.querySelectorAll("input[type=radio][name="+t.name+"]").forEach(function(t){var e=this.getTarget(t);i?(e.classList.remove("error"),e.removeAttribute("aria-label")):e.classList.add("error")}.bind(this)):i?(e.classList.remove("error"),e.removeAttribute("aria-label")):e.classList.add("error"),i},errorTip:function(n,r){var t=this.getTarget(n);if(!t||!r)return this;var e=window.getComputedStyle(t);if("none"==e.display||"hidden"==e.visibility)return this;function i(){var e=document.validate.errorTip.control,a=document.validate.errorTip.target;if(new s(a,r,{onShow:function(t,e){var i=.5*(e.clientWidth-a.clientWidth);e.style.marginLeft=i<0?.5*(e.clientWidth-a.clientWidth)+"px":0,!1===document.validate.focusable?e.classList.add("none"):e.classList.remove("none")},onHide:function(){var t=e.closest("form");t&&t.isImmediated&&document.validate.styleError(e)}}),!1!==document.validate.focusable&&0!==document.validate.focusable&&(document.validate.focusable=null,document.validate.getType(e)))if(-1!=r.indexOf("内容长度")&&-1!=r.indexOf("大")){var t=e.value.length,i=e.maxlength||e.getAttribute("maxlength").replace(/\D/g,"");t&&i&&document.validate.selectRange(n,document.validate.getLength(n,i),t)}else e.focus&&e.select&&(e.focus(),e.select())}document.validate.errorTip.control=n;var a=(document.validate.errorTip.target=t).getBoundingClientRect(),o=-1;return a.top<50?o=window.pageYOffset-(50-a.top):a.bottom>window.innerHeight&&(o=window.pageYOffset+(a.bottom-window.innerHeight)),0<=o?window.scrollTopTo(o,i):i(),this},getTarget:function(t){if(!t)return null;var e=t,i=t.getAttribute("type")||t.type,a=t.id,n=t.tagName.toLowerCase(),r=window.getComputedStyle(t);if("radio"==i&&"1"!=r.opacity)e=t.parentElement.querySelector("label.ui-radio[for="+a+"]");else if("checkbox"==i&&"1"!=r.opacity)e=t.parentElement.querySelector("label.ui-checkbox[for="+a+"]");else if("select"==i||"select"==n)"1"!=r.opacity&&(e=t.nextElementSibling);else if("range"==i)"none"==r.display&&(e=t.nextElementSibling);else if("hidden"==i||"none"==r.display||"hidden"==r.visibility){var o=document.getElementById(e.getAttribute("data-target"))||t.dataTarget;o&&(e=document.validate.getTarget(o))}else"textarea"==i||"textarea"==n?0==t.classList.contains("ui-textarea")&&t.parentElement.querySelector(".ui-textarea")&&(e=t.parentElement.querySelector(".ui-textarea")):"input"==n&&0==t.classList.contains("ui-input")&&t.parentElement.querySelector(".ui-input")&&(e=t.parentElement.querySelector(".ui-input"));return e}},[HTMLInputElement.prototype,HTMLSelectElement.prototype,HTMLTextAreaElement.prototype].forEach(function(t){Object.defineProperty(t,"validity",{get:function(){return document.validate.getValidity(this)},configurable:!0}),Object.defineProperty(t,"checkValidity",{value:function(){return this.validity.valid},configurable:!0}),Object.defineProperty(t,"reportValidity",{value:function(t){return document.validate.reportValidity(this,t)},configurable:!0}),Object.defineProperty(t,"setCustomValidity",{value:function(e){if(e){this.customValidate||(this.customValidate={}),this.customValidate.report||(this.customValidate.report={}),"string"==typeof e?["badInput","customError","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valueMissing"].forEach(function(t){this.customValidate.report[t]=e}):"object"==typeof e&&Object.assign(this.customValidate.report,e)}},configurable:!0})}),Object.defineProperty(HTMLFormElement.prototype,"checkValidity",{value:function(){return document.validate.checkValidity(this)},configurable:!0});function e(t,e,i){if("string"==typeof t&&(t=document.querySelector(t)),!t)return this;var a=t;if(a.data&&a.data.validate)return a.data.validate;a.setAttribute("novalidate","novalidate");var n=Object.assign({},{multiple:!0,immediate:!0,label:!0,validate:[],onError:function(){},onSuccess:function(){}},i||{});a.querySelectorAll('[type="submit"]:disabled, [type="image"]:disabled').forEach(function(t){t.disabled=!1}),a.addEventListener("submit",function(t){if(!this.stopValidate)return t.preventDefault(),this.checkValidity()&&"function"==typeof e&&e.call(this,a),!1}.bind(this));var r=n.validate;r&&!r.forEach&&r.id&&(r=[r]);var o=n.label;return a.querySelectorAll("input, select, textarea").forEach(function(t){var e=t.id,i={label:o,owner:this};e&&r&&r.length&&r.forEach(function(t){t.id==e&&(t.label=o,t.owner=this,i=t)}.bind(this)),t.lastValue=t.value||"",t.customValidate=i}.bind(this)),this.element={form:a},this.callback={error:n.onError,success:n.onSuccess},this.data=r,this.params={multiple:n.multiple,immediate:n.immediate,label:o},this.count(),this.enhance(),a.data||(a.data={}),a.data.validate=this}return Object.defineProperty(e.prototype,"count",{value:function(){var d=this.element.form;return d.querySelectorAll("input, textarea").forEach(function(e){var i=e.getAttribute("maxlength");if(i)try{e.setAttribute("maxlength","_"+i+"_")}catch(t){e.removeAttribute("maxlength"),e.maxlength=i}var a=e.getAttribute("minlength");if(i){i=i&&i.replace(/\D/g,"");var t=e.tagName.toLowerCase(),n=function(){return["ui",t].concat([].slice.call(arguments)).join("-")},r=e.parentElement.querySelector("."+n("count"))||d.querySelector("."+n("count")+'[for="'+e.id+'"]');if(r||e.parentElement.classList.contains(n("x"))){var o=e.id;o||(o=("lulu_"+Math.random()).replace("0.",""),e.id=o),r?r.hasAttribute("for")||r.setAttribute("for",o):((r=document.createElement("label")).className=n("count"),r.setAttribute("for",o),r.innerHTML="<span>0</span><slash>/</slash><span>"+(a?a+"-":"")+i+"</span>",e.parentElement.appendChild(r));function s(){var t=document.validate.getLength(e);0!=(l.innerHTML=t)&&(i<t||a&&t<a)?l.classList.add("error"):l.classList.remove("error")}var l=r.querySelector("span")||r;e.addEventListener("input",s),s(),history.pushState||e.addEventListener("blur",s)}}}),this}}),Object.defineProperty(e.prototype,"enhance",{value:function(){this.element.form.querySelectorAll("input, textarea").forEach(function(r){var t=document.validate.getType(r);0==/^checkbox|radio|range$/i.test(t)&&r.addEventListener("paste",function(t){var e=this.getAttribute("type")||this.type,i=t.clipboardData||window.clipboardData,a="";if(i){var n="";window.getSelection?n=this.value.slice(r.selectionStart,r.selectionEnd):document.selection&&(n=document.selection.createRange().text),""!=this.value.trim()&&n!==this.value||(t.preventDefault(),t.stopPropagation(),a=i.getData("text")||"","password"!=e&&(a=a.trim()),"email"==e?a=a.replace("#","@"):"tel"==e&&(a=document.validate.getTel(a)),this.value=a),r.dispatchEvent(new CustomEvent("input"))}})})}}),e.prototype.immediate=function(){var t=this.element.form;return t.isImmediated||(t.querySelectorAll("input, select, textarea").forEach(function(t){var e=t.type,i=t.getAttribute("type");"button"!=e&&"submit"!=e&&"reset"!=e&&"file"!=e&&"image"!=e&&("radio"==e||"checkbox"==e?t.addEventListener("click",function(){0!=this.params.immediate&&this.reportValidity(t)}.bind(this)):/select/.test(e)||/range|date|time|hour|minute|hidden/.test(i)?t.addEventListener("change",function(){0!=this.params.immediate&&this.reportValidity(t)}.bind(this)):(t.addEventListener("focus",function(){this.params.immediate&&setTimeout(function(){document.validate.focusable=0,this.reportValidity(t)}.bind(this),20)}.bind(this)),t.addEventListener("input",function(){0!=this.params.immediate&&(null!=document.msHidden&&""==t.value&&!t.lastValue&&t.getAttribute("placeholder")||(document.validate.focusable=!1,this.reportValidity(t)),t.lastValue=t.value)}.bind(this))))}.bind(this)),t.isImmediated=!0),this},e.prototype.checkValidity=function(){var t=this.element.form,i=!0;return document.validate.focusable=!0,t.querySelectorAll("input, select, textarea").forEach(function(t){if(1==i||this.params.multiple){var e=document.validate.styleError(t);1==i&&0==e&&(this.reportValidity(t),i=!1),this.callback[e?"success":"error"].call(this,t)}}.bind(this)),!t.isImmediated&&this.params.immediate&&this.immediate(),i},e.prototype.reportValidity=function(t,e){t&&document.validate.reportValidity(t,e)},e}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&(define.amd||define.cmd)?define(e):t.Pagination=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,function(){function a(t,e){var i={total:0,current:1,per:15,mode:"long",href:null,onClick:function(){}},a=t;if("string"==typeof t&&(a=document.querySelector(t)),a){var n={};for(var r in i)a.hasAttribute(r)&&(n[r]=t.getAttribute(r));if(a.data&&a.data.pagination)return a.data.pagination}var o=Object.assign({},i,n,e||{});if(this.params=Object.assign({},o),delete this.params.onClick,this.callback={click:o.onClick},this.element={container:a,pagination:a},this.svg='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"><path d="M85.876,100.5l49.537-50.526c4.089-4.215,4.089-11.049,0-15.262 c-4.089-4.218-10.719-4.218-14.808,0L63.586,92.868c-4.089,4.215-4.089,11.049,0,15.264l57.018,58.156 c4.089,4.215,10.719,4.215,14.808,0c4.089-4.215,4.089-11.049,0-15.262L85.876,100.5z"/></svg>',!a)return this;this.events(),this.show(),a.data||(a.data={}),a.data.pagination=this,Object.keys(this.params).forEach(function(e){Object.defineProperty(a,e,{writeable:!0,enumerable:!0,get:function(){return this.getAttribute(e)||function(){return this.data&&this.data.pagination&&this.data.pagination.params[e]||null}()},set:function(t){this.setAttribute(e,t),this.data&&this.data.pagination&&(this.data.pagination.params[e]=t,this.data.pagination.show())}})})}var c={add:function(){return["ui-page"].concat([].slice.call(arguments)).join("-")},join:function(){return c+" "+this.add.apply(this,arguments)},toString:function(){return"ui-page"}};a.prototype.events=function(){var n=this.element.pagination;n.addEventListener("click",function(t){var e=t.target.closest("a");if(e){var i=e.getAttribute("data-page");this.params.current=+i;var a=e.className;this.show(),(e=/prev/.test(a)?n.querySelector("."+c.add("prev")):/next/.test(a)?n.querySelector("."+c.add("next")):n.querySelector("."+c.add("current")))&&(e.focus(),0==window.isKeyEvent&&e.blur(),/^javascript/.test(e.href)&&t.preventDefault()),this.callback.click.call(this,e,this.params.current)}}.bind(this))},a.prototype.create=function(){var e,t=this.params,i=+t.total||0,a=+t.current||1,n=+t.per||1;e="string"==typeof t.href?t.href:e||"javascript:";function r(t){return"function"==typeof e?e(t):e.toString().replace("${current}",t)}var o=Math.ceil(i/n)||1,s="";s=1<a?s+'<a href="'+r(a-1)+'" class="'+c.join("prev")+'" data-page="'+(a-1)+'" aria-label="上一页，当前第'+a+'页">'+this.svg+"</a>":s+'<span class="'+c.join("prev")+'">'+this.svg+"</span>";if("long"==t.mode){function l(t){s=t==a?s+'<span class="'+c.join("current")+'" aria-label="第'+t+"页，共"+o+'页" aria-selected="true" role="option">'+t+"</span>":s+'<a href="'+r(t)+'" class="'+c+'" data-page="'+t+'" aria-label="第'+t+"页，共"+o+'页">'+t+"</a>"}if(o<=6)for(var d=1;d<=o;d++)l(d);else if(a<.5*o&&a<5){if(a<5)for(d=1;d<6;d++)l(d);s=s+'<span class="'+c.join("ellipsis")+'">...</span>',l(o)}else if(.5*o<a&&o-6+2<a)for(l(1),s=s+'<span class="'+c.join("ellipsis")+'">...</span>',d=o-6+2;d<=o;d++)l(d);else l(1),s=s+'<span class="'+c.join("ellipsis")+'">...</span>',l(a-1),l(a),l(a+1),s=s+'<span class="'+c.join("ellipsis")+'">...</span>',l(o)}else"short"==t.mode&&(s=s+'<span class="'+c.join("text")+'" aria-label="第'+a+"页，共"+o+'页" role="option">'+[a,o].join("/")+"</span>");return s=a<o?s+'<a href="'+r(a+1)+'" class="'+c.join("next")+'" data-page="'+(a+1)+'" aria-label="下一页，当前第'+a+'页">'+this.svg+"</a>":s+'<span class="'+c.join("next")+'">'+this.svg+"</span>",'<div class="'+c.add("x")+'">'+s+"</div>"},a.prototype.show=function(){var t=this.params;t.total=Math.max(t.total,0),t.per=Math.max(t.per,0);var e=Math.ceil(t.total/t.per);return t.current>e?t.current=e:t.current<1&&(t.current=1),this.element.pagination.innerHTML=this.create(),this},a.prototype.refresh=function(){var t=this.params,e=this.element.pagination;for(var i in t)e.hasAttribute(i)&&(this.params[i]=e.getAttribute(i));this.show()};function t(){if(document.querySelectorAll("ui-pagination").forEach(function(t){new a(t)}),!1!==window.watching){function e(t){if(1==t.nodeType&&0!=t.matches("ui-pagination")){var e=t,i=e.data&&e.data.pagination;i?i.refresh():new a(e)}}if(window.MutationObserver)new MutationObserver(function(t){t.forEach(function(t){"childList"==t.type&&t.addedNodes.forEach(function(t){e(t)})})}).observe(document.body,{childList:!0,subtree:!0});else document.body.addEventListener("DOMNodeInserted",function(t){e(t.target)})}}return"loading"!=document.readyState?t():window.addEventListener("DOMContentLoaded",t),a}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?(t.Drop=require("../ui/Drop"),t.Pagination=require("../ui/Pagination"),t.Loading=require("../ui/Loading"),module.exports=e()):"function"==typeof define&&(define.amd||define.cmd)?define(e):t.Table=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,function(t){var r=this.Drop,e=this.Pagination,i=this.Loading;"function"==typeof t?(e=e||t("common/ui/Pagination"),r=r||t("common/ui/Drop"),i=i||t("common/ui/Loading")):i||window.console.warn("suggest include Loading.js"),window.scrollTopTo=function(t,e){var i=document.scrollingElement.scrollTop,a=function(){if(i+=(t-i)/2,Math.abs(i-t)<=1)return document.scrollingElement.scrollTop=t,void(e&&e());document.scrollingElement.scrollTop=i,requestAnimationFrame(a)};a()};function a(t,e){if("string"==typeof t&&(t=document.querySelector(t)),!t)return this;if(t.data&&t.data.table)return t.data.table;var i={total:0,per:15,current:1,keyMap:{key:"",total:"total",per:"per",current:"current"}},a={ajaxOptions:{},pageList:[15,30,50],pageOptions:i,parse:function(t){return"string"==typeof t?t:""},onShow:function(){},onPage:null,onCheck:function(){}},n=Object.assign({},a,e||{});e.pageOptions&&(n.pageOptions=Object.assign({},i,e.pageOptions));var r=t,o=r.parentElement,s=o.querySelector("."+S),l=o.querySelector(T+", ."+T),d=o.querySelector("."+f),c=o.querySelector("."+m),u=o.querySelector("."+v),h=o.querySelector("."+g);this.element={container:o,table:r,empty:s,loading:l,total:d,per:c,data:u,page:h},this.callback={parse:n.parse,page:n.onPage,check:n.onCheck,show:n.onShow},this.params={page:n.pageOptions,ajax:n.ajaxOptions,list:n.pageList},this.events();var p=r.querySelector("tbody");p?(""==p.innerHTML.trim()?(this.isFirstAjax=!0,this.ajax()):this.page(),r.data||(r.data={}),r.data.table=this):window.console.error("<tbody>元素必需")}var x="loading",d="checked",S="table-null-x",j="table-error-x",T="ui-loading",f="table-page-total",m="table-page-per",v="table-page-data",g="table-page",c='[type="checkbox"]';return a.prototype.events=function(){var i=this.params,t=this.element,s=this.callback,l=t.table;l.addEventListener("click",function(t){var e=t.target;if(e&&"checkbox"==e.type&&e.closest("tr").querySelector(":first-child "+c)===e){var i=[];l.querySelectorAll("tr").forEach(function(t){if(0!=t.clientWidth){var e=t.querySelector("td:first-child "+c+":enabled");e&&i.push(e)}});var a=!1,n=!1;if(e.closest("th"))n=!(a=e[d]),i.forEach(function(t){t[d]=a});else{var r=[].slice.call(i).filter(function(t){return t[d]}).length;a=i.length==r,n=0==r}var o=l.querySelector("th:first-child "+c);o&&(o[d]=a),i.forEach(function(t){t.closest("tr").classList[t[d]?"add":"remove"]("selected")}),s.check.call(this,a,n,e,i)}}.bind(this)),l.addEventListener("click",function(t){var e=t.target,i=null;e&&0==/^(?:a|input|textarea|tbody|i|select|label|th)$/i.test(e.tagName)&&(i=e.closest("tr")&&e.closest("tr").querySelector("td:first-child "+c+":enabled"))&&i.click()});var a=l.id,e=i.page.per,n=t.per;if(n){if(a&&window.localStorage&&localStorage[a]&&(e=localStorage[a],i.page.per=e),n.innerHTML=e,!r)return void window.console.error("need Drop.js");this.dropList=new r(n).list(i.list.map(function(t){return{value:t}}),{width:60,onSelect:function(t){var e=t.value;window.localStorage&&a&&(localStorage[a]=e),i.page.per!=e&&(i.page.per=e,i.page.current=1,this.ajax())}.bind(this)})}},a.prototype.ajax=function(t){t=t||{};var s=this.params,l=this.element,d=this.callback,c=l.table,i=l.container;if("true"==c.getAttribute("aria-busy"))return this;var u=c.querySelector("tbody"),h=Object.assign({},s.ajax,t);if(!h.url)return this;/^\/\//.test(h.url)&&(h.url=location.protocol+h.url);var e=t.data||{},a=s.ajax.data||{};"function"==typeof a&&(a=a()||{});var n={},p=s.page.keyMap;p&&(n[p.current]=s.page.current,n[p.per]=s.page.per);var r=Object.assign({},n,a,e);p&&(s.page.current=r[p.current],s.page.per=r[p.per]);var o=new URLSearchParams(r),f=h.url,m="?";1<f.split("?").length&&(m+=f.split("?")[1]),f=f.split("?")[0]+m+"&"+o.toString();function v(t){var e=i.querySelector("."+j);e||((e=document.createElement("div")).className=j,c.insertAdjacentElement("afterend",e),l.error=e),e.style.display="block",e.innerHTML=t||"数据没有获取成功","function"==typeof h.error&&h.error()}function g(){if(c.removeAttribute("aria-busy"),l.loading&&(l.loading.style.display="none"),this.pagination){var t=this.pagination.element.container.querySelector("."+x);t&&t.classList.remove(x)}"function"==typeof h.complete&&h.complete(),this.show()}function y(){if(!history.pushState&&/\/\//.test(f)&&f.split("//")[1].split("/")[0]!=location.host)return g.call(this),void v("当前浏览器不支持跨域数据请求");var o=new XMLHttpRequest;o.open("GET",f),o.onload=function(){var t={};try{t=JSON.parse(o.responseText)||{}}catch(t){return void v("解析异常，请稍后重试")}if(0===t.code||0===t.error){var e=d.parse(t);if(history.pushState)u.innerHTML=e||"";else{var i=document.createElement("div");i.innerHTML="<table><tbody>"+(e||"")+"</tbody></table>",u.parentNode.replaceChild(i.firstChild.firstChild,u)}var a=l.empty;e&&e.trim()||(a||((a=document.querySelector("div")).className=S,c.insertAdjacentElement("afterend",a),l.empty=a),a.style.display="block");var n,r=p.key;!(n=r?t.data[r][p.total]:t.data[p.total])&&0!=n||(l.total&&(l.total.innerHTML=n),s.page.total=n),l.data&&(l.data.style.display="block"),this.page(),"function"==typeof h.success&&h.success(t),g.call(this)}else v(t.msg||"返回数据格式不符合要求")}.bind(this),o.onerror=function(){v("网络异常，数据没有获取成功，您可以稍后重试！"),g.call(this)},o.send(),c.setAttribute("aria-busy","true")}var b=window.pageYOffset,w=l.loading;if(w||((w=document.createElement("div")).className=T,c.insertAdjacentElement("afterend",w),l.loading=w),w.style.paddingBottom="","none"==window.getComputedStyle(w).display){var E=c.querySelector("thead");w.style.height=c.clientHeight-(E?E.clientHeight:0)+"px",""==u.innerHTML.trim()&&(w.style.height="")}var L=parseFloat(w.style.height)-window.innerHeight;0<L&&(w.style.paddingBottom=L+"px"),w.style.display="block",l.empty&&(l.empty.style.display="none"),l.error&&(l.error.style.display="none"),u.innerHTML="";var A=c.getBoundingClientRect();return!this.isFirstAjax&&A.top<0?(b=A.top+b,window.scrollTopTo(b,function(){y.call(this)}.bind(this))):!this.isFirstAjax&&A.top>window.innerHeight?(b-=A.top,window.scrollTopTo(b,function(){y.call(this)}.bind(this))):(y.call(this),this.isFirstAjax=!1),this},a.prototype.page=function(t){if(!this.element.page)return this;if(!e)return window.console.error("need Pagination.js"),this;var i=this.params.page;this.pagination?(this.pagination.params=Object.assign(this.pagination.params,i),this.pagination.show()):this.pagination=new e(this.element.page,{total:t||i.total,current:i.current,per:i.per,mode:i.mode||"long",onClick:function(t,e){i.current=e,"function"==typeof this.callback.page?this.callback.page.call(this,t,e):(t.classList.add(x),this.ajax())}.bind(this)})},a.prototype.show=function(){this.element.loading&&(this.element.loading.style.paddingBottom="");var t=this.element.table.querySelector("th:first-child "+c);return t&&(t[d]=!1),"function"==typeof this.callback.show&&this.callback.show.call(this),this},a}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?(t.LightTip=require("../ui/LightTip"),t.Loading=require("../ui/Loading"),t.Validate=require("../ui/Validate"),module.exports=e()):"function"==typeof define&&(define.amd||define.cmd)?define(e):t.Form=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,function(t){var c=this.LightTip,e=this.Loading,r=this.Validate;if("function"==typeof t)c=c||t("common/ui/LightTip"),e=e||t("common/ui/Loading"),r=r||t("common/ui/Validate");else{if(!r)return window.console.error("need Validate.js"),{};if(!c)return window.console.error("need LightTip.js"),{};e||window.console.warn("need Loading.js")}function i(t,e,i){if("string"==typeof t&&(t=document.querySelector(t)),!t)return this;if(t.data&&t.data.form)return t.data.form;"function"==typeof(e=e||function(){})&&(e={success:e}),i=i||{};var a=t,n=a.querySelector('[type="submit"], [type="image"]');return(n=n||a.querySelector("button:nth-of-last-type()"))?(!1===window.autoInit&&a.querySelectorAll("select").forEach(function(t){t.refresh&&t.refresh()}),this.element={form:a,submit:n},this.callback=e,this.validate=new r(a,function(){e.avoidSend&&e.avoidSend.call(this,a)||this.ajax()}.bind(this),i),a.data||(a.data={}),a.data.form=this):this}var u="disabled";return i.prototype.ajax=function(){var i=this.callback,t=this.element.form,e=null,a=this.element.submit;e=(e=a.id&&document.querySelector("label[for="+a.id+"]"))||a,this.element.button=e;var n=t.action.split("#")[0]||location.href.split("#")[0],r=t.method||"POST";if(history.pushState||new URL(n).host==location.host){e.loading=!0,a.setAttribute(u,u);var o=new FormData(t);i.beforeSend&&i.beforeSend.call(this,l,o);var s="";"get"==r.toLowerCase()&&(s=new URLSearchParams(o).toString(),n=1<n.split("?").length?n+"&"+s:n+"?"+s);var l=new XMLHttpRequest;l.open(r,n),l.onload=function(){var e={};try{!(e=JSON.parse(l.responseText))||0!=e.code&&0!=e.error?((new c).error(e&&e.msg||"返回数据格式不符合要求。"),i.error&&i.error.call(this,e)):i.success?i.success.call(this,e):(new c).success(e.msg||"操作成功。")}catch(t){(new c).error(e.msg||"返回数据解析出错。"),i.error&&i.error.call(this,t)}d(e)}.bind(this),l.onerror=function(){(new c).error("网络异常，刚才的操作没有成功，您可以稍后重试。"),i.error&&i.error.apply(this,arguments),d()}.bind(this);var d=function(){e.loading=!1,a.removeAttribute(u),i.complete&&i.complete.apply(this,arguments)};l.send(o)}else(new c).error("当前浏览器不支持跨域数据请求。")},i.prototype.submit=function(){return this.element.form.dispatchEvent(new CustomEvent("submit")),this},i});
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";function g(e){return null!=e&&e===e.window}var t=[],E=C.document,r=Object.getPrototypeOf,s=t.slice,v=t.concat,u=t.push,i=t.indexOf,n={},o=n.toString,y=n.hasOwnProperty,a=y.toString,l=a.call(Object),m={},x=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.4.1",S=function(e,t){return new S.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function d(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!x(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||x(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e)||(t=r(e))&&("function"!=typeof(n=y.call(t,"constructor")&&t.constructor)||a.call(n)!==l))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){b(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(d(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(d(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!=a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(d(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return v.apply([],a)},guid:1,support:m}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var h=function(n){function f(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)}function i(){T()}var e,d,b,o,a,h,p,g,w,u,l,T,C,s,E,v,c,y,m,S="sizzle"+ +new Date,x=n.document,k=0,r=0,N=ue(),A=ue(),D=ue(),j=ue(),q=function(e,t){return e===t&&(l=!0),0},L={}.hasOwnProperty,t=[],H=t.pop,O=t.push,P=t.push,R=t.slice,M=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",W="[\\x20\\t\\r\\n\\f]",$="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+W+"*("+$+")(?:"+W+"*([*^$|!~]?=)"+W+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+W+"*\\]",B=":("+$+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",_=new RegExp(W+"+","g"),z=new RegExp("^"+W+"+|((?:^|[^\\\\])(?:\\\\.)*)"+W+"+$","g"),U=new RegExp("^"+W+"*,"+W+"*"),X=new RegExp("^"+W+"*([>+~]|"+W+")"+W+"*"),V=new RegExp(W+"|>"),G=new RegExp(B),Y=new RegExp("^"+$+"$"),Q={ID:new RegExp("^#("+$+")"),CLASS:new RegExp("^\\.("+$+")"),TAG:new RegExp("^("+$+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+W+"*(even|odd|(([+-]|)(\\d*)n|)"+W+"*(?:([+-]|)"+W+"*(\\d+)|))"+W+"*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^"+W+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+W+"*((?:-\\d)?\\d*)"+W+"*\\)|)(?=[^-]|$)","i")},J=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,ee=/^[^{]+\{\s*\[native \w/,te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ne=/[+~]/,re=new RegExp("\\\\([\\da-f]{1,6}"+W+"?|("+W+")|.)","ig"),ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{P.apply(t=R.call(x.childNodes),x.childNodes),t[x.childNodes.length].nodeType}catch(e){P={apply:t.length?function(e,t){O.apply(e,R.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,n,r){var i,o,a,s,u,l,c,f=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!r&&((t?t.ownerDocument||t:x)!==C&&T(t),t=t||C,E)){if(11!==p&&(u=te.exec(e)))if(i=u[1]){if(9===p){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&m(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return P.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&d.getElementsByClassName&&t.getElementsByClassName)return P.apply(n,t.getElementsByClassName(i)),n}if(d.qsa&&!j[e+" "]&&(!v||!v.test(e))&&(1!==p||"object"!==t.nodeName.toLowerCase())){if(c=e,f=t,1===p&&V.test(e)){for((s=t.getAttribute("id"))?s=s.replace(ie,oe):t.setAttribute("id",s=S),o=(l=h(e)).length;o--;)l[o]="#"+s+" "+xe(l[o]);c=l.join(","),f=ne.test(e)&&ye(t.parentNode)||t}try{return P.apply(n,f.querySelectorAll(c)),n}catch(t){j(e,!0)}finally{s===S&&t.removeAttribute("id")}}}return g(e.replace(z,"$1"),t,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),r=n.length;r--;)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in d=se.support={},a=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!J.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:x;return r!==C&&9===r.nodeType&&r.documentElement&&(s=(C=r).documentElement,E=!a(C),x!==C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",i,!1):n.attachEvent&&n.attachEvent("onunload",i)),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=ee.test(C.getElementsByClassName),d.getById=ce(function(e){return s.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(re,f);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(re,f);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},b.find.CLASS=d.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&E)return t.getElementsByClassName(e)},c=[],v=[],(d.qsa=ee.test(C.querySelectorAll))&&(ce(function(e){s.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+W+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+W+"*(?:value|"+I+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+W+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),s.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=ee.test(y=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),c.push("!=",B)}),v=v.length&&new RegExp(v.join("|")),c=c.length&&new RegExp(c.join("|")),t=ee.test(s.compareDocumentPosition),m=t||ee.test(s.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e===C||e.ownerDocument===x&&m(x,e)?-1:t===C||t.ownerDocument===x&&m(x,t)?1:u?M(u,e)-M(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===C?-1:t===C?1:i?-1:o?1:u?M(u,e)-M(u,t):0;if(i===o)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?pe(a[r],s[r]):a[r]===x?-1:s[r]===x?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&T(e),d.matchesSelector&&E&&!j[t+" "]&&(!c||!c.test(t))&&(!v||!v.test(t)))try{var n=y.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){j(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!==C&&T(e),m(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&L.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(ie,oe)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(q),l){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(re,f),e[3]=(e[3]||e[4]||e[5]||"").replace(re,f),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&G.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(re,f).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=new RegExp("(^|"+W+")"+e+"("+W+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(_," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!=m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){for(;l;){for(a=e;a=a[l];)if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){for(d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];a=++s&&a&&a[l]||(d=s=0)||u.pop();)if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)for(;(a=++s&&a&&a[l]||(d=s=0)||u.pop())&&((x?a.nodeName.toLowerCase()!==f:1!==a.nodeType)||!++d||(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a!==e)););return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=M(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=p(e.replace(z,"$1"));return s[S]?le(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(re,f),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return Y.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(re,f).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===s},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){for(;e=e[u];)if((1===e.nodeType||f)&&s(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v)for(i=Te(p,u),v(i,[],n,r),o=i.length;o--;)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a));if(e){if(y||d){if(y){for(i=[],o=p.length;o--;)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}for(o=p.length;o--;)(a=p[o])&&-1<(i=y?M(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):P.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<M(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u:l)(e,t,n);return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r&&!b.relative[e[n].type];n++);return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(z,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=A[e+" "];if(l)return t?0:l.slice(0);for(a=e,s=[],u=b.preFilter;a;){for(o in n&&!(r=U.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=X.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),a=a.slice(n.length)),b.filter)!(r=Q[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):A(e,s).slice(0)},p=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=D[e+" "];if(!a){for(n=(t=t||h(e)).length;n--;)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=D(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t===C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){for(a=0,t||o.ownerDocument===C||(T(o),n=!E);s=v[a++];)if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){for(a=0;s=y[a++];)s(c,f,t,n);if(e){if(0<u)for(;l--;)c[l]||f[l]||(f[l]=H.call(r));f=Te(f)}P.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(re,f),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=Q.needsContext.test(e)?0:o.length;i--&&(a=o[i],!b.relative[s=a.type]);)if((u=b.find[s])&&(r=u(a.matches[0].replace(re,f),ne.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return P.apply(n,r),n;break}}return(l||p(e,c))(r,t,!E,n,!t||ne.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(q).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(I,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=h,S.expr=h.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=h.uniqueSort,S.text=h.getText,S.isXMLDoc=h.isXML,S.contains=h.contains,S.escapeSelector=h.escape;function T(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r}function k(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var N=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return x(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&N.test(e)?S(e):e||[],!1).length}});var q,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||q,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):x(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:L.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),D.test(r[1])&&S.isPlainObject(t))for(r in t)x(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}).prototype=S.fn,q=S(E);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!N.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(O[r]||S.uniqueSort(n),H.test(r)&&n.reverse()),this.pushStack(n)}});var R=/[^\x20\t\r\n\f]+/g;function M(e){return e}function I(e){throw e}function W(e,t,n,r){var i;try{e&&x(i=e.promise)?i.call(e).done(t).fail(n):e&&x(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var n;r="string"==typeof r?(n={},S.each(r.match(R)||[],function(e,t){n[t]=!0}),n):S.extend({},r);function i(){for(a=a||r.once,t=o=!0;u.length;l=-1)for(e=u.shift();++l<s.length;)!1===s[l].apply(e[0],e[1])&&r.stopOnFalse&&(l=s.length,e=!1);r.memory||(e=!1),o=!1,a&&(s=e?[]:"")}var o,e,t,a,s=[],u=[],l=-1,c={add:function(){return s&&(e&&!o&&(l=s.length-1,u.push(e)),function n(e){S.each(e,function(e,t){x(t)?r.unique&&c.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),e&&!o&&i()),this},remove:function(){return S.each(arguments,function(e,t){for(var n;-1<(n=S.inArray(t,s,n));)s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s=s&&[],this},disable:function(){return a=u=[],s=e="",this},disabled:function(){return!s},lock:function(){return a=u=[],e||o||(s=e=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),o||i()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!t}};return c},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=x(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&x(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){function e(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,x(t)?s?t.call(e,l(u,o,M,s),l(u,o,I,s)):(u++,t.call(e,l(u,o,M,s),l(u,o,I,s),l(u,o,M,o.notifyWith))):(a!==M&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}}var n=this,r=arguments,t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==I&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,x(r)?r:M,e.notifyWith)),o[1][3].add(l(0,e,x(t)?t:M)),o[2][3].add(l(0,e,x(n)?n:I))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){i[t]=this,o[t]=1<arguments.length?s.call(arguments):e,--n||a.resolveWith(i,o)}}var n=arguments.length,r=n,i=Array(r),o=s.call(arguments),a=S.Deferred();if(n<=1&&(W(e,a.done(t(r)).resolve,a.reject,!n),"pending"===a.state()||x(o[r]&&o[r].then)))return a.then();for(;r--;)W(o[r],t(r),a.reject);return a.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&$.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e).catch(function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var _=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)_(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,x(r)||(a=!0),l&&(t=a?(t.call(e,r),null):(l=t,function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},z=/^-ms-/,U=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function V(e){return e.replace(z,"ms-").replace(U,X)}function G(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function Y(){this.expando=S.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[V(t)]=n;else for(r in t)i[V(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in r?[t]:t.match(R)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!S.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Q=new Y,J=new Y,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function ee(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:K.test(i)?JSON.parse(i):i)}catch(e){}J.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){J.set(this,n)}):_(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=J.get(o,n))||void 0!==(t=ee(o,n))?t:void 0;this.each(function(){J.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(i=J.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=V(r.slice(5)),ee(o,r,i[r]));Q.set(o,"hasDataAttrs",!0)}return i},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Q.get(e,t),n&&(!r||Array.isArray(n)?r=Q.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:S.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--i||o.resolveWith(a,[a])}var r,i=1,o=S.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(r=Q.get(a[s],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(n));return n(),o.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ie=E.documentElement,oe=function(e){return S.contains(e.ownerDocument,e)},ae={composed:!0};ie.getRootNode&&(oe=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});function se(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===S.css(e,"display")}function ue(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i}function le(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&ne.exec(S.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ce={};function fe(e,t){for(var n,r,i,o,a,s,u=[],l=0,c=e.length;l<c;l++)(r=e[l]).style&&(n=r.style.display,t?("none"===n&&(u[l]=Q.get(r,"display")||null,u[l]||(r.style.display="")),""===r.style.display&&se(r)&&(u[l]=(s=o=i=void 0,o=r.ownerDocument,a=r.nodeName,(s=ce[a])||(i=o.body.appendChild(o.createElement(a)),s=S.css(i,"display"),i.parentNode.removeChild(i),"none"===s&&(s="block"),ce[a]=s)))):"none"!==n&&(u[l]="none",Q.set(r,"display",n)));for(l=0;l<c;l++)null!=u[l]&&(e[l].style.display=u[l]);return e}S.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?S(this).show():S(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;var me,xe,be=/<|&#?\w+;/;function we(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(be.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=oe(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n)for(c=0;o=a[c++];)he.test(o.type||"")&&n.push(o);return f}me=E.createDocumentFragment().appendChild(E.createElement("div")),(xe=E.createElement("input")).setAttribute("type","radio"),xe.setAttribute("checked","checked"),xe.setAttribute("name","t"),me.appendChild(xe),m.checkClone=me.cloneNode(!0).cloneNode(!0).lastChild.checked,me.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!me.cloneNode(!0).lastChild.defaultValue;var Te=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ee=/^([^.]*)(?:\.(.+)|)/;function Se(){return!0}function ke(){return!1}function Ne(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ae(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ae(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function De(e,i,o){o?(Q.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Q.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Q.set(this,i,r),t=o(this,i),this[i](),r!==(n=Q.get(this,i))||t?Q.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(Q.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,i)&&S.event.add(e,i,Se)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.get(t);if(v)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(ie,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(R)||[""]).length;l--;)d=g=(s=Ee.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.hasData(e)&&Q.get(e);if(v&&(u=v.events)){for(l=(t=(t||"").match(R)||[""]).length;l--;)if(d=g=(s=Ee.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=S.event.fix(e),u=new Array(arguments.length),l=(Q.get(this,"events")||{})[s.type]||[],c=S.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=S.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:x(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&De(t,"click",Se),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&De(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Q.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Se:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Se,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Se,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Se,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Te.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return De(this,e,Ne),!1},trigger:function(){return De(this,e),!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ae(this,e,t,n,r)},one:function(e,t,n,r){return Ae(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){S.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this}});var je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,qe=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Oe(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Re(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(Q.hasData(e)&&(o=Q.access(e),a=Q.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)S.event.add(t,i,l[i][n]);J.hasData(e)&&(s=J.access(e),u=S.extend({},s),J.set(t,u))}}function Ie(n,r,i,o){r=v.apply([],r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=x(d);if(h||1<f&&"string"==typeof d&&!m.checkClone&&Le.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),Ie(t,r,i,o)});if(f&&(t=(e=we(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),Pe)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,Re),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Q.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):b(u.textContent.replace(He,""),u,l))}return n}function We(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&oe(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e.replace(je,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=oe(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],"input"===(l=(u=a[r]).nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Me(o[r],a[r]);else Me(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(G(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),S.fn.extend({detach:function(e){return We(this,e,!0)},remove:function(e){return We(this,e)},text:function(e){return _(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ie(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return Ie(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return _(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!qe.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Ie(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var $e,Fe,Be,_e,ze,Ue,Xe,Ve=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),Ge=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Ye=new RegExp(re.join("|"),"i");function Qe(e,t,n){var r,i,o,a,s=e.style;return(n=n||Ge(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||oe(e)||(a=S.style(e,t)),!m.pixelBoxStyles()&&Ve.test(a)&&Ye.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Je(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function Ke(){if(Xe){Ue.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Xe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(Ue).appendChild(Xe);var e=C.getComputedStyle(Xe);$e="1%"!==e.top,ze=12===Ze(e.marginLeft),Xe.style.right="60%",_e=36===Ze(e.right),Fe=36===Ze(e.width),Xe.style.position="absolute",Be=12===Ze(Xe.offsetWidth/3),ie.removeChild(Ue),Xe=null}}function Ze(e){return Math.round(parseFloat(e))}Ue=E.createElement("div"),(Xe=E.createElement("div")).style&&(Xe.style.backgroundClip="content-box",Xe.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===Xe.style.backgroundClip,S.extend(m,{boxSizingReliable:function(){return Ke(),Fe},pixelBoxStyles:function(){return Ke(),_e},pixelPosition:function(){return Ke(),$e},reliableMarginLeft:function(){return Ke(),ze},scrollboxSize:function(){return Ke(),Be}}));var et=["Webkit","Moz","ms"],tt=E.createElement("div").style,nt={};function rt(e){return S.cssProps[e]||nt[e]||(e in tt?e:nt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=et.length;n--;)if((e=et[n]+t)in tt)return e}(e)||e)}var it=/^(none|table(?!-c[ea]).+)/,ot=/^--/,at={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"};function ut(e,t,n){var r=ne.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function lt(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+re[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+re[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+re[a]+"Width",!0,i))):(u+=S.css(e,"padding"+re[a],!0,i),"padding"!==n?u+=S.css(e,"border"+re[a]+"Width",!0,i):s+=S.css(e,"border"+re[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function ct(e,t,n){var r=Ge(e),i=(!m.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=Qe(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ve.test(a)){if(!n)return a;a="auto"}return(!m.boxSizingReliable()&&i||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+lt(e,t,n||(i?"border":"content"),o,r,a)+"px"}function ft(e,t,n,r,i){return new ft.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=V(t),u=ot.test(t),l=e.style;if(u||(t=rt(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=ne.exec(n))&&i[1]&&(n=le(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=V(t);return ot.test(t)||(t=rt(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Qe(e,t,r)),"normal"===i&&t in st&&(i=st[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!it.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ct(e,u,n):ue(e,at,function(){return ct(e,u,n)})},set:function(e,t,n){var r,i=Ge(e),o=!m.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?lt(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-lt(e,u,"border",!1,i)-.5)),s&&(r=ne.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),ut(0,t,s)}}}),S.cssHooks.marginLeft=Je(m.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Qe(e,"marginLeft"))||e.getBoundingClientRect().left-ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+re[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=ut)}),S.fn.extend({css:function(e,t){return _(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Ge(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=ft).prototype={constructor:ft,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=ft.propHooks[this.prop];return e&&e.get?e.get(this):ft.propHooks._default.get(this)},run:function(e){var t,n=ft.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ft.propHooks._default.set(this),this}}).init.prototype=ft.prototype,(ft.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[rt(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=ft.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=ft.prototype.init,S.fx.step={};var pt,dt,ht,gt,vt=/^(?:toggle|show|hide)$/,yt=/queueHooks$/;function mt(){dt&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(mt):C.setTimeout(mt,S.fx.interval),S.fx.tick())}function xt(){return C.setTimeout(function(){pt=void 0}),pt=Date.now()}function bt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=re[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function wt(e,t,n){for(var r,i=(Tt.tweeners[t]||[]).concat(Tt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function Tt(o,e,t){var n,a,r=0,i=Tt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=pt||xt(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:pt||xt(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=V(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=Tt.prefilters[r].call(l,o,c,l.opts))return x(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,wt,l),x(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(Tt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,i=(e=x(e)?(t=e,["*"]):e.match(R)).length;r<i;r++)n=e[r],Tt.tweeners[n]=Tt.tweeners[n]||[],Tt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&se(e),v=Q.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],vt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Q.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=S.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Q.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&fe([e],!0),p.done(function(){for(r in g||fe([e]),Q.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=wt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?Tt.prefilters.unshift(e):Tt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||x(e)&&e,duration:e,easing:n&&t||t&&!x(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){x(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){function i(){var e=Tt(this,S.extend({},t),a);(o||Q.get(this,"finish"))&&e.stop(!0)}var o=S.isEmptyObject(t),a=S.speed(e,n,r);return i.finish=i,o||!1===a.queue?this.each(i):this.queue(a.queue,i)},stop:function(i,e,o){function a(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Q.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&yt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Q.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(bt(r,!0),e,t,n)}}),S.each({slideDown:bt("show"),slideUp:bt("hide"),slideToggle:bt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(pt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),pt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){dt||(dt=!0,mt())},S.fx.stop=function(){dt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},ht=E.createElement("input"),gt=E.createElement("select").appendChild(E.createElement("option")),ht.type="checkbox",m.checkOn=""!==ht.value,m.optSelected=gt.selected,(ht=E.createElement("input")).value="t",ht.type="radio",m.radioValue="t"===ht.value;var Ct,Et=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return _(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?Ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):!(i&&"get"in i&&null!==(r=i.get(e,t)))&&null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(R);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),Ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=Et[t]||S.find.attr;Et[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=Et[o],Et[o]=r,r=null!=a(e,t,n)?o:null,Et[o]=i),r}});var St=/^(?:input|select|textarea|button)$/i,kt=/^(?:a|area)$/i;function Nt(e){return(e.match(R)||[]).join(" ")}function At(e){return e.getAttribute&&e.getAttribute("class")||""}function Dt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(R)||[]}S.fn.extend({prop:function(e,t){return _(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||kt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(x(t))return this.each(function(e){S(this).addClass(t.call(this,e,At(this)))});if((e=Dt(t)).length)for(;n=this[u++];)if(i=At(n),r=1===n.nodeType&&" "+Nt(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=Nt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(x(t))return this.each(function(e){S(this).removeClass(t.call(this,e,At(this)))});if(!arguments.length)return this.attr("class","");if((e=Dt(t)).length)for(;n=this[u++];)if(i=At(n),r=1===n.nodeType&&" "+Nt(i)+" "){for(a=0;o=e[a++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(s=Nt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"==o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):x(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,At(this),t),t)}):this.each(function(){var e,t,n,r;if(a)for(t=0,n=S(this),r=Dt(i);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==i&&"boolean"!=o||((e=At(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==i&&Q.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+Nt(At(n))+" ").indexOf(t))return!0;return!1}});var jt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=x(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(jt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:Nt(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=S.makeArray(t),a=i.length;a--;)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},m.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),m.focusin="onfocusin"in C;function qt(e){e.stopPropagation()}var Lt=/^(?:focusinfocus|focusoutblur)$/;S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=y.call(e,"type")?e.type:e,h=y.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!Lt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!g(n)){for(s=c.delegateType||d,Lt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}for(i=0;(o=p[i++])&&!e.isPropagationStopped();)f=o,e.type=1<i?s:c.bindType||d,(l=(Q.get(o,"events")||{})[e.type]&&Q.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&G(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!G(n)||u&&x(n[d])&&!g(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,qt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,qt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),m.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){function i(e){S.event.simulate(r,e.target,S.event.fix(e))}S.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=Q.access(e,r);t||e.addEventListener(n,i,!0),Q.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=Q.access(e,r)-1;t?Q.access(e,r,t):(e.removeEventListener(n,i,!0),Q.remove(e,r))}}});var Ht=C.location,Ot=Date.now(),Pt=/\?/;S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t};var Rt=/\[\]$/,Mt=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,Wt=/^(?:input|select|textarea|keygen)/i;function $t(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Rt.test(n)?i(n,t):$t(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)$t(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){function n(e,t){var n=x(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)}var r,i=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){n(this.name,this.value)});else for(r in e)$t(r,e[r],t,n);return i.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Wt.test(this.nodeName)&&!It.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Mt,"\r\n")}}):{name:t.name,value:n.replace(Mt,"\r\n")}}).get()}});var Ft=/%20/g,Bt=/#.*$/,_t=/([?&])_=[^&]*/,zt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:GET|HEAD)$/,Xt=/^\/\//,Vt={},Gt={},Yt="*/".concat("*"),Qt=E.createElement("a");function Jt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(R)||[];if(x(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Kt(t,i,o,a){var s={},u=t===Gt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Zt(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r=r||{})[n]=t[n]);return r&&S.extend(!0,e,r),e}Qt.href=Ht.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ht.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ht.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Zt(Zt(e,S.ajaxSettings),t):Zt(S.ajaxSettings,e)},ajaxPrefilter:Jt(Vt),ajaxTransport:Jt(Gt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n)for(n={};t=zt.exec(p);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Ht.href)+"").replace(Xt,Ht.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(R)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Qt.protocol+"//"+Qt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Kt(Vt,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Ut.test(v.type),f=v.url.replace(Bt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Ft,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Pt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(_t,"$1"),o=(Pt.test(f)?"&":"?")+"_="+Ot+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Yt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Kt(Gt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a=a||i}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return x(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S._evalUrl=function(e,t){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(x(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return x(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=x(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var en={0:200,1223:204},tn=S.ajaxSettings.xhr();m.cors=!!tn&&"withCredentials"in tn,m.ajax=tn=!!tn,S.ajaxTransport(function(i){var o,a;if(m.cors||tn&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(en[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var nn,rn=[],on=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=rn.pop()||S.expando+"_"+Ot++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(on.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&on.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=x(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(on,"$1"+r):!1!==e.jsonp&&(e.url+=(Pt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,rn.push(r)),o&&x(i)&&i(o[0]),o=i=void 0}),"script"}),m.createHTMLDocument=((nn=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===nn.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=D.exec(e))?[t.createElement(i[1])]:(i=we([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=Nt(e.slice(s)),e=e.slice(0,s)),x(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),i=("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,r.left):(a=parseFloat(o)||0,parseFloat(u)||0),x(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===S.css(e,"position");)e=e.offsetParent;return e||ie})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return _(this,function(e,t,n){var r;if(g(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Je(m.pixelPosition,function(e,t){if(t)return t=Qe(e,n),Ve.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return _(this,function(e,t,n){var r;return g(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),S.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),x(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=x,S.isWindow=g,S.camelCase=V,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var an=C.jQuery,sn=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=sn),e&&C.jQuery===S&&(C.jQuery=an),S},e||(C.jQuery=C.$=S),S});
"object"==typeof navigator&&function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Plyr",t):(e=e||self).Plyr=t()}(this,function(){"use strict";function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function e(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach(function(e){s(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var i=[],n=!0,a=!1,s=void 0;try{for(var r,o=e[Symbol.iterator]();!(n=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){a=!0,s=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw s}}return i}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var l={addCSS:!0,thumbWidth:15,watch:!0};function t(e){return null!=e?e.constructor:null}function i(e,t){return Boolean(e&&t&&e instanceof t)}function u(e){return t(e)===String}function d(e){return Array.isArray(e)}function h(e){return i(e,NodeList)}function p(e){return i(e,Element)}function m(e){return i(e,Event)}function f(e){return null==e||(u(e)||d(e)||h(e))&&!e.length||t(e)===Object&&!Object.keys(e).length}var y=u,v=d,b=h;function k(e){return null!=e?e.constructor:null}function w(e,t){return Boolean(e&&t&&e instanceof t)}function T(e){return null==e}function C(e){return k(e)===Object}function A(e){return k(e)===String}function E(e){return Array.isArray(e)}function S(e){return w(e,NodeList)}function P(e){return T(e)||(A(e)||E(e)||S(e))&&!e.length||C(e)&&!Object.keys(e).length}function M(e){return k(e)===Boolean}function N(e){return w(e,Event)}function x(e){return w(e,KeyboardEvent)}function I(e){return w(e,TextTrack)||!T(e)&&A(e.kind)}function L(e){if(w(e,window.URL))return!0;if(!A(e))return!1;var t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://".concat(e));try{return!P(new URL(t).hostname)}catch(e){return!1}}var _,O,j,q=(e(Y,[{key:"init",value:function(){Y.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){Y.enabled&&(this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,i=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(e){t.element[i](e,function(e){return t.set(e)},!1)})}},{key:"get",value:function(e){if(!Y.enabled||!m(e))return null;var t,i=e.target,n=e.changedTouches[0],a=parseFloat(i.getAttribute("min"))||0,s=parseFloat(i.getAttribute("max"))||100,r=parseFloat(i.getAttribute("step"))||1,o=s-a,l=i.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return(t=100/l.width*(n.clientX-l.left))<0?t=0:100<t&&(t=100),t<50?t-=(100-2*t)*c:50<t&&(t+=2*(t-50)*c),a+function(e,t){if(t<1){var i=(n="".concat(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/))?Math.max(0,(n[1]?n[1].length:0)-(n[2]?+n[2]:0)):0;return parseFloat(e.toFixed(i))}var n;return Math.round(e/t)*t}(t/100*o,r)}},{key:"set",value:function(e){Y.enabled&&m(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),function(e,t){if(e&&t){var i=new Event(t);e.dispatchEvent(i)}}(e.target,"touchend"===e.type?"change":"input"))}}],[{key:"setup",value:function(i){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=null;if(f(i)||y(i)?e=Array.from(document.querySelectorAll(y(i)?i:'input[type="range"]')):p(i)?e=[i]:b(i)?e=Array.from(i):v(i)&&(e=i.filter(p)),f(e))return null;var n=Object.assign({},l,t);return y(i)&&n.watch&&new MutationObserver(function(e){Array.from(e).forEach(function(e){Array.from(e.addedNodes).forEach(function(e){var t;p(e)&&function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t=i)&&new Y(e,n)})})}).observe(document.body,{childList:!0,subtree:!0}),e.map(function(e){return new Y(e,t)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),Y),H=T,D=C,F=function(e){return k(e)===Number&&!Number.isNaN(e)},R=A,V=function(e){return k(e)===Function},B=E,U=S,W=function(e){return w(e,Element)},z=P,K=(_=document.createElement("span"),O={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},j=Object.keys(O).find(function(e){return void 0!==_.style[e]}),!!R(j)&&O[j]);function Y(e,t){c(this,Y),p(e)?this.element=e:y(e)&&(this.element=document.querySelector(e)),p(this.element)&&f(this.element.rangeTouch)&&(this.config=Object.assign({},l,t),this.init())}function Q(e,t){setTimeout(function(){try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}},t)}var X={isIE:!!document.documentMode,isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function J(e,t){return t.split(".").reduce(function(e,t){return e&&e[t]},e)}function $(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,i=new Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(!i.length)return t;var a=i.shift();return D(a)?(Object.keys(a).forEach(function(e){D(a[e])?(Object.keys(t).includes(e)||Object.assign(t,s({},e,{})),$(t[e],a[e])):Object.assign(t,s({},e,a[e]))}),$.apply(void 0,[t].concat(i))):t}function G(e,s){var t=e.length?e:[e];Array.from(t).reverse().forEach(function(e,t){var i=0<t?s.cloneNode(!0):s,n=e.parentNode,a=e.nextSibling;i.appendChild(e),a?n.insertBefore(i,a):n.appendChild(i)})}function Z(a,e){W(a)&&!z(e)&&Object.entries(e).filter(function(e){var t=g(e,2)[1];return!H(t)}).forEach(function(e){var t=g(e,2),i=t[0],n=t[1];return a.setAttribute(i,n)})}function ee(e,t,i){var n=document.createElement(e);return D(t)&&Z(n,t),R(i)&&(n.innerText=i),n}function te(e,t,i,n){W(t)&&t.appendChild(ee(e,i,n))}function ie(e){U(e)||B(e)?Array.from(e).forEach(ie):W(e)&&W(e.parentNode)&&e.parentNode.removeChild(e)}function ne(e){if(W(e))for(var t=e.childNodes.length;0<t;)e.removeChild(e.lastChild),--t}function ae(e,t){return W(t)&&W(t.parentNode)&&W(e)?(t.parentNode.replaceChild(e,t),e):null}function se(e,t){if(!R(e)||z(e))return{};var r={},o=$({},t);return e.split(",").forEach(function(e){var t=e.trim(),i=t.replace(".",""),n=t.replace(/[[\]]/g,"").split("="),a=g(n,1)[0],s=1<n.length?n[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":R(o.class)?r.class="".concat(o.class," ").concat(i):r.class=i;break;case"#":r.id=t.replace("#","");break;case"[":r[a]=s}}),$(o,r)}function re(e,t){if(W(e)){var i=t;M(i)||(i=!e.hidden),e.hidden=i}}function oe(e,t,i){if(U(e))return Array.from(e).map(function(e){return oe(e,t,i)});if(W(e)){var n="toggle";return void 0!==i&&(n=i?"add":"remove"),e.classList[n](t),e.classList.contains(t)}return!1}function le(e,t){return W(e)&&e.classList.contains(t)}function ce(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}function ue(e){return this.elements.container.querySelectorAll(e)}function de(e){return this.elements.container.querySelector(e)}function he(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];W(e)&&(e.focus({preventScroll:!0}),t&&oe(e,this.config.classNames.tabFocus))}var pe,me={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},fe={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t,i){var n=X.isIPhone&&i&&fe.playsinline,a=fe[e]||"html5"!==t;return{api:a,ui:a&&fe.rangeInput&&("video"!==e||!X.isIPhone||n)}},pip:!(X.isIPhone||!V(ee("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||ee("video").disablePictureInPicture)),airplay:V(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(e){if(z(e))return!1;var t=g(e.split("/"),1)[0],i=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(me).includes(i)&&(i+='; codecs="'.concat(me[e],'"'));try{return Boolean(i&&this.media.canPlayType(i).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:((pe=document.createElement("input")).type="range")===pe.type,touch:"ontouchstart"in document.documentElement,transitions:!1!==K,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},ge=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function ye(t,e,i){var n=this,a=3<arguments.length&&void 0!==arguments[3]&&arguments[3],s=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],r=5<arguments.length&&void 0!==arguments[5]&&arguments[5];if(t&&"addEventListener"in t&&!z(e)&&V(i)){var o=e.split(" "),l=r;ge&&(l={passive:s,capture:r}),o.forEach(function(e){n&&n.eventListeners&&a&&n.eventListeners.push({element:t,type:e,callback:i,options:l}),t[a?"addEventListener":"removeEventListener"](e,i,l)})}}function ve(e){ye.call(this,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",2<arguments.length?arguments[2]:void 0,!0,!(3<arguments.length&&void 0!==arguments[3])||arguments[3],4<arguments.length&&void 0!==arguments[4]&&arguments[4])}function be(e){ye.call(this,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",2<arguments.length?arguments[2]:void 0,!1,!(3<arguments.length&&void 0!==arguments[3])||arguments[3],4<arguments.length&&void 0!==arguments[4]&&arguments[4])}function ke(a){var s=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=2<arguments.length?arguments[2]:void 0,l=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],c=4<arguments.length&&void 0!==arguments[4]&&arguments[4];ye.call(this,a,r,function e(){be(a,r,e,l,c);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];o.apply(s,i)},!0,l,c)}function we(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(W(e)&&!z(t)){var a=new CustomEvent(t,{bubbles:i,detail:r({},n,{plyr:this})});e.dispatchEvent(a)}}function Te(e){return(B(e)||R(e)&&e.includes(":"))&&(B(e)?e:e.split(":")).map(Number).every(F)}function Ce(e){if(!B(e)||!e.every(F))return null;var t=g(e,2),i=t[0],n=t[1],a=function e(t,i){return 0===i?t:e(i,t%i)}(i,n);return[i/a,n/a]}function Ae(e){function t(e){return Te(e)?e.split(":").map(Number):null}var i=t(e);if(null===i&&(i=t(this.config.ratio)),null===i&&!z(this.embed)&&B(this.embed.ratio)&&(i=this.embed.ratio),null===i&&this.isHTML5){var n=this.media;i=Ce([n.videoWidth,n.videoHeight])}return i}function Ee(e){if(!this.isVideo)return{};var t=this.elements.wrapper,i=Ae.call(this,e),n=g(B(i)?i:[0,0],2),a=100/n[0]*n[1];if(t.style.paddingBottom="".concat(a,"%"),this.isVimeo&&this.supported.ui){var s=(240-a)/4.8;this.media.style.transform="translateY(-".concat(s,"%)")}else this.isHTML5&&t.classList.toggle(this.config.classNames.videoFixedRatio,null!==i);return{padding:a,ratio:i}}var Se={getSources:function(){var i=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(function(e){var t=e.getAttribute("type");return!!z(t)||fe.mime.call(i,t)}):[]},getQualityOptions:function(){return this.config.quality.forced?this.config.quality.options:Se.getSources.call(this).map(function(e){return Number(e.getAttribute("size"))}).filter(Boolean)},setup:function(){if(this.isHTML5){var l=this;l.options.speed=l.config.speed.options,z(this.config.ratio)||Ee.call(l),Object.defineProperty(l.media,"quality",{get:function(){var e=Se.getSources.call(l).find(function(e){return e.getAttribute("src")===l.source});return e&&Number(e.getAttribute("size"))},set:function(t){if(l.quality!==t){if(l.config.quality.forced&&V(l.config.quality.onChange))l.config.quality.onChange(t);else{var e=Se.getSources.call(l).find(function(e){return Number(e.getAttribute("size"))===t});if(!e)return;var i=l.media,n=i.currentTime,a=i.paused,s=i.preload,r=i.readyState,o=i.playbackRate;l.media.src=e.getAttribute("src"),"none"===s&&!r||(l.once("loadedmetadata",function(){l.speed=o,l.currentTime=n,a||l.play()}),l.media.load())}we.call(l,l.media,"qualitychange",!1,{quality:t})}}})}},cancelRequests:function(){this.isHTML5&&(ie(Se.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Pe(i){return B(i)?i.filter(function(e,t){return i.indexOf(e)===t}):i}function Me(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return z(e)?e:e.toString().replace(/{(\d+)}/g,function(e,t){return i[t].toString()})}function Ne(e,t,i){var n=1<arguments.length&&void 0!==t?t:"",a=2<arguments.length&&void 0!==i?i:"";return(0<arguments.length&&void 0!==e?e:"").replace(new RegExp(n.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),a.toString())}function xe(e){return(0<arguments.length&&void 0!==e?e:"").toString().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function Ie(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}function Le(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(z(e)||z(t))return"";var a=J(t.i18n,e);if(z(a))return Object.keys(_e).includes(e)?_e[e]:"";var i={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(i).forEach(function(e){var t=g(e,2),i=t[0],n=t[1];a=Ne(a,i,n)}),a}var _e={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Oe=(e(je,[{key:"get",value:function(e){if(!je.supported||!this.enabled)return null;var t=window.localStorage.getItem(this.key);if(z(t))return null;var i=JSON.parse(t);return R(e)&&e.length?i[e]:i}},{key:"set",value:function(e){if(je.supported&&this.enabled&&D(e)){var t=this.get();z(t)&&(t={}),$(t,e),window.localStorage.setItem(this.key,JSON.stringify(t))}}}],[{key:"supported",get:function(){try{return"localStorage"in window&&(window.localStorage.setItem("___test","___test"),window.localStorage.removeItem("___test"),!0)}catch(e){return!1}}}]),je);function je(e){c(this,je),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}function qe(e,t){var a=1<arguments.length&&void 0!==t?t:"text";return new Promise(function(t,i){try{var n=new XMLHttpRequest;if(!("withCredentials"in n))return;n.addEventListener("load",function(){if("text"===a)try{t(JSON.parse(n.responseText))}catch(e){t(n.responseText)}else t(n.response)}),n.addEventListener("error",function(){throw new Error(n.status)}),n.open("GET",e,!0),n.responseType=a,n.send()}catch(e){i(e)}})}function He(e,t){if(R(e)){var i=R(t),n=function(){return null!==document.getElementById(t)},a=function(e,t){e.innerHTML=t,i&&n()||document.body.insertAdjacentElement("afterbegin",e)};if(!i||!n()){var s=Oe.supported,r=document.createElement("div");if(r.setAttribute("hidden",""),i&&r.setAttribute("id",t),s){var o=window.localStorage.getItem("".concat("cache","-").concat(t));if(null!==o){var l=JSON.parse(o);a(r,l.content)}}qe(e).then(function(e){z(e)||(s&&window.localStorage.setItem("".concat("cache","-").concat(t),JSON.stringify({content:e})),a(r,e))}).catch(function(){})}}}var De=function(e){return Math.trunc(e/60/60%60,10)},Fe=function(e){return Math.trunc(e/60%60,10)},Re=function(e){return Math.trunc(e%60,10)};function Ve(e,t,i){var n=0<arguments.length&&void 0!==e?e:0,a=1<arguments.length&&void 0!==t&&t,s=2<arguments.length&&void 0!==i&&i;if(!F(n))return Ve(void 0,a,s);function r(e){return"0".concat(e).slice(-2)}var o=De(n),l=Fe(n),c=Re(n);return o=a||0<o?"".concat(o,":"):"","".concat(s&&0<n?"-":"").concat(o).concat(r(l),":").concat(r(c))}var Be={getIconUrl:function(){var e=new URL(this.config.iconUrl,window.location).host!==window.location.host||X.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:e}},findElements:function(){try{return this.elements.controls=de.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:ue.call(this,this.config.selectors.buttons.play),pause:de.call(this,this.config.selectors.buttons.pause),restart:de.call(this,this.config.selectors.buttons.restart),rewind:de.call(this,this.config.selectors.buttons.rewind),fastForward:de.call(this,this.config.selectors.buttons.fastForward),mute:de.call(this,this.config.selectors.buttons.mute),pip:de.call(this,this.config.selectors.buttons.pip),airplay:de.call(this,this.config.selectors.buttons.airplay),settings:de.call(this,this.config.selectors.buttons.settings),captions:de.call(this,this.config.selectors.buttons.captions),fullscreen:de.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=de.call(this,this.config.selectors.progress),this.elements.inputs={seek:de.call(this,this.config.selectors.inputs.seek),volume:de.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:de.call(this,this.config.selectors.display.buffer),currentTime:de.call(this,this.config.selectors.display.currentTime),duration:de.call(this,this.config.selectors.display.duration)},W(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon:function(e,t){var i=Be.getIconUrl.call(this),n="".concat(i.cors?"":i.url,"#").concat(this.config.iconPrefix),a=document.createElementNS("http://www.w3.org/2000/svg","svg");Z(a,$(t,{role:"presentation",focusable:"false"}));var s=document.createElementNS("http://www.w3.org/2000/svg","use"),r="".concat(n,"-").concat(e);return"href"in s&&s.setAttributeNS("http://www.w3.org/1999/xlink","href",r),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r),a.appendChild(s),a},createLabel:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=Le(e,this.config);return ee("span",r({},t,{class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")}),i)},createBadge:function(e){if(z(e))return null;var t=ee("span",{class:this.config.classNames.menu.value});return t.appendChild(ee("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var i=this,n=$({},t),a=function(e){var t=(0<arguments.length&&void 0!==e?e:"").toString();return(t=function(e){var t=(0<arguments.length&&void 0!==e?e:"").toString();return t=Ne(t,"-"," "),t=Ne(t,"_"," "),Ne(t=xe(t)," ","")}(t)).charAt(0).toLowerCase()+t.slice(1)}(e),s={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(function(e){Object.keys(n).includes(e)&&(s[e]=n[e],delete n[e])}),"button"!==s.element||Object.keys(n).includes("type")||(n.type="button"),Object.keys(n).includes("class")?n.class.split(" ").some(function(e){return e===i.config.classNames.control})||$(n,{class:"".concat(n.class," ").concat(this.config.classNames.control)}):n.class=this.config.classNames.control,e){case"play":s.toggle=!0,s.label="play",s.labelPressed="pause",s.icon="play",s.iconPressed="pause";break;case"mute":s.toggle=!0,s.label="mute",s.labelPressed="unmute",s.icon="volume",s.iconPressed="muted";break;case"captions":s.toggle=!0,s.label="enableCaptions",s.labelPressed="disableCaptions",s.icon="captions-off",s.iconPressed="captions-on";break;case"fullscreen":s.toggle=!0,s.label="enterFullscreen",s.labelPressed="exitFullscreen",s.icon="enter-fullscreen",s.iconPressed="exit-fullscreen";break;case"play-large":n.class+=" ".concat(this.config.classNames.control,"--overlaid"),a="play",s.label="play",s.icon="play";break;default:z(s.label)&&(s.label=a),z(s.icon)&&(s.icon=e)}var r=ee(s.element);return s.toggle?(r.appendChild(Be.createIcon.call(this,s.iconPressed,{class:"icon--pressed"})),r.appendChild(Be.createIcon.call(this,s.icon,{class:"icon--not-pressed"})),r.appendChild(Be.createLabel.call(this,s.labelPressed,{class:"label--pressed"})),r.appendChild(Be.createLabel.call(this,s.label,{class:"label--not-pressed"}))):(r.appendChild(Be.createIcon.call(this,s.icon)),r.appendChild(Be.createLabel.call(this,s.label))),$(n,se(this.config.selectors.buttons[a],n)),Z(r,n),"play"===a?(B(this.elements.buttons[a])||(this.elements.buttons[a]=[]),this.elements.buttons[a].push(r)):this.elements.buttons[a]=r,r},createRange:function(e,t){var i=ee("input",$(se(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Le(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=i,Be.updateRangeFill.call(this,i),q.setup(i),i},createProgress:function(e,t){var i=ee("progress",$(se(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){i.appendChild(ee("span",null,"0"));var n={played:"played",buffer:"buffered"}[e],a=n?Le(n,this.config):"";i.innerText="% ".concat(a.toLowerCase())}return this.elements.display[e]=i},createTime:function(e,t){var i=se(this.config.selectors.display[e],t),n=ee("div",$(i,{class:"".concat(i.class?i.class:""," ").concat(this.config.classNames.display.time," ").trim(),"aria-label":Le(e,this.config)}),"00:00");return this.elements.display[e]=n},bindMenuItemShortcuts:function(n,a){var s=this;ve.call(this,n,"keydown keyup",function(e){if([32,38,39,40].includes(e.which)&&(e.preventDefault(),e.stopPropagation(),"keydown"!==e.type)){var t,i=ce(n,'[role="menuitemradio"]');!i&&[32,39].includes(e.which)?Be.showMenuPanel.call(s,a,!0):32!==e.which&&(40===e.which||i&&39===e.which?(t=n.nextElementSibling,W(t)||(t=n.parentNode.firstElementChild)):(t=n.previousElementSibling,W(t)||(t=n.parentNode.lastElementChild)),he.call(s,t,!0))}},!1),ve.call(this,n,"keyup",function(e){13===e.which&&Be.focusFirstMenuItem.call(s,null,!0)})},createMenuItem:function(e){var t=this,i=e.value,n=e.list,a=e.type,s=e.title,r=e.badge,o=void 0===r?null:r,l=e.checked,c=void 0!==l&&l,u=se(this.config.selectors.inputs[a]),d=ee("button",$(u,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(u.class?u.class:"").trim(),"aria-checked":c,value:i})),h=ee("span");h.innerHTML=s,W(o)&&h.appendChild(o),d.appendChild(h),Object.defineProperty(d,"checked",{enumerable:!0,get:function(){return"true"===d.getAttribute("aria-checked")},set:function(e){e&&Array.from(d.parentNode.children).filter(function(e){return ce(e,'[role="menuitemradio"]')}).forEach(function(e){return e.setAttribute("aria-checked","false")}),d.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(d,"click keyup",function(e){if(!x(e)||32===e.which){switch(e.preventDefault(),e.stopPropagation(),d.checked=!0,a){case"language":t.currentTrack=Number(i);break;case"quality":t.quality=i;break;case"speed":t.speed=parseFloat(i)}Be.showMenuPanel.call(t,"home",x(e))}},a,!1),Be.bindMenuItemShortcuts.call(this,d,a),n.appendChild(d)},formatTime:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return F(e)?Ve(e,0<De(this.duration),t):e},updateTimeDisplay:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];W(e)&&F(t)&&(e.innerText=Be.formatTime(t,i))},updateVolume:function(){this.supported.ui&&(W(this.elements.inputs.volume)&&Be.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),W(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;W(e)&&(e.value=t,Be.updateRangeFill.call(this,e))},updateProgress:function(e){var s=this;if(this.supported.ui&&N(e)){var t,i,n=0;if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=this.currentTime,i=this.duration,n=0===t||0===i||Number.isNaN(t)||Number.isNaN(i)?0:(t/i*100).toFixed(2),"timeupdate"===e.type&&Be.setRange.call(this,this.elements.inputs.seek,n);break;case"playing":case"progress":!function(e,t){var i=F(t)?t:0,n=W(e)?e:s.elements.display.buffer;if(W(n)){n.value=i;var a=n.getElementsByTagName("span")[0];W(a)&&(a.childNodes[0].nodeValue=i)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(e){var t=N(e)?e.target:e;if(W(t)&&"range"===t.getAttribute("type")){if(ce(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);var i=Be.formatTime(this.currentTime),n=Be.formatTime(this.duration),a=Le("seekLabel",this.config);t.setAttribute("aria-valuetext",a.replace("{currentTime}",i).replace("{duration}",n))}else if(ce(t,this.config.selectors.inputs.volume)){var s=100*t.value;t.setAttribute("aria-valuenow",s),t.setAttribute("aria-valuetext","".concat(s.toFixed(1),"%"))}else t.setAttribute("aria-valuenow",t.value);X.isWebkit&&t.style.setProperty("--value","".concat(t.value/t.max*100,"%"))}},updateSeekTooltip:function(e){var t=this;if(this.config.tooltips.seek&&W(this.elements.inputs.seek)&&W(this.elements.display.seekTooltip)&&0!==this.duration){var i="".concat(this.config.classNames.tooltip,"--visible"),n=function(e){return oe(t.elements.display.seekTooltip,i,e)};if(this.touch)n(!1);else{var a=0,s=this.elements.progress.getBoundingClientRect();if(N(e))a=100/s.width*(e.pageX-s.left);else{if(!le(this.elements.display.seekTooltip,i))return;a=parseFloat(this.elements.display.seekTooltip.style.left,10)}a<0?a=0:100<a&&(a=100),Be.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*a),this.elements.display.seekTooltip.style.left="".concat(a,"%"),N(e)&&["mouseenter","mouseleave"].includes(e.type)&&n("mouseenter"===e.type)}}},timeUpdate:function(e){var t=!W(this.elements.display.duration)&&this.config.invertTime;Be.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||Be.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return re(this.elements.display.currentTime,!0),void re(this.elements.progress,!0);W(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var e=W(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Be.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Be.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),Be.updateSeekTooltip.call(this)}},toggleMenuButton:function(e,t){re(this.elements.settings.buttons[e],!t)},updateSetting:function(e,t,i){var n=this.elements.settings.panels[e],a=null,s=t;if("captions"===e)a=this.currentTrack;else{if(a=z(i)?this[e]:i,z(a)&&(a=this.config[e].default),!z(this.options[e])&&!this.options[e].includes(a))return void this.debug.warn("Unsupported value of '".concat(a,"' for ").concat(e));if(!this.config[e].options.includes(a))return void this.debug.warn("Disabled value of '".concat(a,"' for ").concat(e))}if(W(s)||(s=n&&n.querySelector('[role="menu"]')),W(s)){this.elements.settings.buttons[e].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=Be.getLabel.call(this,e,a);var r=s&&s.querySelector('[value="'.concat(a,'"]'));W(r)&&(r.checked=!0)}},getLabel:function(e,t){switch(e){case"speed":return 1===t?Le("normal",this.config):"".concat(t,"&times;");case"quality":if(F(t)){var i=Le("qualityLabel.".concat(t),this.config);return i.length?i:"".concat(t,"p")}return xe(t);case"captions":return Ke.getLabel.call(this);default:return null}},setQualityMenu:function(e){var n=this;if(W(this.elements.settings.panels.quality)){var i=this.elements.settings.panels.quality.querySelector('[role="menu"]');B(e)&&(this.options.quality=Pe(e).filter(function(e){return n.config.quality.options.includes(e)}));var t=!z(this.options.quality)&&1<this.options.quality.length;if(Be.toggleMenuButton.call(this,"quality",t),ne(i),Be.checkMenu.call(this),t){this.options.quality.sort(function(e,t){var i=n.config.quality.options;return i.indexOf(e)>i.indexOf(t)?1:-1}).forEach(function(e){var t;Be.createMenuItem.call(n,{value:e,list:i,type:"quality",title:Be.getLabel.call(n,"quality",e),badge:(t=Le("qualityBadge.".concat(e),n.config)).length?Be.createBadge.call(n,t):null})}),Be.updateSetting.call(this,"quality",i)}}},setCaptionsMenu:function(){var i=this;if(W(this.elements.settings.panels.captions)){var n=this.elements.settings.panels.captions.querySelector('[role="menu"]'),e=Ke.getTracks.call(this),t=Boolean(e.length);if(Be.toggleMenuButton.call(this,"captions",t),ne(n),Be.checkMenu.call(this),t){var a=e.map(function(e,t){return{value:t,checked:i.captions.toggled&&i.currentTrack===t,title:Ke.getLabel.call(i,e),badge:e.language&&Be.createBadge.call(i,e.language.toUpperCase()),list:n,type:"language"}});a.unshift({value:-1,checked:!this.captions.toggled,title:Le("disabled",this.config),list:n,type:"language"}),a.forEach(Be.createMenuItem.bind(this)),Be.updateSetting.call(this,"captions",n)}}},setSpeedMenu:function(){var t=this;if(W(this.elements.settings.panels.speed)){var i=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(function(e){return e>=t.minimumSpeed&&e<=t.maximumSpeed});var e=!z(this.options.speed)&&1<this.options.speed.length;Be.toggleMenuButton.call(this,"speed",e),ne(i),Be.checkMenu.call(this),e&&(this.options.speed.forEach(function(e){Be.createMenuItem.call(t,{value:e,list:i,type:"speed",title:Be.getLabel.call(t,"speed",e)})}),Be.updateSetting.call(this,"speed",i))}},checkMenu:function(){var e=this.elements.settings.buttons,t=!z(e)&&Object.values(e).some(function(e){return!e.hidden});re(this.elements.settings.menu,!t)},focusFirstMenuItem:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var i=e;W(i)||(i=Object.values(this.elements.settings.panels).find(function(e){return!e.hidden}));var n=i.querySelector('[role^="menuitem"]');he.call(this,n,t)}},toggleMenu:function(e){var t=this.elements.settings.popup,i=this.elements.buttons.settings;if(W(t)&&W(i)){var n=t.hidden,a=n;if(M(e))a=e;else if(x(e)&&27===e.which)a=!1;else if(N(e)){var s=V(e.composedPath)?e.composedPath()[0]:e.target,r=t.contains(s);if(r||!r&&e.target!==i&&a)return}i.setAttribute("aria-expanded",a),re(t,!a),oe(this.elements.container,this.config.classNames.menu.open,a),a&&x(e)?Be.focusFirstMenuItem.call(this,null,!0):a||n||he.call(this,i,x(e))}},getMenuSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);var i=t.scrollWidth,n=t.scrollHeight;return ie(t),{width:i,height:n}},showMenuPanel:function(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(e));if(W(n)){var a=n.parentNode,s=Array.from(a.children).find(function(e){return!e.hidden});if(fe.transitions&&!fe.reducedMotion){a.style.width="".concat(s.scrollWidth,"px"),a.style.height="".concat(s.scrollHeight,"px");var r=Be.getMenuSize.call(this,n);ve.call(this,a,K,function e(t){t.target===a&&["width","height"].includes(t.propertyName)&&(a.style.width="",a.style.height="",be.call(i,a,K,e))}),a.style.width="".concat(r.width,"px"),a.style.height="".concat(r.height,"px")}re(s,!0),re(n,!1),Be.focusFirstMenuItem.call(this,n,t)}},setDownloadUrl:function(){var e=this.elements.buttons.download;W(e)&&e.setAttribute("href",this.download)},create:function(p){var m=this,f=Be.bindMenuItemShortcuts,g=Be.createButton,y=Be.createProgress,v=Be.createRange,b=Be.createTime,e=Be.setQualityMenu,t=Be.setSpeedMenu,k=Be.showMenuPanel;this.elements.controls=null,this.config.controls.includes("play-large")&&this.elements.container.appendChild(g.call(this,"play-large"));var w=ee("div",se(this.config.selectors.controls.wrapper));this.elements.controls=w;var T={class:"plyr__controls__item"};return Pe(this.config.controls).forEach(function(e){if("restart"===e&&w.appendChild(g.call(m,"restart",T)),"rewind"===e&&w.appendChild(g.call(m,"rewind",T)),"play"===e&&w.appendChild(g.call(m,"play",T)),"fast-forward"===e&&w.appendChild(g.call(m,"fast-forward",T)),"progress"===e){var t=ee("div",{class:"".concat(T.class," plyr__progress__container")}),i=ee("div",se(m.config.selectors.progress));if(i.appendChild(v.call(m,"seek",{id:"plyr-seek-".concat(p.id)})),i.appendChild(y.call(m,"buffer")),m.config.tooltips.seek){var n=ee("span",{class:m.config.classNames.tooltip},"00:00");i.appendChild(n),m.elements.display.seekTooltip=n}m.elements.progress=i,t.appendChild(m.elements.progress),w.appendChild(t)}if("current-time"===e&&w.appendChild(b.call(m,"currentTime",T)),"duration"===e&&w.appendChild(b.call(m,"duration",T)),"mute"===e||"volume"===e){var a=m.elements.volume;if(W(a)&&w.contains(a)||(a=ee("div",$({},T,{class:"".concat(T.class," plyr__volume").trim()})),m.elements.volume=a,w.appendChild(a)),"mute"===e&&a.appendChild(g.call(m,"mute")),"volume"===e&&!X.isIos){var s={max:1,step:.05,value:m.config.volume};a.appendChild(v.call(m,"volume",$(s,{id:"plyr-volume-".concat(p.id)})))}}if("captions"===e&&w.appendChild(g.call(m,"captions",T)),"settings"===e&&!z(m.config.settings)){var r=ee("div",$({},T,{class:"".concat(T.class," plyr__menu").trim(),hidden:""}));r.appendChild(g.call(m,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(p.id),"aria-expanded":!1}));var o=ee("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(p.id),hidden:""}),l=ee("div"),c=ee("div",{id:"plyr-settings-".concat(p.id,"-home")}),u=ee("div",{role:"menu"});c.appendChild(u),l.appendChild(c),m.elements.settings.panels.home=c,m.config.settings.forEach(function(e){var t=ee("button",$(se(m.config.selectors.buttons.settings),{type:"button",class:"".concat(m.config.classNames.control," ").concat(m.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));f.call(m,t,e),ve.call(m,t,"click",function(){k.call(m,e,!1)});var i=ee("span",null,Le(e,m.config)),n=ee("span",{class:m.config.classNames.menu.value});n.innerHTML=p[e],i.appendChild(n),t.appendChild(i),u.appendChild(t);var a=ee("div",{id:"plyr-settings-".concat(p.id,"-").concat(e),hidden:""}),s=ee("button",{type:"button",class:"".concat(m.config.classNames.control," ").concat(m.config.classNames.control,"--back")});s.appendChild(ee("span",{"aria-hidden":!0},Le(e,m.config))),s.appendChild(ee("span",{class:m.config.classNames.hidden},Le("menuBack",m.config))),ve.call(m,a,"keydown",function(e){37===e.which&&(e.preventDefault(),e.stopPropagation(),k.call(m,"home",!0))},!1),ve.call(m,s,"click",function(){k.call(m,"home",!1)}),a.appendChild(s),a.appendChild(ee("div",{role:"menu"})),l.appendChild(a),m.elements.settings.buttons[e]=t,m.elements.settings.panels[e]=a}),o.appendChild(l),r.appendChild(o),w.appendChild(r),m.elements.settings.popup=o,m.elements.settings.menu=r}if("pip"===e&&fe.pip&&w.appendChild(g.call(m,"pip",T)),"airplay"===e&&fe.airplay&&w.appendChild(g.call(m,"airplay",T)),"download"===e){var d=$({},T,{element:"a",href:m.download,target:"_blank"});m.isHTML5&&(d.download="");var h=m.config.urls.download;!L(h)&&m.isEmbed&&$(d,{icon:"logo-".concat(m.provider),label:m.provider}),w.appendChild(g.call(m,"download",d))}"fullscreen"===e&&w.appendChild(g.call(m,"fullscreen",T))}),this.isHTML5&&e.call(this,Se.getQualityOptions.call(this)),t.call(this),w},inject:function(){var i=this;if(this.config.loadSprite){var e=Be.getIconUrl.call(this);e.cors&&He(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var t=null;this.elements.controls=null;var n={id:this.id,seektime:this.config.seekTime,title:this.config.title},a=!0;V(this.config.controls)&&(this.config.controls=this.config.controls.call(this,n)),this.config.controls||(this.config.controls=[]),W(this.config.controls)||R(this.config.controls)?t=this.config.controls:(t=Be.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Ke.getLabel.call(this)}),a=!1);function s(e){var a=e;return Object.entries(n).forEach(function(e){var t=g(e,2),i=t[0],n=t[1];a=Ne(a,"{".concat(i,"}"),n)}),a}var r;if(a&&(R(this.config.controls)?t=s(t):W(t)&&(t.innerHTML=s(t.innerHTML))),R(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),W(r)||(r=this.elements.container),r[W(t)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",t),W(this.elements.controls)||Be.findElements.call(this),!z(this.elements.buttons)){var o=function(e){var t=i.config.classNames.controlPressed;Object.defineProperty(e,"pressed",{enumerable:!0,get:function(){return le(e,t)},set:function(){oe(e,t,0<arguments.length&&void 0!==arguments[0]&&arguments[0])}})};Object.values(this.elements.buttons).filter(Boolean).forEach(function(e){B(e)||U(e)?Array.from(e).filter(Boolean).forEach(o):o(e)})}if(X.isEdge&&Q(r),this.config.tooltips.controls){var l=this.config,c=l.classNames,u=l.selectors,d="".concat(u.controls.wrapper," ").concat(u.labels," .").concat(c.hidden),h=ue.call(this,d);Array.from(h).forEach(function(e){oe(e,i.config.classNames.hidden,!1),oe(e,i.config.classNames.tooltip,!0)})}}};function Ue(e,t){var i=e;if(!(1<arguments.length&&void 0!==t)||t){var n=document.createElement("a");n.href=i,i=n.href}try{return new URL(i)}catch(e){return null}}function We(e){var a=new URLSearchParams;return D(e)&&Object.entries(e).forEach(function(e){var t=g(e,2),i=t[0],n=t[1];a.set(i,n)}),a}function ze(){}var Ke={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!fe.textTracks)B(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Be.setCaptionsMenu.call(this);else{if(W(this.elements.captions)||(this.elements.captions=ee("div",se(this.config.selectors.captions)),s=this.elements.captions,r=this.elements.wrapper,W(s)&&W(r)&&r.parentNode.insertBefore(s,r.nextSibling)),X.isIE&&window.URL){var e=this.media.querySelectorAll("track");Array.from(e).forEach(function(t){var e=t.getAttribute("src"),i=Ue(e);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&qe(e,"blob").then(function(e){t.setAttribute("src",window.URL.createObjectURL(e))}).catch(function(){ie(t)})})}var t=Pe((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(function(e){return e.split("-")[0]})),i=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===i&&(i=g(t,1)[0]);var n=this.storage.get("captions");if(M(n)||(n=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:n,language:i,languages:t}),this.isHTML5){var a=this.config.captions.update?"addtrack removetrack":"removetrack";ve.call(this,this.media.textTracks,a,Ke.update.bind(this))}setTimeout(Ke.update.bind(this),0)}var s,r},update:function(){var t=this,e=Ke.getTracks.call(this,!0),i=this.captions,n=i.active,a=i.language,s=i.meta,r=i.currentTrackNode,o=Boolean(e.find(function(e){return e.language===a}));this.isHTML5&&this.isVideo&&e.filter(function(e){return!s.get(e)}).forEach(function(e){t.debug.log("Track added",e),s.set(e,{default:"showing"===e.mode}),e.mode="hidden",ve.call(t,e,"cuechange",function(){return Ke.updateCues.call(t)})}),(o&&this.language!==a||!e.includes(r))&&(Ke.setLanguage.call(this,a),Ke.toggle.call(this,n&&o)),oe(this.elements.container,this.config.classNames.captions.enabled,!z(e)),(this.config.controls||[]).includes("settings")&&this.config.settings.includes("captions")&&Be.setCaptionsMenu.call(this)},toggle:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var i=this.captions.toggled,n=this.config.classNames.captions.active,a=H(e)?!i:e;if(a!==i){if(t||(this.captions.active=a,this.storage.set({captions:a})),!this.language&&a&&!t){var s=Ke.getTracks.call(this),r=Ke.findTrack.call(this,[this.captions.language].concat(o(this.captions.languages)),!0);return this.captions.language=r.language,void Ke.set.call(this,s.indexOf(r))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=a),oe(this.elements.container,n,a),this.captions.toggled=a,Be.updateSetting.call(this,"captions"),we.call(this,this.media,a?"captionsenabled":"captionsdisabled")}}},set:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=Ke.getTracks.call(this);if(-1!==e)if(F(e))if(e in i){if(this.captions.currentTrack!==e){var n=i[this.captions.currentTrack=e],a=(n||{}).language;this.captions.currentTrackNode=n,Be.updateSetting.call(this,"captions"),t||(this.captions.language=a,this.storage.set({language:a})),this.isVimeo&&this.embed.enableTextTrack(a),we.call(this,this.media,"languagechange")}Ke.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&Ke.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else Ke.toggle.call(this,!1,t)},setLanguage:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(R(e)){var i=e.toLowerCase();this.captions.language=i;var n=Ke.getTracks.call(this),a=Ke.findTrack.call(this,[i]);Ke.set.call(this,n.indexOf(a),t)}else this.debug.warn("Invalid language argument",e)},getTracks:function(){var t=this,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return Array.from((this.media||{}).textTracks||[]).filter(function(e){return!t.isHTML5||i||t.captions.meta.has(e)}).filter(function(e){return["captions","subtitles"].includes(e.kind)})},findTrack:function(e){function i(e){return Number((t.captions.meta.get(e)||{}).default)}var n,t=this,a=1<arguments.length&&void 0!==arguments[1]&&arguments[1],s=Ke.getTracks.call(this),r=Array.from(s).sort(function(e,t){return i(t)-i(e)});return e.every(function(t){return!(n=r.find(function(e){return e.language===t}))}),n||(a?r[0]:void 0)},getCurrentTrack:function(){return Ke.getTracks.call(this)[this.currentTrack]},getLabel:function(e){var t=e;return!I(t)&&fe.textTracks&&this.captions.toggled&&(t=Ke.getCurrentTrack.call(this)),I(t)?z(t.label)?z(t.language)?Le("enabled",this.config):e.language.toUpperCase():t.label:Le("disabled",this.config)},updateCues:function(e){if(this.supported.ui)if(W(this.elements.captions))if(H(e)||Array.isArray(e)){var t=e;if(!t){var i=Ke.getCurrentTrack.call(this);t=Array.from((i||{}).activeCues||[]).map(function(e){return e.getCueAsHTML()}).map(Ie)}var n=t.map(function(e){return e.trim()}).join("\n");if(n!==this.elements.captions.innerHTML){ne(this.elements.captions);var a=ee("span",se(this.config.selectors.caption));a.innerHTML=n,this.elements.captions.appendChild(a),we.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",e);else this.debug.warn("No captions element to render to")}},Ye={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.5.10/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/v2/video/{0}.json"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,sidedock:!1,controls:!1,referrerPolicy:null},youtube:{noCookie:!1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1}},Qe="picture-in-picture",Xe={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Je=(e(Ze,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):ze}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):ze}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):ze}}]),Ze),$e=(e(Ge,[{key:"onChange",value:function(){if(this.enabled){var e=this.player.elements.buttons.fullscreen;W(e)&&(e.pressed=this.active),we.call(this.player,this.target,this.active?"enterfullscreen":"exitfullscreen",!0)}}},{key:"toggleFallback",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(e?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",oe(this.target,this.player.config.classNames.fullscreen.fallback,e),X.isIos){var t=document.head.querySelector('meta[name="viewport"]'),i="viewport-fit=cover";t||(t=document.createElement("meta")).setAttribute("name","viewport");var n=R(t.content)&&t.content.includes(i);e?(this.cleanupViewport=!n,n||(t.content+=",".concat(i))):this.cleanupViewport&&(t.content=t.content.split(",").filter(function(e){return e.trim()!==i}).join(","))}this.onChange()}},{key:"trapFocus",value:function(e){if(!X.isIos&&this.active&&"Tab"===e.key&&9===e.keyCode){var t=document.activeElement,i=ue.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),n=g(i,1)[0],a=i[i.length-1];t!==a||e.shiftKey?t===n&&e.shiftKey&&(a.focus(),e.preventDefault()):(n.focus(),e.preventDefault())}}},{key:"update",value:function(){var e;this.enabled?(e=this.forceFallback?"Fallback (forced)":Ge.native?"Native":"Fallback",this.player.debug.log("".concat(e," fullscreen enabled"))):this.player.debug.log("Fullscreen not supported and fallback disabled"),oe(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(X.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():!Ge.native||this.forceFallback?this.toggleFallback(!0):this.prefix?z(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen({navigationUI:"hide"}))}},{key:"exit",value:function(){if(this.enabled)if(X.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),this.player.play();else if(!Ge.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!z(this.prefix)){var e="moz"===this.prefix?"Cancel":"Exit";document["".concat(this.prefix).concat(e).concat(this.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"usingNative",get:function(){return Ge.native&&!this.forceFallback}},{key:"enabled",get:function(){return(Ge.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){return!!this.enabled&&(!Ge.native||this.forceFallback?le(this.target,this.player.config.classNames.fullscreen.fallback):(this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement)===this.target)}},{key:"target",get:function(){return X.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(V(document.exitFullscreen))return"";var t="";return["webkit","moz","ms"].some(function(e){return!(!V(document["".concat(e,"ExitFullscreen")])&&!V(document["".concat(e,"CancelFullScreen")])||(t=e,0))}),t}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),Ge);function Ge(e){var t=this;c(this,Ge),this.player=e,this.prefix=Ge.prefix,this.property=Ge.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===e.config.fullscreen.fallback,ve.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),function(){t.onChange()}),ve.call(this.player,this.player.elements.container,"dblclick",function(e){W(t.player.elements.controls)&&t.player.elements.controls.contains(e.target)||t.toggle()}),ve.call(this,this.player.elements.container,"keydown",function(e){return t.trapFocus(e)}),this.update()}function Ze(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];c(this,Ze),this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}function et(a,e){var s=1<arguments.length&&void 0!==e?e:1;return new Promise(function(e,t){function i(){delete n.onload,delete n.onerror,(n.naturalWidth>=s?e:t)(n)}var n=new Image;Object.assign(n,{onload:i,onerror:i,src:a})})}var tt={addStyleHook:function(){oe(this.elements.container,this.config.selectors.container.replace(".",""),!0),oe(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void tt.toggleNativeControls.call(this,!0);W(this.elements.controls)||(Be.inject.call(this),this.listeners.controls()),tt.toggleNativeControls.call(this),this.isHTML5&&Ke.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Be.updateVolume.call(this),Be.timeUpdate.call(this),tt.checkPlaying.call(this),oe(this.elements.container,this.config.classNames.pip.supported,fe.pip&&this.isHTML5&&this.isVideo),oe(this.elements.container,this.config.classNames.airplay.supported,fe.airplay&&this.isHTML5),oe(this.elements.container,this.config.classNames.isIos,X.isIos),oe(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(function(){we.call(e,e.media,"ready")},0),tt.setTitle.call(this),this.poster&&tt.setPoster.call(this,this.poster,!1).catch(function(){}),this.config.duration&&Be.durationUpdate.call(this)},setTitle:function(){var t=Le("play",this.config);if(R(this.config.title)&&!z(this.config.title)&&(t+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach(function(e){e.setAttribute("aria-label",t)}),this.isEmbed){var e=de.call(this,"iframe");if(!W(e))return;var i=z(this.config.title)?"video":this.config.title,n=Le("frameTitle",this.config);e.setAttribute("title",n.replace("{title}",i))}},togglePoster:function(e){oe(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster:function(t){var i=this;return(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("poster",t),this.isHTML5?Promise.resolve(t):function(){var t=this;return new Promise(function(e){return t.ready?setTimeout(e,0):ve.call(t,t.elements.container,"ready",e)}).then(function(){})}.call(this).then(function(){return et(t)}).catch(function(e){throw t===i.poster&&tt.togglePoster.call(i,!1),e}).then(function(){if(t!==i.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(function(){return Object.assign(i.elements.poster.style,{backgroundImage:"url('".concat(t,"')"),backgroundSize:""}),tt.togglePoster.call(i,!0),t}))},checkPlaying:function(e){var t=this;oe(this.elements.container,this.config.classNames.playing,this.playing),oe(this.elements.container,this.config.classNames.paused,this.paused),oe(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(function(e){Object.assign(e,{pressed:t.playing}),e.setAttribute("aria-label",Le(t.playing?"pause":"play",t.config))}),N(e)&&"timeupdate"===e.type||tt.toggleControls.call(this)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(function(){oe(t.elements.container,t.config.classNames.loading,t.loading),tt.toggleControls.call(t)},this.loading?250:0)},toggleControls:function(e){var t=this.elements.controls;if(t&&this.config.hideControls){var i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||i))}}},it=(e(nt,[{key:"handleKey",value:function(e){var t=this.player,i=t.elements,n=e.keyCode?e.keyCode:e.which,a="keydown"===e.type,s=a&&n===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&F(n))if(a){var r=document.activeElement;if(W(r)){var o=t.config.selectors.editable;if(r!==i.inputs.seek&&ce(r,o))return;if(32===e.which&&ce(r,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(n)&&(e.preventDefault(),e.stopPropagation()),n){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:s||(t.currentTime=t.duration/10*(n-48));break;case 32:case 75:s||t.togglePlay();break;case 38:t.increaseVolume(.1);break;case 40:t.decreaseVolume(.1);break;case 77:s||(t.muted=!t.muted);break;case 39:t.forward();break;case 37:t.rewind();break;case 70:t.fullscreen.toggle();break;case 67:s||t.toggleCaptions();break;case 76:t.loop=!t.loop}27===n&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null}},{key:"toggleMenu",value:function(e){Be.toggleMenu.call(this.player,e)}},{key:"firstTouch",value:function(){var e=this.player,t=e.elements;e.touch=!0,oe(t.container,e.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(e){var t=this.player,i=t.elements;if(clearTimeout(this.focusTimer),"keydown"!==e.type||9===e.which){"keydown"===e.type&&(this.lastKeyDown=e.timeStamp);var n,a=e.timeStamp-this.lastKeyDown<=20;"focus"===e.type&&!a||(n=t.config.classNames.tabFocus,oe(ue.call(t,".".concat(n)),n,!1),this.focusTimer=setTimeout(function(){var e=document.activeElement;i.container.contains(e)&&oe(document.activeElement,t.config.classNames.tabFocus,!0)},10))}}},{key:"global",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this.player;t.config.keyboard.global&&ye.call(t,window,"keydown keyup",this.handleKey,e,!1),ye.call(t,document.body,"click",this.toggleMenu,e),ke.call(t,document.body,"touchstart",this.firstTouch),ye.call(t,document.body,"keydown focus blur",this.setTabFocus,e,!1,!0)}},{key:"container",value:function(){var o=this.player,e=o.config,r=o.elements,n=o.timers;function l(e){if(!e)return Ee.call(o);var t=r.container.getBoundingClientRect(),i=t.width,n=t.height;return Ee.call(o,"".concat(i,":").concat(n))}function c(){clearTimeout(n.resized),n.resized=setTimeout(l,50)}!e.keyboard.global&&e.keyboard.focused&&ve.call(o,r.container,"keydown keyup",this.handleKey,!1),ve.call(o,r.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",function(e){var t=r.controls;t&&"enterfullscreen"===e.type&&(t.pressed=!1,t.hover=!1);var i=0;["touchstart","touchmove","mousemove"].includes(e.type)&&(tt.toggleControls.call(o,!0),i=o.touch?3e3:2e3),clearTimeout(n.controls),n.controls=setTimeout(function(){return tt.toggleControls.call(o,!1)},i)}),ve.call(o,r.container,"enterfullscreen exitfullscreen",function(e){var t=o.fullscreen,i=t.target,n=t.usingNative;if(i===r.container&&(o.isEmbed||!z(o.config.ratio))){var a="enterfullscreen"===e.type,s=l(a);s.padding,function(e,t){if(o.isVimeo){var i=o.elements.wrapper.firstChild,n=g(e,2)[1],a=g(Ae.call(o),2),s=a[0],r=a[1];i.style.maxWidth=t?"".concat(n/r*s,"px"):null,i.style.margin=t?"0 auto":null}}(s.ratio,a),n||(a?ve.call(o,window,"resize",c):be.call(o,window,"resize",c))}})}},{key:"media",value:function(){var t=this,n=this.player,a=n.elements;if(ve.call(n,n.media,"timeupdate seeking seeked",function(e){return Be.timeUpdate.call(n,e)}),ve.call(n,n.media,"durationchange loadeddata loadedmetadata",function(e){return Be.durationUpdate.call(n,e)}),ve.call(n,n.media,"ended",function(){n.isHTML5&&n.isVideo&&n.config.resetOnEnd&&(n.restart(),n.pause())}),ve.call(n,n.media,"progress playing seeking seeked",function(e){return Be.updateProgress.call(n,e)}),ve.call(n,n.media,"volumechange",function(e){return Be.updateVolume.call(n,e)}),ve.call(n,n.media,"playing play pause ended emptied timeupdate",function(e){return tt.checkPlaying.call(n,e)}),ve.call(n,n.media,"waiting canplay seeked playing",function(e){return tt.checkLoading.call(n,e)}),n.supported.ui&&n.config.clickToPlay&&!n.isAudio){var i=de.call(n,".".concat(n.config.classNames.video));if(!W(i))return;ve.call(n,a.container,"click",function(e){([a.container,i].includes(e.target)||i.contains(e.target))&&(n.touch&&n.config.hideControls||(n.ended?(t.proxy(e,n.restart,"restart"),t.proxy(e,n.play,"play")):t.proxy(e,n.togglePlay,"play")))})}n.supported.ui&&n.config.disableContextMenu&&ve.call(n,a.wrapper,"contextmenu",function(e){e.preventDefault()},!1),ve.call(n,n.media,"volumechange",function(){n.storage.set({volume:n.volume,muted:n.muted})}),ve.call(n,n.media,"ratechange",function(){Be.updateSetting.call(n,"speed"),n.storage.set({speed:n.speed})}),ve.call(n,n.media,"qualitychange",function(e){Be.updateSetting.call(n,"quality",null,e.detail.quality)}),ve.call(n,n.media,"ready qualitychange",function(){Be.setDownloadUrl.call(n)});var e=n.config.events.concat(["keyup","keydown"]).join(" ");ve.call(n,n.media,e,function(e){var t=e.detail,i=void 0===t?{}:t;"error"===e.type&&(i=n.media.error),we.call(n,a.container,e.type,!0,i)})}},{key:"proxy",value:function(e,t,i){var n=this.player,a=n.config.listeners[i],s=!0;V(a)&&(s=a.call(n,e)),!1!==s&&V(t)&&t.call(n,e)}},{key:"bind",value:function(e,t,i,n){var a=this,s=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],r=this.player,o=r.config.listeners[n],l=V(o);ve.call(r,e,t,function(e){return a.proxy(e,i,n)},s&&!l)}},{key:"controls",value:function(){var n=this,o=this.player,a=o.elements,t=X.isIE?"change":"input";if(a.buttons.play&&Array.from(a.buttons.play).forEach(function(e){n.bind(e,"click",o.togglePlay,"play")}),this.bind(a.buttons.restart,"click",o.restart,"restart"),this.bind(a.buttons.rewind,"click",o.rewind,"rewind"),this.bind(a.buttons.fastForward,"click",o.forward,"fastForward"),this.bind(a.buttons.mute,"click",function(){o.muted=!o.muted},"mute"),this.bind(a.buttons.captions,"click",function(){return o.toggleCaptions()}),this.bind(a.buttons.download,"click",function(){we.call(o,o.media,"download")},"download"),this.bind(a.buttons.fullscreen,"click",function(){o.fullscreen.toggle()},"fullscreen"),this.bind(a.buttons.pip,"click",function(){o.pip="toggle"},"pip"),this.bind(a.buttons.airplay,"click",o.airplay,"airplay"),this.bind(a.buttons.settings,"click",function(e){e.stopPropagation(),e.preventDefault(),Be.toggleMenu.call(o,e)},null,!1),this.bind(a.buttons.settings,"keyup",function(e){var t=e.which;[13,32].includes(t)&&(13!==t?(e.preventDefault(),e.stopPropagation(),Be.toggleMenu.call(o,e)):Be.focusFirstMenuItem.call(o,null,!0))},null,!1),this.bind(a.settings.menu,"keydown",function(e){27===e.which&&Be.toggleMenu.call(o,e)}),this.bind(a.inputs.seek,"mousedown mousemove",function(e){var t=a.progress.getBoundingClientRect(),i=100/t.width*(e.pageX-t.left);e.currentTarget.setAttribute("seek-value",i)}),this.bind(a.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",function(e){var t=e.currentTarget,i=e.keyCode?e.keyCode:e.which;if(!x(e)||39===i||37===i){o.lastSeekTime=Date.now();var n=t.hasAttribute("play-on-seeked"),a=["mouseup","touchend","keyup"].includes(e.type);n&&a?(t.removeAttribute("play-on-seeked"),o.play()):!a&&o.playing&&(t.setAttribute("play-on-seeked",""),o.pause())}}),X.isIos){var e=ue.call(o,'input[type="range"]');Array.from(e).forEach(function(e){return n.bind(e,t,function(e){return Q(e.target)})})}this.bind(a.inputs.seek,t,function(e){var t=e.currentTarget,i=t.getAttribute("seek-value");z(i)&&(i=t.value),t.removeAttribute("seek-value"),o.currentTime=i/t.max*o.duration},"seek"),this.bind(a.progress,"mouseenter mouseleave mousemove",function(e){return Be.updateSeekTooltip.call(o,e)}),this.bind(a.progress,"mousemove touchmove",function(e){var t=o.previewThumbnails;t&&t.loaded&&t.startMove(e)}),this.bind(a.progress,"mouseleave touchend click",function(){var e=o.previewThumbnails;e&&e.loaded&&e.endMove(!1,!0)}),this.bind(a.progress,"mousedown touchstart",function(e){var t=o.previewThumbnails;t&&t.loaded&&t.startScrubbing(e)}),this.bind(a.progress,"mouseup touchend",function(e){var t=o.previewThumbnails;t&&t.loaded&&t.endScrubbing(e)}),X.isWebkit&&Array.from(ue.call(o,'input[type="range"]')).forEach(function(e){n.bind(e,"input",function(e){return Be.updateRangeFill.call(o,e.target)})}),o.config.toggleInvert&&!W(a.display.duration)&&this.bind(a.display.currentTime,"click",function(){0!==o.currentTime&&(o.config.invertTime=!o.config.invertTime,Be.timeUpdate.call(o))}),this.bind(a.inputs.volume,t,function(e){o.volume=e.target.value},"volume"),this.bind(a.controls,"mouseenter mouseleave",function(e){a.controls.hover=!o.touch&&"mouseenter"===e.type}),this.bind(a.controls,"mousedown mouseup touchstart touchend touchcancel",function(e){a.controls.pressed=["mousedown","touchstart"].includes(e.type)}),this.bind(a.controls,"focusin",function(){var e=o.config,t=o.timers;oe(a.controls,e.classNames.noTransition,!0),tt.toggleControls.call(o,!0),setTimeout(function(){oe(a.controls,e.classNames.noTransition,!1)},0);var i=n.touch?3e3:4e3;clearTimeout(t.controls),t.controls=setTimeout(function(){return tt.toggleControls.call(o,!1)},i)}),this.bind(a.inputs.volume,"wheel",function(e){var t=e.webkitDirectionInvertedFromDevice,i=g([e.deltaX,-e.deltaY].map(function(e){return t?-e:e}),2),n=i[0],a=i[1],s=Math.sign(Math.abs(n)>Math.abs(a)?n:a);o.increaseVolume(s/50);var r=o.media.volume;(1===s&&r<1||-1===s&&0<r)&&e.preventDefault()},"volume",!1)}}]),nt);function nt(e){c(this,nt),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}var at,st=((at={exports:{}}).exports=function(){var h=function(){},a={},l={},c={};function d(e,t){if(e){var i=c[e];if(l[e]=t,i)for(;i.length;)i[0](e,t),i.splice(0,1)}}function p(e,t){e.call&&(e={success:e}),t.length?(e.error||h)(t):(e.success||h)(e)}function m(i,n,a,s){var r,o,e=document,t=a.async,l=(a.numRetries||0)+1,c=a.before||h,u=i.replace(/[\?|#].*$/,""),d=i.replace(/^(css|img)!/,"");s=s||0,/(^css!|\.css$)/.test(u)?((o=e.createElement("link")).rel="stylesheet",o.href=d,(r="hideFocus"in o)&&o.relList&&(r=0,o.rel="preload",o.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(u)?(o=e.createElement("img")).src=d:((o=e.createElement("script")).src=i,o.async=void 0===t||t),!(o.onload=o.onerror=o.onbeforeload=function(e){var t=e.type[0];if(r)try{o.sheet.cssText.length||(t="e")}catch(e){18!=e.code&&(t="e")}if("e"==t){if((s+=1)<l)return m(i,n,a,s)}else if("preload"==o.rel&&"style"==o.as)return o.rel="stylesheet";n(i,t,e.defaultPrevented)})!==c(i,o)&&e.head.appendChild(o)}function t(e,t,i){var c,u;if(t&&t.trim&&(c=t),u=(c?i:t)||{},c){if(c in a)throw"LoadJS";a[c]=!0}function n(o,l){!function(e,t){var i,n,a=(e=e.push?e:[e]).length,s=a,r=[];for(i=function(e,t,i){if("e"==t&&r.push(e),"b"==t){if(!i)return;r.push(e)}var n;--a||(p(u,n=r),o&&p({success:o,error:l},n),d(c,n))},n=0;n<s;n++)m(e[n],i,t)}(e,u)}if(u.returnPromise)return new Promise(n);n()}return t.ready=function(e,o){return function(e){e=e.push?e:[e];var t,i,n,a=[],s=e.length,r=s;for(t=function(e,t){t.length&&a.push(e),--r||p(o,a)};s--;)i=e[s],(n=l[i])?t(i,n):(c[i]=c[i]||[]).push(t)}(e),t},t.done=function(e){d(e,[])},t.reset=function(){a={},l={},c={}},t.isDefined=function(e){return e in a},t}(),at.exports);function rt(i){return new Promise(function(e,t){st(i,{success:e,error:t})})}function ot(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,we.call(this,this.media,e?"play":"pause"))}var lt={setup:function(){var t=this;oe(t.elements.wrapper,t.config.classNames.embed,!0),t.options.speed=t.config.speed.options,Ee.call(t),D(window.Vimeo)?lt.ready.call(t):rt(t.config.urls.vimeo.sdk).then(function(){lt.ready.call(t)}).catch(function(e){t.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready:function(){var a=this,r=this,e=r.config.vimeo,t=We($({},{loop:r.config.loop.active,autoplay:r.autoplay,muted:r.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative},e)),i=r.media.getAttribute("src");z(i)&&(i=r.media.getAttribute(r.config.attributes.embed.id));var n,s=z(n=i)?null:!F(Number(n))&&n.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:n,o=ee("iframe"),l=Me(r.config.urls.vimeo.iframe,s,t);o.setAttribute("src",l),o.setAttribute("allowfullscreen",""),o.setAttribute("allowtransparency",""),o.setAttribute("allow","autoplay"),z(e.referrerPolicy)||o.setAttribute("referrerPolicy",e.referrerPolicy);var c=ee("div",{poster:r.poster,class:r.config.classNames.embedContainer});c.appendChild(o),r.media=ae(c,r.media),qe(Me(r.config.urls.vimeo.api,s),"json").then(function(e){if(!z(e)){var t=new URL(e[0].thumbnail_large);t.pathname="".concat(t.pathname.split("_")[0],".jpg"),tt.setPoster.call(r,t.href).catch(function(){})}}),r.embed=new window.Vimeo.Player(o,{autopause:r.config.autopause,muted:r.muted}),r.media.paused=!0,r.media.currentTime=0,r.supported.ui&&r.embed.disableTextTrack(),r.media.play=function(){return ot.call(r,!0),r.embed.play()},r.media.pause=function(){return ot.call(r,!1),r.embed.pause()},r.media.stop=function(){r.pause(),r.currentTime=0};var u=r.media.currentTime;Object.defineProperty(r.media,"currentTime",{get:function(){return u},set:function(e){var t=r.embed,i=r.media,n=r.paused,a=r.volume,s=n&&!t.hasPlayed;i.seeking=!0,we.call(r,i,"seeking"),Promise.resolve(s&&t.setVolume(0)).then(function(){return t.setCurrentTime(e)}).then(function(){return s&&t.pause()}).then(function(){return s&&t.setVolume(a)}).catch(function(){})}});var d=r.config.speed.selected;Object.defineProperty(r.media,"playbackRate",{get:function(){return d},set:function(e){r.embed.setPlaybackRate(e).then(function(){d=e,we.call(r,r.media,"ratechange")})}});var h=r.config.volume;Object.defineProperty(r.media,"volume",{get:function(){return h},set:function(e){r.embed.setVolume(e).then(function(){h=e,we.call(r,r.media,"volumechange")})}});var p=r.config.muted;Object.defineProperty(r.media,"muted",{get:function(){return p},set:function(e){var t=!!M(e)&&e;r.embed.setVolume(t?0:r.config.volume).then(function(){p=t,we.call(r,r.media,"volumechange")})}});var m,f=r.config.loop;Object.defineProperty(r.media,"loop",{get:function(){return f},set:function(e){var t=M(e)?e:r.config.loop.active;r.embed.setLoop(t).then(function(){f=t})}}),r.embed.getVideoUrl().then(function(e){m=e,Be.setDownloadUrl.call(r)}).catch(function(e){a.debug.warn(e)}),Object.defineProperty(r.media,"currentSrc",{get:function(){return m}}),Object.defineProperty(r.media,"ended",{get:function(){return r.currentTime===r.duration}}),Promise.all([r.embed.getVideoWidth(),r.embed.getVideoHeight()]).then(function(e){var t=g(e,2),i=t[0],n=t[1];r.embed.ratio=[i,n],Ee.call(a)}),r.embed.setAutopause(r.config.autopause).then(function(e){r.config.autopause=e}),r.embed.getVideoTitle().then(function(e){r.config.title=e,tt.setTitle.call(a)}),r.embed.getCurrentTime().then(function(e){u=e,we.call(r,r.media,"timeupdate")}),r.embed.getDuration().then(function(e){r.media.duration=e,we.call(r,r.media,"durationchange")}),r.embed.getTextTracks().then(function(e){r.media.textTracks=e,Ke.setup.call(r)}),r.embed.on("cuechange",function(e){var t=e.cues,i=(void 0===t?[]:t).map(function(e){return t=e.text,i=document.createDocumentFragment(),n=document.createElement("div"),i.appendChild(n),n.innerHTML=t,i.firstChild.innerText;var t,i,n});Ke.updateCues.call(r,i)}),r.embed.on("loaded",function(){r.embed.getPaused().then(function(e){ot.call(r,!e),e||we.call(r,r.media,"playing")}),W(r.embed.element)&&r.supported.ui&&r.embed.element.setAttribute("tabindex",-1)}),r.embed.on("bufferstart",function(){we.call(r,r.media,"waiting")}),r.embed.on("bufferend",function(){we.call(r,r.media,"playing")}),r.embed.on("play",function(){ot.call(r,!0),we.call(r,r.media,"playing")}),r.embed.on("pause",function(){ot.call(r,!1)}),r.embed.on("timeupdate",function(e){r.media.seeking=!1,u=e.seconds,we.call(r,r.media,"timeupdate")}),r.embed.on("progress",function(e){r.media.buffered=e.percent,we.call(r,r.media,"progress"),1===parseInt(e.percent,10)&&we.call(r,r.media,"canplaythrough"),r.embed.getDuration().then(function(e){e!==r.media.duration&&(r.media.duration=e,we.call(r,r.media,"durationchange"))})}),r.embed.on("seeked",function(){r.media.seeking=!1,we.call(r,r.media,"seeked")}),r.embed.on("ended",function(){r.media.paused=!0,we.call(r,r.media,"ended")}),r.embed.on("error",function(e){r.media.error=e,we.call(r,r.media,"error")}),setTimeout(function(){return tt.build.call(r)},0)}};function ct(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,we.call(this,this.media,e?"play":"pause"))}function ut(e,t){var i={};return e>t.width/t.height?(i.width=t.width,i.height=1/e*t.width):(i.height=t.height,i.width=e*t.height),i}var dt={setup:function(){var t=this;if(oe(this.elements.wrapper,this.config.classNames.embed,!0),D(window.YT)&&V(window.YT.Player))dt.ready.call(this);else{var e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){V(e)&&e(),dt.ready.call(t)},rt(this.config.urls.youtube.sdk).catch(function(e){t.debug.warn("YouTube API failed to load",e)})}},getTitle:function(e){var a=this;qe(Me(this.config.urls.youtube.api,e)).then(function(e){if(D(e)){var t=e.title,i=e.height,n=e.width;a.config.title=t,tt.setTitle.call(a),a.embed.ratio=[n,i]}Ee.call(a)}).catch(function(){Ee.call(a)})},ready:function(){var s=this,e=s.media&&s.media.getAttribute("id");if(z(e)||!e.startsWith("youtube-")){var t=s.media.getAttribute("src");z(t)&&(t=s.media.getAttribute(this.config.attributes.embed.id));var i,n,r=z(i=t)?null:i.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:i,a=(n=s.provider,"".concat(n,"-").concat(Math.floor(1e4*Math.random()))),o=ee("div",{id:a,poster:s.poster});s.media=ae(o,s.media);var l=function(e){return"https://i.ytimg.com/vi/".concat(r,"/").concat(e,"default.jpg")};et(l("maxres"),121).catch(function(){return et(l("sd"),121)}).catch(function(){return et(l("hq"))}).then(function(e){return tt.setPoster.call(s,e.src)}).then(function(e){e.includes("maxres")||(s.elements.poster.style.backgroundSize="cover")}).catch(function(){});var c=s.config.youtube;s.embed=new window.YT.Player(a,{videoId:r,host:c.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0,playerVars:$({},{autoplay:s.config.autoplay?1:0,hl:s.config.hl,controls:s.supported.ui?0:1,disablekb:1,playsinline:s.config.fullscreen.iosNative?0:1,cc_load_policy:s.captions.active?1:0,cc_lang_pref:s.config.captions.language,widget_referrer:window?window.location.href:null},c),events:{onError:function(e){if(!s.media.error){var t=e.data,i={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[t]||"An unknown error occured";s.media.error={code:t,message:i},we.call(s,s.media,"error")}},onPlaybackRateChange:function(e){var t=e.target;s.media.playbackRate=t.getPlaybackRate(),we.call(s,s.media,"ratechange")},onReady:function(e){if(!V(s.media.play)){var i=e.target;dt.getTitle.call(s,r),s.media.play=function(){ct.call(s,!0),i.playVideo()},s.media.pause=function(){ct.call(s,!1),i.pauseVideo()},s.media.stop=function(){i.stopVideo()},s.media.duration=i.getDuration(),s.media.paused=!0,s.media.currentTime=0,Object.defineProperty(s.media,"currentTime",{get:function(){return Number(i.getCurrentTime())},set:function(e){s.paused&&!s.embed.hasPlayed&&s.embed.mute(),s.media.seeking=!0,we.call(s,s.media,"seeking"),i.seekTo(e)}}),Object.defineProperty(s.media,"playbackRate",{get:function(){return i.getPlaybackRate()},set:function(e){i.setPlaybackRate(e)}});var t=s.config.volume;Object.defineProperty(s.media,"volume",{get:function(){return t},set:function(e){t=e,i.setVolume(100*t),we.call(s,s.media,"volumechange")}});var n=s.config.muted;Object.defineProperty(s.media,"muted",{get:function(){return n},set:function(e){var t=M(e)?e:n;i[(n=t)?"mute":"unMute"](),we.call(s,s.media,"volumechange")}}),Object.defineProperty(s.media,"currentSrc",{get:function(){return i.getVideoUrl()}}),Object.defineProperty(s.media,"ended",{get:function(){return s.currentTime===s.duration}});var a=i.getAvailablePlaybackRates();s.options.speed=a.filter(function(e){return s.config.speed.options.includes(e)}),s.supported.ui&&s.media.setAttribute("tabindex",-1),we.call(s,s.media,"timeupdate"),we.call(s,s.media,"durationchange"),clearInterval(s.timers.buffering),s.timers.buffering=setInterval(function(){s.media.buffered=i.getVideoLoadedFraction(),(null===s.media.lastBuffered||s.media.lastBuffered<s.media.buffered)&&we.call(s,s.media,"progress"),s.media.lastBuffered=s.media.buffered,1===s.media.buffered&&(clearInterval(s.timers.buffering),we.call(s,s.media,"canplaythrough"))},200),setTimeout(function(){return tt.build.call(s)},50)}},onStateChange:function(e){var t=e.target;switch(clearInterval(s.timers.playing),s.media.seeking&&[1,2].includes(e.data)&&(s.media.seeking=!1,we.call(s,s.media,"seeked")),e.data){case-1:we.call(s,s.media,"timeupdate"),s.media.buffered=t.getVideoLoadedFraction(),we.call(s,s.media,"progress");break;case 0:ct.call(s,!1),s.media.loop?(t.stopVideo(),t.playVideo()):we.call(s,s.media,"ended");break;case 1:s.config.autoplay||!s.media.paused||s.embed.hasPlayed?(ct.call(s,!0),we.call(s,s.media,"playing"),s.timers.playing=setInterval(function(){we.call(s,s.media,"timeupdate")},50),s.media.duration!==t.getDuration()&&(s.media.duration=t.getDuration(),we.call(s,s.media,"durationchange"))):s.media.pause();break;case 2:s.muted||s.embed.unMute(),ct.call(s,!1);break;case 3:we.call(s,s.media,"waiting")}we.call(s,s.elements.container,"statechange",!1,{code:e.data})}}})}}},ht={setup:function(){this.media?(oe(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),oe(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&oe(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=ee("div",{class:this.config.classNames.video}),G(this.media,this.elements.wrapper),this.isEmbed&&(this.elements.poster=ee("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster))),this.isHTML5?Se.setup.call(this):this.isYouTube?dt.setup.call(this):this.isVimeo&&lt.setup.call(this)):this.debug.warn("No media element found!")}},pt=(e(yt,[{key:"load",value:function(){var e=this;this.enabled&&(D(window.google)&&D(window.google.ima)?this.ready():rt(this.player.config.urls.googleIMA.sdk).then(function(){e.ready()}).catch(function(){e.trigger("error",new Error("Google IMA SDK failed to load"))}))}},{key:"ready",value:function(){var e=this;this.enabled||(this.manager&&this.manager.destroy(),this.elements.displayContainer&&this.elements.displayContainer.destroy(),this.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(function(){e.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){this.elements.container=ee("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.requestAds()}},{key:"requestAds",value:function(){var t=this,e=this.player.elements.container;try{this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(e){return t.onAdsManagerLoaded(e)},!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t.onAdError(e)},!1);var i=new google.ima.AdsRequest;i.adTagUrl=this.tagUrl,i.linearAdSlotWidth=e.offsetWidth,i.linearAdSlotHeight=e.offsetHeight,i.nonLinearAdSlotWidth=e.offsetWidth,i.nonLinearAdSlotHeight=e.offsetHeight,i.forceNonLinearFullSlot=!1,i.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(i)}catch(t){this.onAdError(t)}}},{key:"pollCountdown",value:function(){var i=this;if(!(0<arguments.length&&void 0!==arguments[0]&&arguments[0]))return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(function(){var e=Ve(Math.max(i.manager.getRemainingTime(),0)),t="".concat(Le("advertisement",i.player.config)," - ").concat(e);i.elements.container.setAttribute("data-badge-text",t)},100)}},{key:"onAdsManagerLoaded",value:function(e){var t=this;if(this.enabled){var i=new google.ima.AdsRenderingSettings;i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.enablePreloading=!0,this.manager=e.getAdsManager(this.player,i),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t.onAdError(e)}),Object.keys(google.ima.AdEvent.Type).forEach(function(e){t.manager.addEventListener(google.ima.AdEvent.Type[e],function(e){return t.onAdEvent(e)})}),this.trigger("loaded")}}},{key:"addCuePoints",value:function(){var a=this;z(this.cuePoints)||this.cuePoints.forEach(function(e){if(0!==e&&-1!==e&&e<a.player.duration){var t=a.player.elements.progress;if(W(t)){var i=100/a.player.duration*e,n=ee("span",{class:a.player.config.classNames.cues});n.style.left="".concat(i.toString(),"%"),t.appendChild(n)}}})}},{key:"onAdEvent",value:function(e){var t,i=this,n=this.player.elements.container,a=e.getAd(),s=e.getAdData();switch(t=e.type,we.call(i.player,i.player.media,"ads".concat(t.replace(/_/g,"").toLowerCase())),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),a.isLinear()||(a.width=n.offsetWidth,a.height=n.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.loadAds();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:s.adError&&this.player.debug.warn("Non-fatal ad error: ".concat(s.adError.getMessage()))}}},{key:"onAdError",value:function(e){this.cancel(),this.player.debug.warn("Ads error",e)}},{key:"listeners",value:function(){var n,a=this,e=this.player.elements.container;this.player.on("canplay",function(){a.addCuePoints()}),this.player.on("ended",function(){a.loader.contentComplete()}),this.player.on("timeupdate",function(){n=a.player.currentTime}),this.player.on("seeked",function(){var i=a.player.currentTime;z(a.cuePoints)||a.cuePoints.forEach(function(e,t){n<e&&e<i&&(a.manager.discardAdBreak(),a.cuePoints.splice(t,1))})}),window.addEventListener("resize",function(){a.manager&&a.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"play",value:function(){var t=this,e=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then(function(){t.manager.setVolume(t.player.volume),t.elements.displayContainer.initialize();try{t.initialized||(t.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),t.manager.start()),t.initialized=!0}catch(e){t.onAdError(e)}}).catch(function(){})}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,this.player.media.play()}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var t=this;this.managerPromise.then(function(){t.manager&&t.manager.destroy(),t.managerPromise=new Promise(function(e){t.on("loaded",e),t.player.debug.log(t.manager)}),t.requestAds()}).catch(function(){})}},{key:"trigger",value:function(e){for(var t=this,i=arguments.length,n=new Array(1<i?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];var s=this.events[e];B(s)&&s.forEach(function(e){V(e)&&e.apply(t,n)})}},{key:"on",value:function(e,t){return B(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this}},{key:"startSafetyTimer",value:function(e,t){var i=this;this.player.debug.log("Safety timer invoked from: ".concat(t)),this.safetyTimer=setTimeout(function(){i.cancel(),i.clearSafetyTimer("startSafetyTimer()")},e)}},{key:"clearSafetyTimer",value:function(e){H(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){var e=this.config;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!z(e.publisherId)||L(e.tagUrl))}},{key:"tagUrl",get:function(){var e=this.config;if(L(e.tagUrl))return e.tagUrl;var t={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(We(t))}}]),yt),mt=(e(gt,[{key:"load",value:function(){var e=this;this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(function(){e.enabled&&(e.render(),e.determineContainerAutoSizing(),e.loaded=!0)})}},{key:"getThumbnails",value:function(){var n=this;return new Promise(function(e){var t=n.player.config.previewThumbnails.src;if(z(t))throw new Error("Missing previewThumbnails.src config attribute");var i=(R(t)?[t]:t).map(function(e){return n.getThumbnail(e)});Promise.all(i).then(function(){n.thumbnails.sort(function(e,t){return e.height-t.height}),n.player.debug.log("Preview thumbnails",n.thumbnails),e()})})}},{key:"getThumbnail",value:function(s){var r=this;return new Promise(function(a){qe(s).then(function(e){var t,i={frames:(t=[],e.split(/\r\n\r\n|\n\n|\r\r/).forEach(function(e){var s={};e.split(/\r\n|\n|\r/).forEach(function(e){if(F(s.startTime)){if(!z(e.trim())&&z(s.text)){var t=e.trim().split("#xywh="),i=g(t,1);if(s.text=i[0],t[1]){var n=g(t[1].split(","),4);s.x=n[0],s.y=n[1],s.w=n[2],s.h=n[3]}}}else{var a=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);a&&(s.startTime=60*Number(a[1]||0)*60+60*Number(a[2])+Number(a[3])+Number("0.".concat(a[4])),s.endTime=60*Number(a[6]||0)*60+60*Number(a[7])+Number(a[8])+Number("0.".concat(a[9])))}}),s.text&&t.push(s)}),t),height:null,urlPrefix:""};i.frames[0].text.startsWith("/")||i.frames[0].text.startsWith("http://")||i.frames[0].text.startsWith("https://")||(i.urlPrefix=s.substring(0,s.lastIndexOf("/")+1));var n=new Image;n.onload=function(){i.height=n.naturalHeight,i.width=n.naturalWidth,r.thumbnails.push(i),a()},n.src=i.urlPrefix+i.frames[0].text})})}},{key:"startMove",value:function(e){if(this.loaded&&N(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t=this.player.elements.progress.getBoundingClientRect(),i=100/t.width*(e.pageX-t.left);this.seekTime=this.player.media.duration*(i/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=Ve(this.seekTime)}this.showImageAtCurrentTime()}}},{key:"endMove",value:function(){this.toggleThumbContainer(!1,!0)}},{key:"startScrubbing",value:function(e){!H(e.button)&&!1!==e.button&&0!==e.button||(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}},{key:"endScrubbing",value:function(){var e=this;this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):ke.call(this.player,this.player.media,"timeupdate",function(){e.mouseDown||e.toggleScrubbingContainer(!1)})}},{key:"listeners",value:function(){var e=this;this.player.on("play",function(){e.toggleThumbContainer(!1,!0)}),this.player.on("seeked",function(){e.toggleThumbContainer(!1)}),this.player.on("timeupdate",function(){e.lastTime=e.player.media.currentTime})}},{key:"render",value:function(){this.elements.thumb.container=ee("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=ee("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);var e=ee("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=ee("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.container.appendChild(e),W(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=ee("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}},{key:"destroy",value:function(){this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}},{key:"showImageAtCurrentTime",value:function(){var i=this;this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();var n=this.thumbnails[0].frames.findIndex(function(e){return i.seekTime>=e.startTime&&i.seekTime<=e.endTime}),e=0<=n,a=0;this.mouseDown||this.toggleThumbContainer(e),e&&(this.thumbnails.forEach(function(e,t){i.loadedImages.includes(e.frames[n].text)&&(a=t)}),n!==this.showingThumb&&(this.showingThumb=n,this.loadImage(a)))}},{key:"loadImage",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,i=this.showingThumb,n=this.thumbnails[t],a=n.urlPrefix,s=n.frames[i],r=n.frames[i].text,o=a+r;if(this.currentImageElement&&this.currentImageElement.dataset.filename===r)this.showImage(this.currentImageElement,s,t,i,r,!1),this.currentImageElement.dataset.index=i,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);var l=new Image;l.src=o,l.dataset.index=i,l.dataset.filename=r,this.showingThumbFilename=r,this.player.debug.log("Loading image: ".concat(o)),l.onload=function(){return e.showImage(l,s,t,i,r,!0)},this.loadingImage=l,this.removeOldImages(l)}}},{key:"showImage",value:function(e,t,i,n,a){var s=!(5<arguments.length&&void 0!==arguments[5])||arguments[5];this.player.debug.log("Showing thumb: ".concat(a,". num: ").concat(n,". qual: ").concat(i,". newimg: ").concat(s)),this.setImageSizeAndOffset(e,t),s&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(a)||this.loadedImages.push(a)),this.preloadNearby(n,!0).then(this.preloadNearby(n,!1)).then(this.getHigherQuality(i,e,t,a))}},{key:"removeOldImages",value:function(n){var a=this;Array.from(this.currentImageContainer.children).forEach(function(e){if("img"===e.tagName.toLowerCase()){var t=a.usingSprites?500:1e3;if(e.dataset.index!==n.dataset.index&&!e.dataset.deleting){e.dataset.deleting=!0;var i=a.currentImageContainer;setTimeout(function(){i.removeChild(e),a.player.debug.log("Removing thumb: ".concat(e.dataset.filename))},t)}}})}},{key:"preloadNearby",value:function(t){var o=this,i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return new Promise(function(r){setTimeout(function(){var a=o.thumbnails[0].frames[t].text;if(o.showingThumbFilename===a){var e;e=i?o.thumbnails[0].frames.slice(t):o.thumbnails[0].frames.slice(0,t).reverse();var s=!1;e.forEach(function(e){var t=e.text;if(t!==a&&!o.loadedImages.includes(t)){s=!0,o.player.debug.log("Preloading thumb filename: ".concat(t));var i=o.thumbnails[0].urlPrefix+t,n=new Image;n.src=i,n.onload=function(){o.player.debug.log("Preloaded thumb filename: ".concat(t)),o.loadedImages.includes(t)||o.loadedImages.push(t),r()}}}),s||r()}},300)})}},{key:"getHigherQuality",value:function(e,t,i,n){var a=this;if(e<this.thumbnails.length-1){var s=t.naturalHeight;this.usingSprites&&(s=i.h),s<this.thumbContainerHeight&&setTimeout(function(){a.showingThumbFilename===n&&(a.player.debug.log("Showing higher quality thumb for: ".concat(n)),a.loadImage(e+1))},300)}}},{key:"toggleThumbContainer",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"toggleScrubbingContainer",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"determineContainerAutoSizing",value:function(){(20<this.elements.thumb.imageContainer.clientHeight||20<this.elements.thumb.imageContainer.clientWidth)&&(this.sizeSpecifiedInCSS=!0)}},{key:"setThumbContainerSizeAndPos",value:function(){if(this.sizeSpecifiedInCSS){if(20<this.elements.thumb.imageContainer.clientHeight&&this.elements.thumb.imageContainer.clientWidth<20){var e=Math.floor(this.elements.thumb.imageContainer.clientHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.width="".concat(e,"px")}else if(this.elements.thumb.imageContainer.clientHeight<20&&20<this.elements.thumb.imageContainer.clientWidth){var t=Math.floor(this.elements.thumb.imageContainer.clientWidth/this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(t,"px")}}else{var i=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(this.thumbContainerHeight,"px"),this.elements.thumb.imageContainer.style.width="".concat(i,"px")}this.setThumbContainerPos()}},{key:"setThumbContainerPos",value:function(){var e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),i=this.elements.thumb.container,n=t.left-e.left+10,a=t.right-e.left-i.clientWidth-10,s=this.mousePosX-e.left-i.clientWidth/2;s<n&&(s=n),a<s&&(s=a),i.style.left="".concat(s,"px")}},{key:"setScrubbingContainerSize",value:function(){var e=ut(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}),t=e.width,i=e.height;this.elements.scrubbing.container.style.width="".concat(t,"px"),this.elements.scrubbing.container.style.height="".concat(i,"px")}},{key:"setImageSizeAndOffset",value:function(e,t){if(this.usingSprites){var i=this.thumbContainerHeight/t.h;e.style.height="".concat(e.naturalHeight*i,"px"),e.style.width="".concat(e.naturalWidth*i,"px"),e.style.left="-".concat(t.x*i,"px"),e.style.top="-".concat(t.y*i,"px")}}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?ut(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}).height:this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}]),gt),ft={insertElements:function(t,e){var i=this;R(e)?te(t,this.media,{src:e}):B(e)&&e.forEach(function(e){te(t,i.media,e)})},change:function(l){var c=this;J(l,"sources.length")?(Se.cancelRequests.call(this),this.destroy.call(this,function(){c.options.quality=[],ie(c.media),c.media=null,W(c.elements.container)&&c.elements.container.removeAttribute("class");var e=l.sources,t=l.type,i=g(e,1)[0],n=i.provider,a=void 0===n?Xe.html5:n,s=i.src,r="html5"===a?t:"div",o="html5"===a?{}:{src:s};Object.assign(c,{provider:a,type:t,supported:fe.check(t,a,c.config.playsinline),media:ee(r,o)}),c.elements.container.appendChild(c.media),M(l.autoplay)&&(c.config.autoplay=l.autoplay),c.isHTML5&&(c.config.crossorigin&&c.media.setAttribute("crossorigin",""),c.config.autoplay&&c.media.setAttribute("autoplay",""),z(l.poster)||(c.poster=l.poster),c.config.loop.active&&c.media.setAttribute("loop",""),c.config.muted&&c.media.setAttribute("muted",""),c.config.playsinline&&c.media.setAttribute("playsinline","")),tt.addStyleHook.call(c),c.isHTML5&&ft.insertElements.call(c,"source",e),c.config.title=l.title,ht.setup.call(c),c.isHTML5&&Object.keys(l).includes("tracks")&&ft.insertElements.call(c,"track",l.tracks),(c.isHTML5||c.isEmbed&&!c.supported.ui)&&tt.build.call(c),c.isHTML5&&c.media.load(),z(l.previewThumbnails)||(Object.assign(c.config.previewThumbnails,l.previewThumbnails),c.previewThumbnails&&c.previewThumbnails.loaded&&(c.previewThumbnails.destroy(),c.previewThumbnails=null),c.config.previewThumbnails.enabled&&(c.previewThumbnails=new mt(c))),c.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};function gt(e){c(this,gt),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}function yt(e){var i=this;c(this,yt),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(function(e,t){i.on("loaded",e),i.on("error",t)}),this.load()}var vt=(e(bt,[{key:"play",value:function(){var e=this;return V(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(function(){return e.ads.play()}).catch(function(){return e.media.play()}),this.media.play()):null}},{key:"pause",value:function(){return this.playing&&V(this.media.pause)?this.media.pause():null}},{key:"togglePlay",value:function(e){return(M(e)?e:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):V(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(e){this.currentTime-=F(e)?e:this.config.seekTime}},{key:"forward",value:function(e){this.currentTime+=F(e)?e:this.config.seekTime}},{key:"increaseVolume",value:function(e){var t=this.media.muted?0:this.volume;this.volume=t+(F(e)?e:0)}},{key:"decreaseVolume",value:function(e){this.increaseVolume(-e)}},{key:"toggleCaptions",value:function(e){Ke.toggle.call(this,e,!1)}},{key:"airplay",value:function(){fe.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(e){if(!this.supported.ui||this.isAudio)return!1;var t=le(this.elements.container,this.config.classNames.hideControls),i=void 0===e?void 0:!e,n=oe(this.elements.container,this.config.classNames.hideControls,i);if(n&&this.config.controls.includes("settings")&&!z(this.config.settings)&&Be.toggleMenu.call(this,!1),n!==t){var a=n?"controlshidden":"controlsshown";we.call(this,this.media,a)}return!n}},{key:"on",value:function(e,t){ve.call(this,this.elements.container,e,t)}},{key:"once",value:function(e,t){ke.call(this,this.elements.container,e,t)}},{key:"off",value:function(e,t){be(this.elements.container,e,t)}},{key:"destroy",value:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.ready){var n=function(){document.body.style.overflow="",t.embed=null,i?(Object.keys(t.elements).length&&(ie(t.elements.buttons.play),ie(t.elements.captions),ie(t.elements.controls),ie(t.elements.wrapper),t.elements.buttons.play=null,t.elements.captions=null,t.elements.controls=null,t.elements.wrapper=null),V(e)&&e()):(function(){this&&this.eventListeners&&(this.eventListeners.forEach(function(e){var t=e.element,i=e.type,n=e.callback,a=e.options;t.removeEventListener(i,n,a)}),this.eventListeners=[])}.call(t),ae(t.elements.original,t.elements.container),we.call(t,t.elements.original,"destroyed",!0),V(e)&&e.call(t.elements.original),t.ready=!1,setTimeout(function(){t.elements=null,t.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(tt.toggleNativeControls.call(this,!0),n()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&V(this.embed.destroy)&&this.embed.destroy(),n()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(n),setTimeout(n,200))}}},{key:"supports",value:function(e){return fe.mime.call(this,e)}},{key:"isHTML5",get:function(){return this.provider===Xe.html5}},{key:"isEmbed",get:function(){return this.isYouTube||this.isVimeo}},{key:"isYouTube",get:function(){return this.provider===Xe.youtube}},{key:"isVimeo",get:function(){return this.provider===Xe.vimeo}},{key:"isVideo",get:function(){return"video"===this.type}},{key:"isAudio",get:function(){return"audio"===this.type}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(e){if(this.duration){var t=F(e)&&0<e;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var e=this.media.buffered;return F(e)?e:e&&e.length&&0<this.duration?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=F(t)&&t!==1/0?t:0;return e||i}},{key:"volume",set:function(e){var t=e;R(t)&&(t=Number(t)),F(t)||(t=this.storage.get("volume")),F(t)||(t=this.config.volume),1<t&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!z(e)&&this.muted&&0<t&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(e){var t=e;M(t)||(t=this.storage.get("muted")),M(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(e){var t=this,i=null;F(e)&&(i=e),F(i)||(i=this.storage.get("speed")),F(i)||(i=this.config.speed.selected);var n=this.minimumSpeed,a=this.maximumSpeed;i=function(e,t,i){var n=0<arguments.length&&void 0!==e?e:0,a=1<arguments.length&&void 0!==t?t:0,s=2<arguments.length&&void 0!==i?i:255;return Math.min(Math.max(n,a),s)}(i,n,a),this.config.speed.selected=i,setTimeout(function(){t.media.playbackRate=i},0)},get:function(){return Number(this.media.playbackRate)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,o(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,o(this.options.speed)):this.isVimeo?2:16}},{key:"quality",set:function(e){var t,i,n=this.config.quality,a=this.options.quality;if(a.length){var s=[!z(e)&&Number(e),this.storage.get("quality"),n.selected,n.default].find(F),r=!0;if(!a.includes(s)){var o=(i=s,B(t=a)&&t.length?t.reduce(function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e}):null);this.debug.warn("Unsupported quality option: ".concat(s,", using ").concat(o," instead")),s=o,r=!1}n.selected=s,this.media.quality=s,r&&this.storage.set({quality:s})}},get:function(){return this.media.quality}},{key:"loop",set:function(e){var t=M(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(e){ft.change.call(this,e)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var e=this.config.urls.download;return L(e)?e:this.source},set:function(e){L(e)&&(this.config.urls.download=e,Be.setDownloadUrl.call(this))}},{key:"poster",set:function(e){this.isVideo?tt.setPoster.call(this,e,!1).catch(function(){}):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster"):null}},{key:"ratio",get:function(){if(!this.isVideo)return null;var e=Ce(Ae.call(this));return B(e)?e.join(":"):e},set:function(e){this.isVideo?R(e)&&Te(e)?(this.config.ratio=e,Ee.call(this)):this.debug.error("Invalid aspect ratio specified (".concat(e,")")):this.debug.warn("Aspect ratio can only be set for video")}},{key:"autoplay",set:function(e){var t=M(e)?e:this.config.autoplay;this.config.autoplay=t},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(e){Ke.set.call(this,e,!1)},get:function(){var e=this.captions,t=e.toggled,i=e.currentTrack;return t?i:-1}},{key:"language",set:function(e){Ke.setLanguage.call(this,e,!1)},get:function(){return(Ke.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(e){if(fe.pip){var t=M(e)?e:!this.pip;V(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?Qe:"inline"),V(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}},get:function(){return fe.pip?z(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Qe:null}}],[{key:"supported",value:function(e,t,i){return fe.check(e,t,i)}},{key:"loadSprite",value:function(e,t){return He(e,t)}},{key:"setup",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=null;return R(e)?i=Array.from(document.querySelectorAll(e)):U(e)?i=Array.from(e):B(e)&&(i=e.filter(W)),z(i)?null:i.map(function(e){return new bt(e,t)})}}]),bt);function bt(e,t){var i,n=this;if(c(this,bt),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=fe.touch,this.media=e,R(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||U(this.media)||B(this.media))&&(this.media=this.media[0]),this.config=$({},Ye,bt.defaults,t||{},function(){try{return JSON.parse(n.media.getAttribute("data-plyr-config"))}catch(e){return{}}}()),this.elements={container:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new Je(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",fe),!H(this.media)&&W(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(fe.check().api){var a=this.media.cloneNode(!0);a.autoplay=!1,this.elements.original=a;var s=this.media.tagName.toLowerCase(),r=null,o=null;switch(s){case"div":if(r=this.media.querySelector("iframe"),W(r)){if(o=Ue(r.getAttribute("src")),this.provider=(i=o.toString(),/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(i)?Xe.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(i)?Xe.vimeo:null),this.elements.container=this.media,this.media=r,this.elements.container.className="",o.search.length){var l=["1","true"];l.includes(o.searchParams.get("autoplay"))&&(this.config.autoplay=!0),l.includes(o.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=l.includes(o.searchParams.get("playsinline")),this.config.youtube.hl=o.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(z(this.provider)||!Object.keys(Xe).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type="video";break;case"video":case"audio":this.type=s,this.provider=Xe.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=fe.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new it(this),this.storage=new Oe(this),this.media.plyr=this,W(this.elements.container)||(this.elements.container=ee("div",{tabindex:0}),G(this.media,this.elements.container)),tt.addStyleHook.call(this),ht.setup.call(this),this.config.debug&&ve.call(this,this.elements.container,this.config.events.join(" "),function(e){n.debug.log("event: ".concat(e.type))}),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&tt.build.call(this),this.listeners.container(),this.listeners.global(),this.fullscreen=new $e(this),this.config.ads.enabled&&(this.ads=new pt(this)),this.isHTML5&&this.config.autoplay&&setTimeout(function(){return n.play()},10),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new mt(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return vt.defaults=JSON.parse(JSON.stringify(Ye)),vt});